<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Bootstrap 入门--类</title>
    <url>/2020/10/26/bootstrapABC/</url>
    <content><![CDATA[<h1 id="Bootstrap-类"><a href="#Bootstrap-类" class="headerlink" title="Bootstrap 类"></a>Bootstrap 类</h1><p>======================================<br>主要针对Bootstrap4.0</p>
<h2 id="栅格系统"><a href="#栅格系统" class="headerlink" title="栅格系统"></a>栅格系统</h2><ul>
<li><strong>.container</strong> 最基础容器</li>
<li><strong>.container-fluid</strong> 最基础容器</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>Extra small</th>
<th>Small</th>
<th>Medium</th>
<th>Large</th>
<th>Extra large</th>
</tr>
</thead>
<tbody><tr>
<td>.container</td>
<td>100%</td>
<td>540px</td>
<td>720px</td>
<td>960px</td>
<td>1140px</td>
</tr>
<tr>
<td>.container-sm</td>
<td>100%</td>
<td>540px</td>
<td>720px</td>
<td>960px</td>
<td>1140px</td>
</tr>
<tr>
<td>.container-md</td>
<td>100%</td>
<td>100%</td>
<td>720px</td>
<td>960px</td>
<td>1140px</td>
</tr>
<tr>
<td>.container-lg</td>
<td>100%</td>
<td>100%</td>
<td>100%</td>
<td>960px</td>
<td>1140px</td>
</tr>
<tr>
<td>.container-xl</td>
<td>100%</td>
<td>100%</td>
<td>100%</td>
<td>100%</td>
<td>1140px</td>
</tr>
<tr>
<td>.container-fluid</td>
<td>100%</td>
<td>100%</td>
<td>100%</td>
<td>100%</td>
<td>100%</td>
</tr>
</tbody></table>
<a id="more"></a>

<ul>
<li><strong>.row</strong> 栅格的包装器</li>
</ul>
<table>
  <thead>
    <tr>
      <th></th>
      <th class="text-center">
        Extra small<br>
        <small>&lt;576px</small>
      </th>
      <th class="text-center">
        Small<br>
        <small>≥576px</small>
      </th>
      <th class="text-center">
        Medium<br>
        <small>≥768px</small>
      </th>
      <th class="text-center">
        Large<br>
        <small>≥992px</small>
      </th>
      <th class="text-center">
        Extra large<br>
        <small>≥1200px</small>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th class="text-nowrap" scope="row">最大容器宽度</th>
      <td>None (auto)</td>
      <td>540px</td>
      <td>720px</td>
      <td>960px</td>
      <td>1140px</td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row">Class 前缀</th>
      <td><code>.col-</code></td>
      <td><code>.col-sm-</code></td>
      <td><code>.col-md-</code></td>
      <td><code>.col-lg-</code></td>
      <td><code>.col-xl-</code></td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row"># of columns</th>
      <td colspan="5">12</td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row">间隙</th>
      <td colspan="5">30px (15px on each side of a column)</td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row">嵌套</th>
      <td colspan="5">Yes</td>
    </tr>
    <tr>
      <th class="text-nowrap" scope="row">Column ordering</th>
      <td colspan="5">Yes</td>
    </tr>
  </tbody>
</table>

<p>row-cols- 1<del>12, 可以控制整体栅格<br>row-cols- sm</del>xl -1~12, 可以控制各尺寸时的整体栅格</p>
<h2 id="版式"><a href="#版式" class="headerlink" title="版式"></a>版式</h2><h3 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h3><h4 id="强调"><a href="#强调" class="headerlink" title="强调"></a>强调</h4><table>
<thead>
<tr>
<th>Class</th>
<th>功能</th>
<th>颜色</th>
</tr>
</thead>
<tbody><tr>
<td>.text-muted</td>
<td>提示</td>
<td>浅灰色</td>
</tr>
<tr>
<td>.text-primary</td>
<td>主要</td>
<td>蓝色</td>
</tr>
<tr>
<td>.text-success</td>
<td>成功</td>
<td>浅绿色</td>
</tr>
<tr>
<td>.text-info</td>
<td>通知</td>
<td>浅蓝色</td>
</tr>
<tr>
<td>.text-warning</td>
<td>警告</td>
<td>浅黄色</td>
</tr>
<tr>
<td>.text-danger</td>
<td>提示</td>
<td>浅红色</td>
</tr>
</tbody></table>
<h4 id="对齐"><a href="#对齐" class="headerlink" title="对齐"></a>对齐</h4><table>
<thead>
<tr>
<th>Class</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>.text-left</td>
<td>左对齐</td>
</tr>
<tr>
<td>.text-right</td>
<td>右对齐</td>
</tr>
<tr>
<td>.text-center</td>
<td>居中</td>
</tr>
</tbody></table>
<h4 id="缩略"><a href="#缩略" class="headerlink" title="缩略"></a>缩略</h4><p>abbr标签 配合 title属性</p>
<h3 id="按钮"><a href="#按钮" class="headerlink" title="按钮"></a>按钮</h3><p>.btn 按钮基础样式</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>功能</th>
<th>颜色</th>
</tr>
</thead>
<tbody><tr>
<td>.btn-primary</td>
<td>主要</td>
<td>蓝色</td>
</tr>
<tr>
<td>.btn-success</td>
<td>成功</td>
<td>浅绿色</td>
</tr>
<tr>
<td>.btn-info</td>
<td>通知</td>
<td>浅蓝色</td>
</tr>
<tr>
<td>.btn-warning</td>
<td>警告</td>
<td>浅黄色</td>
</tr>
<tr>
<td>.btn-danger</td>
<td>提示</td>
<td>浅红色</td>
</tr>
<tr>
<td>.btn-light</td>
<td>提示</td>
<td>浅灰色</td>
</tr>
<tr>
<td>.btn-dark</td>
<td>提示</td>
<td>黑色</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Class</th>
<th>大小</th>
</tr>
</thead>
<tbody><tr>
<td>.btn-lg</td>
<td>大号按钮</td>
</tr>
<tr>
<td>.btn-sm</td>
<td>小号按钮</td>
</tr>
<tr>
<td>.btn-xs</td>
<td>迷你按钮</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Class</th>
<th>状态</th>
</tr>
</thead>
<tbody><tr>
<td>.disabled</td>
<td>禁用</td>
</tr>
<tr>
<td>.active</td>
<td>激活</td>
</tr>
</tbody></table>
<h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><table>
<thead>
<tr>
<th>Class</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>.img-thumbnail</td>
<td>缩略图（添加边框）</td>
</tr>
<tr>
<td>.img-fluid</td>
<td>最大（原尺寸）</td>
</tr>
<tr>
<td>.rounded</td>
<td>圆角</td>
</tr>
</tbody></table>
<h3 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h3><h4 id="浮动"><a href="#浮动" class="headerlink" title="浮动"></a>浮动</h4><table>
<thead>
<tr>
<th>Class</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>.float-left</td>
<td>左浮动</td>
</tr>
<tr>
<td>.float-right</td>
<td>右浮动</td>
</tr>
<tr>
<td>.mx-auto d-block</td>
<td>居中</td>
</tr>
</tbody></table>
<h4 id="Vertical-alignment"><a href="#Vertical-alignment" class="headerlink" title="Vertical alignment"></a>Vertical alignment</h4><table>
<thead>
<tr>
<th>Class</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>.align-items-start</td>
<td>元素位于容器的开头</td>
</tr>
<tr>
<td>.align-items-center</td>
<td>元素位于容器的上下居中</td>
</tr>
<tr>
<td>.align-items-end</td>
<td>元素位于容器的底部</td>
</tr>
<tr>
<td>.justify-content-start</td>
<td>元素位于容器的开头</td>
</tr>
<tr>
<td>.justify-content-center</td>
<td>元素位于容器的中心</td>
</tr>
<tr>
<td>.justify-content-end</td>
<td>元素位于容器的结尾</td>
</tr>
<tr>
<td>.justify-content-around</td>
<td>元素位于周围有空白的容器内</td>
</tr>
<tr>
<td>.justify-content-between</td>
<td>元素位于两端对齐，项目之间的间隔都相等</td>
</tr>
</tbody></table>
<h3 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h3><table>
<thead>
<tr>
<th>Class</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>.close</td>
<td>关闭按钮</td>
</tr>
</tbody></table>
<h3 id="z-index"><a href="#z-index" class="headerlink" title="z-index"></a>z-index</h3><table>
<thead>
<tr>
<th>Class</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>$zindex-dropdown:</td>
<td>1000 !default;</td>
</tr>
<tr>
<td>$zindex-sticky:</td>
<td>1020 !default;</td>
</tr>
<tr>
<td>$zindex-fixed:</td>
<td>1030 !default;</td>
</tr>
<tr>
<td>$zindex-modal-backdrop:</td>
<td>1040 !default;</td>
</tr>
<tr>
<td>$zindex-modal:</td>
<td>1050 !default;</td>
</tr>
<tr>
<td>$zindex-popover:</td>
<td>1060 !default;</td>
</tr>
<tr>
<td>$zindex-tooltip:</td>
<td>1070 !default;</td>
</tr>
</tbody></table>
<h2 id="CSS组件"><a href="#CSS组件" class="headerlink" title="CSS组件"></a>CSS组件</h2><h3 id="下拉菜单"><a href="#下拉菜单" class="headerlink" title="下拉菜单"></a>下拉菜单</h3><p>下拉菜单必须放在 <code>dropdown</code> 类容器中</p>
<h4 id="button型"><a href="#button型" class="headerlink" title="button型"></a>button型</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"dropdown"</span>&gt;</span><br><span class="line">  &lt;button class=<span class="string">"btn btn-secondary dropdown-toggle"</span> <span class="built_in">type</span>=<span class="string">"button"</span> id=<span class="string">"dropdownMenuButton"</span> data-toggle=<span class="string">"dropdown"</span> aria-haspopup=<span class="string">"true"</span> aria-expanded=<span class="string">"false"</span>&gt;</span><br><span class="line">    Dropdown button</span><br><span class="line">  &lt;/button&gt;</span><br><span class="line">  &lt;div class=<span class="string">"dropdown-menu"</span> aria-labelledby=<span class="string">"dropdownMenuButton"</span>&gt;</span><br><span class="line">    &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Action&lt;/a&gt;</span><br><span class="line">    &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Another action&lt;/a&gt;</span><br><span class="line">    &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Something <span class="keyword">else</span> here&lt;/a&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="a标签型"><a href="#a标签型" class="headerlink" title="a标签型"></a>a标签型</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"dropdown"</span>&gt;</span><br><span class="line">  &lt;a class=<span class="string">"btn btn-secondary dropdown-toggle"</span> href=<span class="string">"#"</span> role=<span class="string">"button"</span> id=<span class="string">"dropdownMenuLink"</span> data-toggle=<span class="string">"dropdown"</span> aria-haspopup=<span class="string">"true"</span> aria-expanded=<span class="string">"false"</span>&gt;</span><br><span class="line">    Dropdown link</span><br><span class="line">  &lt;/a&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div class=<span class="string">"dropdown-menu"</span> aria-labelledby=<span class="string">"dropdownMenuLink"</span>&gt;</span><br><span class="line">    &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Action&lt;/a&gt;</span><br><span class="line">    &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Another action&lt;/a&gt;</span><br><span class="line">    &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Something <span class="keyword">else</span> here&lt;/a&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="按钮分割型"><a href="#按钮分割型" class="headerlink" title="按钮分割型"></a>按钮分割型</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!-- Example split danger button --&gt;</span><br><span class="line">&lt;div class=<span class="string">"btn-group"</span>&gt;</span><br><span class="line">  &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-danger"</span>&gt;Action&lt;/button&gt;</span><br><span class="line">  &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-danger dropdown-toggle dropdown-toggle-split"</span> data-toggle=<span class="string">"dropdown"</span> aria-haspopup=<span class="string">"true"</span> aria-expanded=<span class="string">"false"</span>&gt;</span><br><span class="line">    &lt;span class=<span class="string">"sr-only"</span>&gt;Toggle Dropdown&lt;/span&gt;</span><br><span class="line">  &lt;/button&gt;</span><br><span class="line">  &lt;div class=<span class="string">"dropdown-menu"</span>&gt;</span><br><span class="line">    &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Action&lt;/a&gt;</span><br><span class="line">    &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Another action&lt;/a&gt;</span><br><span class="line">    &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Something <span class="keyword">else</span> here&lt;/a&gt;</span><br><span class="line">    &lt;div class=<span class="string">"dropdown-divider"</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Separated link&lt;/a&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="上拉菜单"><a href="#上拉菜单" class="headerlink" title="上拉菜单"></a>上拉菜单</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!-- Default dropup button --&gt;</span><br><span class="line">&lt;div class=<span class="string">"btn-group dropup"</span>&gt;</span><br><span class="line">  &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary dropdown-toggle"</span> data-toggle=<span class="string">"dropdown"</span> aria-haspopup=<span class="string">"true"</span> aria-expanded=<span class="string">"false"</span>&gt;</span><br><span class="line">    Dropup</span><br><span class="line">  &lt;/button&gt;</span><br><span class="line">  &lt;div class=<span class="string">"dropdown-menu"</span>&gt;</span><br><span class="line">    &lt;!-- Dropdown menu links --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Split dropup button --&gt;</span><br><span class="line">&lt;div class=<span class="string">"btn-group dropup"</span>&gt;</span><br><span class="line">  &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;</span><br><span class="line">    Split dropup</span><br><span class="line">  &lt;/button&gt;</span><br><span class="line">  &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary dropdown-toggle dropdown-toggle-split"</span> data-toggle=<span class="string">"dropdown"</span> aria-haspopup=<span class="string">"true"</span> aria-expanded=<span class="string">"false"</span>&gt;</span><br><span class="line">    &lt;span class=<span class="string">"sr-only"</span>&gt;Toggle Dropdown&lt;/span&gt;</span><br><span class="line">  &lt;/button&gt;</span><br><span class="line">  &lt;div class=<span class="string">"dropdown-menu"</span>&gt;</span><br><span class="line">    &lt;!-- Dropdown menu links --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="左菜单"><a href="#左菜单" class="headerlink" title="左菜单"></a>左菜单</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!-- Default dropleft button --&gt;</span><br><span class="line">&lt;div class=<span class="string">"btn-group dropleft"</span>&gt;</span><br><span class="line">  &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary dropdown-toggle"</span> data-toggle=<span class="string">"dropdown"</span> aria-haspopup=<span class="string">"true"</span> aria-expanded=<span class="string">"false"</span>&gt;</span><br><span class="line">    Dropleft</span><br><span class="line">  &lt;/button&gt;</span><br><span class="line">  &lt;div class=<span class="string">"dropdown-menu"</span>&gt;</span><br><span class="line">    &lt;!-- Dropdown menu links --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Split dropleft button --&gt;</span><br><span class="line">&lt;div class=<span class="string">"btn-group"</span>&gt;</span><br><span class="line">  &lt;div class=<span class="string">"btn-group dropleft"</span> role=<span class="string">"group"</span>&gt;</span><br><span class="line">    &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary dropdown-toggle dropdown-toggle-split"</span> data-toggle=<span class="string">"dropdown"</span> aria-haspopup=<span class="string">"true"</span> aria-expanded=<span class="string">"false"</span>&gt;</span><br><span class="line">      &lt;span class=<span class="string">"sr-only"</span>&gt;Toggle Dropleft&lt;/span&gt;</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">    &lt;div class=<span class="string">"dropdown-menu"</span>&gt;</span><br><span class="line">      &lt;!-- Dropdown menu links --&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;</span><br><span class="line">    Split dropleft</span><br><span class="line">  &lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="右菜单"><a href="#右菜单" class="headerlink" title="右菜单"></a>右菜单</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!-- Default dropright button --&gt;</span><br><span class="line">&lt;div class=<span class="string">"btn-group dropright"</span>&gt;</span><br><span class="line">  &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary dropdown-toggle"</span> data-toggle=<span class="string">"dropdown"</span> aria-haspopup=<span class="string">"true"</span> aria-expanded=<span class="string">"false"</span>&gt;</span><br><span class="line">    Dropright</span><br><span class="line">  &lt;/button&gt;</span><br><span class="line">  &lt;div class=<span class="string">"dropdown-menu"</span>&gt;</span><br><span class="line">    &lt;!-- Dropdown menu links --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Split dropright button --&gt;</span><br><span class="line">&lt;div class=<span class="string">"btn-group dropright"</span>&gt;</span><br><span class="line">  &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;</span><br><span class="line">    Split dropright</span><br><span class="line">  &lt;/button&gt;</span><br><span class="line">  &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary dropdown-toggle dropdown-toggle-split"</span> data-toggle=<span class="string">"dropdown"</span> aria-haspopup=<span class="string">"true"</span> aria-expanded=<span class="string">"false"</span>&gt;</span><br><span class="line">    &lt;span class=<span class="string">"sr-only"</span>&gt;Toggle Dropright&lt;/span&gt;</span><br><span class="line">  &lt;/button&gt;</span><br><span class="line">  &lt;div class=<span class="string">"dropdown-menu"</span>&gt;</span><br><span class="line">    &lt;!-- Dropdown menu links --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="自定义菜单（Form，text）"><a href="#自定义菜单（Form，text）" class="headerlink" title="自定义菜单（Form，text）"></a>自定义菜单（Form，text）</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"dropdown-menu"</span>&gt;</span><br><span class="line">  &lt;form class=<span class="string">"px-4 py-3"</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">"form-group"</span>&gt;</span><br><span class="line">      &lt;label <span class="keyword">for</span>=<span class="string">"exampleDropdownFormEmail1"</span>&gt;Email address&lt;/label&gt;</span><br><span class="line">      &lt;input <span class="built_in">type</span>=<span class="string">"email"</span> class=<span class="string">"form-control"</span> id=<span class="string">"exampleDropdownFormEmail1"</span> placeholder=<span class="string">"email@example.com"</span>&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=<span class="string">"form-group"</span>&gt;</span><br><span class="line">      &lt;label <span class="keyword">for</span>=<span class="string">"exampleDropdownFormPassword1"</span>&gt;Password&lt;/label&gt;</span><br><span class="line">      &lt;input <span class="built_in">type</span>=<span class="string">"password"</span> class=<span class="string">"form-control"</span> id=<span class="string">"exampleDropdownFormPassword1"</span> placeholder=<span class="string">"Password"</span>&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=<span class="string">"form-group"</span>&gt;</span><br><span class="line">      &lt;div class=<span class="string">"form-check"</span>&gt;</span><br><span class="line">        &lt;input <span class="built_in">type</span>=<span class="string">"checkbox"</span> class=<span class="string">"form-check-input"</span> id=<span class="string">"dropdownCheck"</span>&gt;</span><br><span class="line">        &lt;label class=<span class="string">"form-check-label"</span> <span class="keyword">for</span>=<span class="string">"dropdownCheck"</span>&gt;</span><br><span class="line">          Remember me</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;button <span class="built_in">type</span>=<span class="string">"submit"</span> class=<span class="string">"btn btn-primary"</span>&gt;Sign <span class="keyword">in</span>&lt;/button&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line">  &lt;div class=<span class="string">"dropdown-divider"</span>&gt;&lt;/div&gt;</span><br><span class="line">  &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;New around here? Sign up&lt;/a&gt;</span><br><span class="line">  &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Forgot password?&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="下拉菜单选项"><a href="#下拉菜单选项" class="headerlink" title="下拉菜单选项"></a>下拉菜单选项</h4><p>可以控制按钮和菜单之间的距离</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"d-flex"</span>&gt;</span><br><span class="line">  &lt;div class=<span class="string">"dropdown mr-1"</span>&gt;</span><br><span class="line">    &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary dropdown-toggle"</span> id=<span class="string">"dropdownMenuOffset"</span> data-toggle=<span class="string">"dropdown"</span> aria-haspopup=<span class="string">"true"</span> aria-expanded=<span class="string">"false"</span> data-offset=<span class="string">"10,20"</span>&gt;</span><br><span class="line">      Offset</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">    &lt;div class=<span class="string">"dropdown-menu"</span> aria-labelledby=<span class="string">"dropdownMenuOffset"</span>&gt;</span><br><span class="line">      &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Action&lt;/a&gt;</span><br><span class="line">      &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Another action&lt;/a&gt;</span><br><span class="line">      &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Something <span class="keyword">else</span> here&lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=<span class="string">"btn-group"</span>&gt;</span><br><span class="line">    &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;Reference&lt;/button&gt;</span><br><span class="line">    &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary dropdown-toggle dropdown-toggle-split"</span> id=<span class="string">"dropdownMenuReference"</span> data-toggle=<span class="string">"dropdown"</span> aria-haspopup=<span class="string">"true"</span> aria-expanded=<span class="string">"false"</span> data-reference=<span class="string">"parent"</span>&gt;</span><br><span class="line">      &lt;span class=<span class="string">"sr-only"</span>&gt;Toggle Dropdown&lt;/span&gt;</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">    &lt;div class=<span class="string">"dropdown-menu"</span> aria-labelledby=<span class="string">"dropdownMenuReference"</span>&gt;</span><br><span class="line">      &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Action&lt;/a&gt;</span><br><span class="line">      &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Another action&lt;/a&gt;</span><br><span class="line">      &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Something <span class="keyword">else</span> here&lt;/a&gt;</span><br><span class="line">      &lt;div class=<span class="string">"dropdown-divider"</span>&gt;&lt;/div&gt;</span><br><span class="line">      &lt;a class=<span class="string">"dropdown-item"</span> href=<span class="string">"#"</span>&gt;Separated link&lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="相关class"><a href="#相关class" class="headerlink" title="相关class"></a>相关class</h4><table>
<thead>
<tr>
<th>Class</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>.active</td>
<td>激活状态</td>
</tr>
<tr>
<td>.disabled</td>
<td>禁用状态</td>
</tr>
<tr>
<td>.dropdown-menu-right（.dropdown-menu- 尺寸 -right）</td>
<td>右对齐</td>
</tr>
<tr>
<td>.dropdown-header</td>
<td>菜单标题</td>
</tr>
<tr>
<td>.dropdown-divider</td>
<td>菜单分割线</td>
</tr>
</tbody></table>
<h4 id="菜单的安装方法"><a href="#菜单的安装方法" class="headerlink" title="菜单的安装方法"></a>菜单的安装方法</h4><ol>
<li>添加 `data-toggle=”dropdown” 到链接或是按钮来创建一个菜单<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">  &lt;div class=<span class="string">"dropdown"</span>&gt;</span><br><span class="line">  &lt;button id=<span class="string">"dLabel"</span> <span class="built_in">type</span>=<span class="string">"button"</span> data-toggle=<span class="string">"dropdown"</span> aria-haspopup=<span class="string">"true"</span> aria-expanded=<span class="string">"false"</span>&gt;</span><br><span class="line">    Dropdown trigger</span><br><span class="line">  &lt;/button&gt;</span><br><span class="line">  &lt;div class=<span class="string">"dropdown-menu"</span> aria-labelledby=<span class="string">"dLabel"</span>&gt;</span><br><span class="line">    ...</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></li>
<li>添加js代码<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'.dropdown-toggle'</span>).dropdown()</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="按钮组"><a href="#按钮组" class="headerlink" title="按钮组"></a>按钮组</h3><h4 id="定义按钮组"><a href="#定义按钮组" class="headerlink" title="定义按钮组"></a>定义按钮组</h4><p>使用 <code>.btn-group</code>和一系列的a标签及按钮，组成一个按钮工具条</p>
<h4 id="基础样式"><a href="#基础样式" class="headerlink" title="基础样式"></a>基础样式</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"btn-group"</span> role=<span class="string">"group"</span> aria-label=<span class="string">"Basic example"</span>&gt;</span><br><span class="line">  &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;Left&lt;/button&gt;</span><br><span class="line">  &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;Middle&lt;/button&gt;</span><br><span class="line">  &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;Right&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h4 id="按钮工具栏"><a href="#按钮工具栏" class="headerlink" title="按钮工具栏"></a>按钮工具栏</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"btn-toolbar"</span> role=<span class="string">"toolbar"</span> aria-label=<span class="string">"Toolbar with button groups"</span>&gt;</span><br><span class="line">  &lt;div class=<span class="string">"btn-group mr-2"</span> role=<span class="string">"group"</span> aria-label=<span class="string">"First group"</span>&gt;</span><br><span class="line">    &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;1&lt;/button&gt;</span><br><span class="line">    &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;2&lt;/button&gt;</span><br><span class="line">    &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;3&lt;/button&gt;</span><br><span class="line">    &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;4&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=<span class="string">"btn-group mr-2"</span> role=<span class="string">"group"</span> aria-label=<span class="string">"Second group"</span>&gt;</span><br><span class="line">    &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;5&lt;/button&gt;</span><br><span class="line">    &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;6&lt;/button&gt;</span><br><span class="line">    &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;7&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=<span class="string">"btn-group"</span> role=<span class="string">"group"</span> aria-label=<span class="string">"Third group"</span>&gt;</span><br><span class="line">    &lt;button <span class="built_in">type</span>=<span class="string">"button"</span> class=<span class="string">"btn btn-secondary"</span>&gt;8&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="立式按钮"><a href="#立式按钮" class="headerlink" title="立式按钮"></a>立式按钮</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"btn-group-vertical"</span>&gt;</span><br><span class="line">  ...</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="组合"><a href="#组合" class="headerlink" title="组合"></a>组合</h4><p>可以根据自己的需要进行<br>按钮 + 菜单<br>按钮 + Form<br>各种形式的组合</p>
]]></content>
      <tags>
        <tag>Javascript</tag>
        <tag>CSS</tag>
        <tag>Bootstrap</tag>
        <tag>3</tag>
        <tag>4</tag>
        <tag>class</tag>
      </tags>
  </entry>
  <entry>
    <title>使用Nuxt.js与Contentful创建简单的可数据库管理博客</title>
    <url>/2018/11/29/ContentfuWithNuxtjs/</url>
    <content><![CDATA[<h1 id="使用Nuxt-js与Contentful创建简单的可数据库管理博客"><a href="#使用Nuxt-js与Contentful创建简单的可数据库管理博客" class="headerlink" title="使用Nuxt.js与Contentful创建简单的可数据库管理博客"></a>使用Nuxt.js与Contentful创建简单的可数据库管理博客</h1><p>让我们体验一下时下较流行的框架 Nuxt.js + Contentful的组合方式来创建个人博客。<br>本文将向您展示如何设置Contentful及Nuxt.js项目，以及Contentful对内容的管理方法</p>
<h2 id="涉及环境"><a href="#涉及环境" class="headerlink" title="涉及环境"></a>涉及环境</h2><p>Node V11.0.0<br>Npm  V6.4.1<br>Nuxt V2.3.4<br>Contentful V0.17.1</p>
<a id="more"></a>

<h2 id="Nuxt-js入门"><a href="#Nuxt-js入门" class="headerlink" title="Nuxt.js入门"></a>Nuxt.js入门</h2><p>利用npm进行安装Vue</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g vue-cli</span><br></pre></td></tr></table></figure>

<p>安装好后，你就可以使用 nuxt/starter模板来初始化新项目</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vue init nuxt/starter &lt;project-name&gt;</span><br></pre></td></tr></table></figure>

<p>完成后输入 npm install，等其结束后，可以输入npm run dev来运行Nuxt的默认项目了。<br>查看<a href="http://localhost:3000" target="_blank" rel="noopener">http://localhost:3000</a></p>
<h2 id="安装Contentful模型"><a href="#安装Contentful模型" class="headerlink" title="安装Contentful模型"></a>安装Contentful模型</h2><p>你可以利用npm进行安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i -g contentful-cli</span><br></pre></td></tr></table></figure>

<p>安装完毕后，你就可以去申请一个Contentful的账号了，<a href="https://www.contentful.com/" target="_blank" rel="noopener">网址</a><br>你完全可以使用自己的Github账号直接登陆，非常方便<br>使用以下命令连接你的Contentful账号，期间会叫你粘贴你的access token</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">contentful login</span><br></pre></td></tr></table></figure>

<p>好了，现在开始创建我们的第一个Contentful的数据空间吧</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">contentful space create --name <span class="string">'My Blog'</span></span><br></pre></td></tr></table></figure>

<p>执行完成后，你会在你的Contentful管理面板里看见新创建的空间，注意免费版最多创建两个数据空间<br>在自己的环境下选择相应的空间</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ contentful space use</span><br><span class="line">? Please select a space:</span><br><span class="line">  ...</span><br><span class="line">❯ My Blog (xxxxxxxxx)</span><br><span class="line">$ contentful space seed --template blog</span><br><span class="line"></span><br><span class="line">$ contentful space accesstoken create --name my-blog</span><br><span class="line">✨  Successfully created access token nuxt (1234567890xxxxxxxxxxx)</span><br></pre></td></tr></table></figure>

<p>这样就将Contentful和你的Nuxt.js关联在了一起。</p>
<h2 id="整合Contentful到Nuxt-js"><a href="#整合Contentful到Nuxt-js" class="headerlink" title="整合Contentful到Nuxt.js"></a>整合Contentful到Nuxt.js</h2><h3 id="安装Contentful-CDA-Javascript-SDK"><a href="#安装Contentful-CDA-Javascript-SDK" class="headerlink" title="安装Contentful CDA Javascript SDK"></a>安装Contentful CDA Javascript SDK</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save contentful</span><br></pre></td></tr></table></figure>

<p>Nuxt.js提供了插件功能，可以在服务器（静态预渲染）和客户端（动态重新渲染）上使用自定义代码。 幸运的是，JavaScript SDK基于axios，可以在Node.js和浏览器上下文中使用它。<br>要使用它，请在plugins目录中创建一个名为contentful.js的新文件。 此文件的目标是创建具有预定义环境变量的SDK客户端，我们将在引导过程中设置这些变量。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// ./plugins/contentful.js</span><br><span class="line"></span><br><span class="line">const contentful = require(<span class="string">'contentful'</span>)</span><br><span class="line">// use default environment config <span class="keyword">for</span> convenience</span><br><span class="line">// these will be <span class="built_in">set</span> via `env` property <span class="keyword">in</span> nuxt.config.js</span><br><span class="line">const config = &#123;</span><br><span class="line">  space: process.env.CTF_SPACE_ID,</span><br><span class="line">  accessToken: process.env.CTF_CDA_ACCESS_TOKEN</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// <span class="built_in">export</span> `createClient` to use it <span class="keyword">in</span> page components</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  <span class="function"><span class="title">createClient</span></span> () &#123;</span><br><span class="line">    <span class="built_in">return</span> contentful.createClient(config)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接着我们在根目录还要创建一个.contentful.json文件<br>你需要准备的是你的Contentful的space ID(CTF_SPACE_ID) 和 access token(CTF_CDA_ACCESS_TOKEN)<br>其他默认即可</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//.contentful.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"CTF_PERSON_ID"</span>: <span class="string">"15jwOBqpxqSAOy2eOO4S0m"</span>,</span><br><span class="line">  <span class="string">"CTF_BLOG_POST_TYPE_ID"</span>: <span class="string">"blogPost"</span>,</span><br><span class="line">  <span class="string">"CTF_SPACE_ID"</span>: <span class="string">"YOUR_SPACE_ID"</span>,</span><br><span class="line">  <span class="string">"CTF_CDA_ACCESS_TOKEN"</span>: <span class="string">"YOUR_ACCESS_TOKEN"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>并修改nuxt.config.js</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// ./nuxt.config.js</span><br><span class="line">const config = require(<span class="string">'./.contentful.json'</span>)</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  // ...</span><br><span class="line">  env: &#123;</span><br><span class="line">    CTF_SPACE_ID: config.CTF_SPACE_ID,</span><br><span class="line">    CTF_CDA_ACCESS_TOKEN: config.CTF_CDA_ACCESS_TOKEN,</span><br><span class="line">    CTF_PERSON_ID: config.CTF_PERSON_ID,</span><br><span class="line">    CTF_BLOG_POST_TYPE_ID: config.CTF_BLOG_POST_TYPE_ID</span><br><span class="line">  &#125;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>不像深究的可以直接照抄以上内容。</p>
<h3 id="获取数据并渲染页面"><a href="#获取数据并渲染页面" class="headerlink" title="获取数据并渲染页面"></a>获取数据并渲染页面</h3><p>修改pages/index.vue</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- render data of the person --&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123; person.fields.name &#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;!-- render blog posts --&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li v-for=<span class="string">"post in posts"</span> :key=<span class="string">"post.id"</span>&gt;</span><br><span class="line">        &#123;&#123; post.fields.title &#125;&#125;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import &#123;createClient&#125; from <span class="string">'~/plugins/contentful.js'</span></span><br><span class="line"></span><br><span class="line">  const client = createClient()</span><br><span class="line"></span><br><span class="line">  <span class="built_in">export</span> default &#123;</span><br><span class="line">    // `env` is available <span class="keyword">in</span> the context object</span><br><span class="line">    asyncData (&#123;env&#125;) &#123;</span><br><span class="line">      <span class="built_in">return</span> Promise.all([</span><br><span class="line">        // fetch the owner of the blog</span><br><span class="line">        client.getEntries(&#123;</span><br><span class="line">          <span class="string">'sys.id'</span>: env.CTF_PERSON_ID</span><br><span class="line">        &#125;),</span><br><span class="line">        // fetch all blog posts sorted by creation date</span><br><span class="line">        client.getEntries(&#123;</span><br><span class="line">          <span class="string">'content_type'</span>: env.CTF_BLOG_POST_TYPE_ID,</span><br><span class="line">          order: <span class="string">'-sys.createdAt'</span></span><br><span class="line">        &#125;)</span><br><span class="line">      ]).<span class="keyword">then</span>(([entries, posts]) =&gt; &#123;</span><br><span class="line">        // <span class="built_in">return</span> data that should be available</span><br><span class="line">        // <span class="keyword">in</span> the template</span><br><span class="line">        <span class="built_in">return</span> &#123;</span><br><span class="line">          person: entries.items[0],</span><br><span class="line">          posts: posts.items</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;).catch(console.error)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>这样我们就完成了全部的过程，快试试看到Contentful下创建自己的内容。不用重启Nuxt你就可以看到新内容了</p>
<p>需要金泰页面的，输入以下命令，默认的情况，这些页面会写入根目录下的dist文件夹内</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm run generate</span><br></pre></td></tr></table></figure>

<h3 id="创建自定义页面"><a href="#创建自定义页面" class="headerlink" title="创建自定义页面"></a>创建自定义页面</h3><p>在pages目录下创建test.vue文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;section class=<span class="string">"hero is-medium is-primary is-bold"</span>&gt;</span><br><span class="line">      &lt;div class=<span class="string">"hero-body"</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">"container"</span>&gt;</span><br><span class="line">          &lt;h1 class=<span class="string">"title"</span>&gt;</span><br><span class="line">            Welcome to the JavaScript SSR Blog.</span><br><span class="line">          &lt;/h1&gt;</span><br><span class="line">          &lt;h2 class=<span class="string">"subtitle"</span>&gt;</span><br><span class="line">            Hope you find something you like.</span><br><span class="line">          &lt;/h2&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">    &lt;Test :pageCont=<span class="string">"pageCont"</span>&gt;&lt;/Test&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import Test from <span class="string">'~/components/Test.vue'</span>  //引入Test.vue文件</span><br><span class="line">  import &#123;createClient&#125; from <span class="string">'~/plugins/contentful.js'</span></span><br><span class="line"></span><br><span class="line">  const client = createClient()</span><br><span class="line">  <span class="built_in">export</span> default &#123;</span><br><span class="line">    head: &#123;</span><br><span class="line">      title: <span class="string">'Test'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      Test</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">data</span></span> () &#123;</span><br><span class="line">      <span class="built_in">return</span> &#123;</span><br><span class="line">        pageCont: []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    asyncData (&#123; env &#125;) &#123;</span><br><span class="line">      <span class="built_in">return</span> client.getEntries(&#123;</span><br><span class="line">        <span class="string">'content_type'</span>: env.CTF_BLOG_POST_TYPE_ID[1]</span><br><span class="line">      &#125;).<span class="keyword">then</span>(entries =&gt; &#123;</span><br><span class="line">        <span class="built_in">return</span> &#123;</span><br><span class="line">          pageCont: entries.items</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;).catch(console.error)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>在components目录下创建Test.vue文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class=<span class="string">"section container"</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">"columns is-multiline"</span>&gt;</span><br><span class="line">      &lt;p&gt;&#123;&#123;pageCont&#125;&#125;&lt;/p&gt;&lt;!--可以产看所有节点内容，便于选择。完成后此处删除--&gt;</span><br><span class="line">      &lt;div v-for=<span class="string">"p in pageCont"</span>&gt;</span><br><span class="line">        &lt;b&gt;&#123;&#123;p.fields.id&#125;&#125;&lt;/b&gt;</span><br><span class="line">        &#123;&#123;p.fields.content_t&#125;&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="built_in">export</span> default &#123;</span><br><span class="line">    props: [<span class="string">'pageCont'</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>修改.contentful.json文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"CTF_PERSON_ID"</span>: <span class="string">"15jwOBqpxqSAOy2eOO4S0m"</span>,</span><br><span class="line">  <span class="string">"CTF_BLOG_POST_TYPE_ID"</span>: [<span class="string">"blogPost"</span>, <span class="string">"pageCont"</span>],</span><br><span class="line">  <span class="string">"CTF_SPACE_ID"</span>: <span class="string">"YOUR SPACE ID"</span>,</span><br><span class="line">  <span class="string">"CTF_CDA_ACCESS_TOKEN"</span>: <span class="string">"YOUR ACCESS KEY"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其他页面注意修改Javascript中的</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="string">'content_type'</span>: env.CTF_BLOG_POST_TYPE_ID</span><br></pre></td></tr></table></figure>

<p>这个部分，因为追加了Content Type，所以此处变为数组形式。</p>
<p>如果还想修改头部导航的话，可以添加相应的模板文件</p>
<h2 id="Contentful-管理"><a href="#Contentful-管理" class="headerlink" title="Contentful 管理"></a>Contentful 管理</h2><ol>
<li>以github账户登录Contentful</li>
<li>Content model下我们可以创建新的Content Type<br>a. Add Content type 输入相应的 name， Api Identifier, Description<br>b. 创建相应的Fields，根据自己的需求选择相应的Text或者数字等等。</li>
<li>Content选项卡下，我们可以创建我们响应的内容<br>a. Add entry会弹出下拉菜单，选择我们刚才制作的Content Type<br>b. 文本编辑状态，按照我们指定的规则，输入相应的内容。<br>c. 在Content列表下，我们可以看到刚才制作的内容。</li>
</ol>
]]></content>
      <tags>
        <tag>Javascript</tag>
        <tag>HTML5</tag>
        <tag>代码</tag>
        <tag>Nuxt</tag>
        <tag>Nodejs</tag>
        <tag>Contentful</tag>
      </tags>
  </entry>
  <entry>
    <title>利用VuePress和Netlify CMS创建一个简单的网站</title>
    <url>/2018/12/05/VuePressNetlifyCMS/</url>
    <content><![CDATA[<p><img src="/images/post/Vuepress.png" alt="VuePress"></p>
<h1 id="利用VuePress和Netlify-CMS创建一个简单的网站"><a href="#利用VuePress和Netlify-CMS创建一个简单的网站" class="headerlink" title="利用VuePress和Netlify CMS创建一个简单的网站"></a>利用VuePress和Netlify CMS创建一个简单的网站</h1><p>本文属于本人翻译其英文原稿及测试过程中遇到的问题总结而成的，请大家多提意见。可随意转载。</p>
<p>在本教程中，我将向您展示如何使用VuePress 和 Netlify CMS构建一个静态网站。 如果您不熟悉VuePres， 它是由Evan You(Vue的创始人)在Vue之上构建的静态网站生成器。与Nuxt.js不同的是，VuePress的主要关注点在于构建静态站点，该站点有自己的构造，并且自动负责许多的设置工作。<br>Netlify,一个针对静态站点的现代化平台，使用其CMS来管理静态站点，这使得任何人都可以通过编辑器轻松的管理网站内容。</p>
<a id="more"></a>

<h2 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h2><p>首先你要做的是克隆或下载我创建的Git仓库。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/andreliem/vuepress-netlify-cms</span><br></pre></td></tr></table></figure>

<p>克隆完后，您会发现其目录下包含如下的结构</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">├── LICENSE</span><br><span class="line">├── README.md</span><br><span class="line">├── docs</span><br><span class="line">│   ├── README.md</span><br><span class="line">│   ├── test.md</span><br><span class="line">│   └── welcome.md</span><br><span class="line">├── netlify.toml</span><br><span class="line">├── package.json</span><br><span class="line">└── yarn.lock</span><br></pre></td></tr></table></figure>

<p>让我们先解释一下这些文件的含义。</p>
<h3 id="nelify-toml"><a href="#nelify-toml" class="headerlink" title="nelify.toml"></a>nelify.toml</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[build]</span><br><span class="line">  <span class="built_in">command</span> = <span class="string">"yarn docs:build"</span></span><br><span class="line">  publish = <span class="string">"docs/.vuepress/dist/"</span></span><br></pre></td></tr></table></figure>

<p>此文件在部署Netlify的时候使用。Netlify从Github中提取代码，并运行yarn docs:build命令生成静态站点。发布完成后，publish 告诉你公共目录在那里启动你的站点。</p>
<h3 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"docs:dev"</span>: <span class="string">"vuepress dev docs"</span>,</span><br><span class="line">    <span class="string">"docs:build"</span>: <span class="string">"vuepress build docs"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"vuepress"</span>: <span class="string">"^0.9.0"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个文件是标准的VuePress设置，如果您遵循官方的VuePress安装指南安装的话，您将自动拥有这些设置。</p>
<h3 id="docs"><a href="#docs" class="headerlink" title="/docs"></a>/docs</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">├── docs</span><br><span class="line">│   ├── README.md</span><br><span class="line">│   ├── test.md</span><br><span class="line">│   └── welcome.md</span><br></pre></td></tr></table></figure>

<p>最后，docs文件夹包含实际的标记文件，这些文件将组成站点本身的内容。这些文件被提交给Github，Netlify CMS将通过一个CMS来处理这些文件，我们将在本教程结束前设置CMS。<br>如果查看这些文件，请注意README.md与其他两个文件不同，因为它是站点的主页文件。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>按照VuePress的建议，我们将使用yarn而不是npm来设置项目。<br>VuePress文档将告诉你为什么。</p>
<p>当将VuePress安装到以webpack 3.x作为依赖项的现有项目时，目前建议使用yarn而不是npm。 在这种情况下，npm无法生成正确的依赖关系树。(<a href="https://vuepress.vuejs.org/guide/getting-started.html" target="_blank" rel="noopener">https://vuepress.vuejs.org/guide/getting-started.html</a>)</p>
<p>开始</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn install</span><br></pre></td></tr></table></figure>

<p>全部安装完成后，我们花一些时间来查看项目中的目录 /docs/.vuepress。这个目录是Vue程序的核心。如果你要扩展VuePress，这里就是你要去的地方。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">├── components</span><br><span class="line">│   └── PostLayout.vue</span><br><span class="line">├── config.js</span><br><span class="line">├── dist</span><br><span class="line">└── public</span><br><span class="line">    ├── admin</span><br><span class="line">    │   ├── config.yml</span><br><span class="line">    │   └── index.html</span><br><span class="line">    └── images</span><br></pre></td></tr></table></figure>

<p>上面是.vuepress中的关键文件和目录。<br>components目录是我们可以存储自定义显示组件的地方，例如自定义布局视图。 我们不会在本教程中使用它。</p>
<h3 id="config-js"><a href="#config-js" class="headerlink" title="config.js"></a>config.js</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  title: <span class="string">'Netlify CMS + VuePress'</span>,</span><br><span class="line">  description: <span class="string">'Netlify + VuePress'</span>,</span><br><span class="line">  themeConfig: &#123;</span><br><span class="line">    docsDir: <span class="string">'docs'</span>,</span><br><span class="line">    repo: <span class="string">'andreliem/vuepress-netlify-cms'</span>,</span><br><span class="line">    sidebar: [</span><br><span class="line">      <span class="string">'/'</span>,</span><br><span class="line">      <span class="string">'/welcome'</span>,</span><br><span class="line">      <span class="string">'/test'</span></span><br><span class="line">    ],</span><br><span class="line">    nav: [</span><br><span class="line">      &#123;</span><br><span class="line">        text: <span class="string">'Admin'</span>,</span><br><span class="line">        link: <span class="string">'/admin/#/'</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此文件负责VuePress的大部分配置。 作为示例，sidebar将列出侧边栏显示的实际链接，nav负责顶部标题链接。 sidebar链接到docs根级别包含的markdown文件。 可以是博客文章或项目文档。<br>nav包含指向管理CMS的单个链接。 请注意，此管理部分存在于.vuepress/public/admin中。 公用文件夹是放置VuePress不生成的静态文件和资源的位置。 在这种情况下，我们添加了一些netlify特定代码来设置CMS的基本入口点。</p>
<p>让我们更详细地查看Netlify CMS的配置文件。</p>
<p><font color=red>注意</font> 想要通过Netlify CMS来管理自己的网站的话，需要修改此处repo的值， 将仓库名字修改为自己的Github仓库位置 USER/REPO</p>
<h3 id="config-yml"><a href="#config-yml" class="headerlink" title="config.yml"></a>config.yml</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">backend:</span><br><span class="line">  name: github</span><br><span class="line">  repo: andreliem/vuepress-netlify-cms</span><br><span class="line">  branch: master <span class="comment"># Branch to update (optional; defaults to master)</span></span><br><span class="line">media_folder: <span class="string">"docs/.vuepress/public/images"</span></span><br><span class="line">public_folder: <span class="string">"docs/.vuepress/dist/"</span></span><br><span class="line">collections:</span><br><span class="line">  - name: <span class="string">"doc"</span> <span class="comment"># Used in routes, e.g., /admin/collections/blog</span></span><br><span class="line">    label: <span class="string">"Doc"</span> <span class="comment"># Used in the UI</span></span><br><span class="line">    folder: <span class="string">"docs"</span> <span class="comment"># The path to the folder where the documents are stored</span></span><br><span class="line">    create: <span class="literal">true</span> <span class="comment"># Allow users to create new documents in this collection</span></span><br><span class="line">    slug: <span class="string">"&#123;&#123;slug&#125;&#125;"</span> <span class="comment"># Filename template, e.g., YYYY-MM-DD-title.md</span></span><br><span class="line">    fields: <span class="comment"># The fields for each document, usually in front matter</span></span><br><span class="line">      - &#123;label: <span class="string">"Title"</span>, name: <span class="string">"title"</span>, widget: <span class="string">"string"</span>&#125;</span><br><span class="line">      - &#123;label: <span class="string">"Body"</span>, name: <span class="string">"body"</span>, widget: <span class="string">"markdown"</span>&#125;</span><br></pre></td></tr></table></figure>

<p>这里有很多内容，我建议你阅读Netlify CMS入门指南。<br>以下快速概述。<br>backend 定义了我们的内容存储的位置，在这种情况下，我们将它存储在Github master上的相同名称的repo（仓库）中。<br>media_folder 告诉Netlify存储图像的位置。 我们将它们存储在VuePress希望存储静态资产的公共文件夹中。<br>collections 定义了我们网站上的内容类型。 如果您有使用过WordPress的经验，请将其视为自定义帖子类型。 这是个相当简单的事情，我们可以定义一些关于这些项目的元信息，然后在编辑器中可以编辑的字段。 请注意，markdown文件遵循frontmatter格式。</p>
<p><font color=red>注意</font> 想要通过Netlify CMS来管理自己的网站的话，需要修改此处repo的值， 将仓库名字修改为自己的Github仓库位置 USER/REPO</p>
<h2 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h2><p>既然您已经了解了设置方法的基础知识，那么让我们通过以下方式尝试运行：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn docs:dev</span><br></pre></td></tr></table></figure>

<p>这时你可以在本地看到运行的结果了<br>在浏览器中输入 <a href="http://localhost:8082" target="_blank" rel="noopener">http://localhost:8082</a>  此处会根据服务器显示内容的不同而不同，请自己查看</p>
<p><img src="/images/post/vuepress_01.png" alt="展示图"></p>
<p>此页面引用我们已定义为主页的README.md文件。 这是一个特定于VuePress的约定，可让您轻松获得启动页面而无需任何设计工作。</p>
<h2 id="Admin"><a href="#Admin" class="headerlink" title="Admin"></a>Admin</h2><p>要在本地进行管理设置，您可以尝试单击管理链接。<br>如果你得到404，请尝试刷新，它应该打开netlify登录界面，如下所示。</p>
<p><img src="/images/post/vuepress_02.png" alt="展示图"></p>
<p>在Netlify上部署时不会发生此问题，很可能是因为默认的nginx设置。 （我不是服务器专家）<br>如果你尝试使用github登录它将无法工作，因为你需要使用Netlify和Github来启用访问。 以下部分将介绍如何进行设置：</p>
<ol>
<li>netlify部署和托管</li>
<li>用于CMS访问的netlify标识</li>
<li>github到netlify访问</li>
</ol>
<p>在我们开始之前，假设您有一个Netlify和Github帐户。 如果你不这样做，那么你首先需要这样做。<br>创建新的Netlify站点<br>登录Betlify.com并创建一个新站点。 然后选择项目的存储库，在我的例子中是您正在使用的存储库。 你想在github上为此创建一个新的repo。创建方法及上传方法请参考下面的文章<br><a href="https://www.ttwinbug.com/thread-9992-1-1.html" target="_blank" rel="noopener">Github入门</a><br><a href="https://www.ttwinbug.com/thread-9989-1-1.html" target="_blank" rel="noopener">Github基础</a></p>
<h3 id="定义部署设置"><a href="#定义部署设置" class="headerlink" title="定义部署设置"></a>定义部署设置</h3><p>接下来，我们告诉Netlify从哪个分支中提取，如何构建项目以及分发文件所在的位置。<br>一般会自动填好，记得检查好Repository是否是自己的</p>
<p><img src="/images/post/vuepress_03.png" alt="VuePress设置"></p>
<p>您应该测试使用Netlify部署您的应用程序并确保它有效。</p>
<h3 id="设置Netlify-Identity"><a href="#设置Netlify-Identity" class="headerlink" title="设置Netlify Identity"></a>设置Netlify Identity</h3><p>现在该网站已上线，我们需要允许人们通过CMS在线编辑内容。 这是我们需要为站点设置Netlify的身份设置的地方。 在主站点设置页面中，导航到底部附近的侧栏上找到的“身份”，然后确保启用身份，如下面的屏幕所示。</p>
<p><img src="/images/post/vuepress_04.png" alt="设置Netlify Identity"></p>
<h3 id="配置身份注册-Configure-Identity-Registration"><a href="#配置身份注册-Configure-Identity-Registration" class="headerlink" title="配置身份注册(Configure Identity Registration)"></a>配置身份注册(Configure Identity Registration)</h3><p>接下来，让我们定义谁可以注册CMS以及它们如何连接。 由于这只是一个演示，我们将对任何人“开放”，并使用“GitHub”作为我们的外部提供商进行身份验证。</p>
<p><img src="/images/post/vuepress_05.png" alt="配置身份注册"></p>
<h3 id="配置识别服务-Configure-Identify-Services"><a href="#配置识别服务-Configure-Identify-Services" class="headerlink" title="配置识别服务(Configure Identify Services)"></a>配置识别服务(Configure Identify Services)</h3><p>好的，所以我们告诉Netlify任何人都可以注册。 下一步是将服务或网关配置为Github，以便Github允许Netlify将其用作身份验证平台。 转到“Identity”下的“Services”部分。</p>
<p><img src="/images/post/vuepress_06.png" alt="配置身份注册"></p>
<p>首先，我们指定将用于CMS的存储库，同样也是同一个存储库。 我们将Roles留空并最后输入您必须从Github检索的Github访问令牌。 单击“Generate access token in GitHub”按钮以开始请求您的权限请求。</p>
<h3 id="使用Github设置OAuth应用程序"><a href="#使用Github设置OAuth应用程序" class="headerlink" title="使用Github设置OAuth应用程序"></a>使用Github设置OAuth应用程序</h3><p>最后，我们需要使用Github设置OAuth应用程序，这将使我们的VuePress Netlify应用程序通过Github进行身份验证并适当地重定向。 这与您为Facebook，Google等支持OAuth的任何第三方认证系统设置的流程相同……<br>在Github上，导航到Settings-&gt; Developer Settings，然后选择New OAuth App。</p>
<p><img src="/images/post/vuepress_07.png" alt="使用Github设置OAuth应用程序"></p>
<p>更新上面的表单字段，但显然有你自己的URL和描述细节。 回调URL应保持原样，并且在在线文档中不是特别容易找到。</p>
<p><font color=red>注意</font> 为了开通认证，我们还需要开启一步，首先在你刚才创建的Oauth应用处，复制Client ID及 Client Secret的代码， 再回到Netlify  转到 Settings → Access control → OAuth Install provider，将刚才的代码填入当相应的位置。</p>
<h3 id="开始测试吧"><a href="#开始测试吧" class="headerlink" title="开始测试吧"></a>开始测试吧</h3><p>完成后，您应该可以点击您网站上的管理员链接，并通过您的Github帐户登录。 如果一切顺利，那么您将看到如下的管理面板：</p>
<p><img src="/images/post/vuepress_08.png" alt="管理面板"></p>
<p>通过Netlify设置好的网站来访问，本地测试失败</p>
]]></content>
      <tags>
        <tag>Javascript</tag>
        <tag>HTML5</tag>
        <tag>代码</tag>
        <tag>Nodejs</tag>
        <tag>Vue</tag>
        <tag>VuePress</tag>
        <tag>Netlify</tag>
      </tags>
  </entry>
  <entry>
    <title>谷歌Chrome浏览器，自制改造主题帖</title>
    <url>/2018/09/06/google-chrome-themes/</url>
    <content><![CDATA[<h1 id="主题帖"><a href="#主题帖" class="headerlink" title="主题帖"></a>主题帖</h1><p>此贴只做个人爱好，收集一些Google Chrome浏览器主题，并做一定修改。<br>不一定符合其他人的口味，所以也不做宣传。请看客，喜欢就下。不喜欢我也不负责修改。谢谢。</p>
<h2 id="Custom-Myself-v1-0"><a href="#Custom-Myself-v1-0" class="headerlink" title="Custom Myself v1.0"></a>Custom Myself v1.0</h2><p><img src="/images/post/google-theme-01.jpg" alt="Custom Myself -- Google Chrome theme"></p>
<p><a href="/download/chromethemes/theme0001.crx">下载文件</a></p>
<a id="more"></a>

<h2 id="Material-Simple-Dark-Grey-v2-6"><a href="#Material-Simple-Dark-Grey-v2-6" class="headerlink" title="Material Simple Dark Grey v2.6"></a>Material Simple Dark Grey v2.6</h2><p><img src="/images/post/google-theme-02.png" alt="Material Simple Dark Grey -- Google Chrome theme"></p>
<p>[下载文件](/download/chromethemes/Material Simple Dark Grey.crx)</p>
<h2 id="Morpheon-Dark-v5-0"><a href="#Morpheon-Dark-v5-0" class="headerlink" title="Morpheon Dark v5.0"></a>Morpheon Dark v5.0</h2><p><img src="/images/post/google-theme-03.png" alt="Material Simple Dark Grey -- Google Chrome theme"></p>
<p>[下载文件](/download/chromethemes/Morpheon Dark.crx)</p>
<h2 id="Cat-Taiki-Theme-v1-1"><a href="#Cat-Taiki-Theme-v1-1" class="headerlink" title="Cat Taiki Theme v1.1"></a>Cat Taiki Theme v1.1</h2><p><img src="/images/post/google-theme-04.jpg" alt="Cat Taiki Theme -- Google Chrome theme"></p>
<p>[下载文件](/download/chromethemes/Cat Taiki Theme.crx)</p>
]]></content>
      <tags>
        <tag>HTML5</tag>
        <tag>代码</tag>
        <tag>CSS3</tag>
        <tag>权威指南</tag>
      </tags>
  </entry>
  <entry>
    <title>大家好，这是我的第一篇Hexo文章</title>
    <url>/2018/01/09/hello-world/</url>
    <content><![CDATA[<p>这个域名的内容基本上与Git和Hexo相关</p>
<h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><h3 id="创建一个新的文章"><a href="#创建一个新的文章" class="headerlink" title="创建一个新的文章"></a>创建一个新的文章</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>更多详情请参考: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="运行服务器"><a href="#运行服务器" class="headerlink" title="运行服务器"></a>运行服务器</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br><span class="line">or </span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure>

<p>更多详情请参考: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="生成静态文件"><a href="#生成静态文件" class="headerlink" title="生成静态文件"></a>生成静态文件</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br><span class="line">or</span><br><span class="line">$ hexo g</span><br></pre></td></tr></table></figure>

<p>更多详情请参考: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="部署到远程站点"><a href="#部署到远程站点" class="headerlink" title="部署到远程站点"></a>部署到远程站点</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>更多详情请参考: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
<h3 id="清除缓存"><a href="#清除缓存" class="headerlink" title="清除缓存"></a>清除缓存</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo clear</span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>Javascript与jQuery技术精粹</title>
    <url>/2019/09/16/jsandjqueryessence/</url>
    <content><![CDATA[<h2 id="第一章-JavaScript基础篇"><a href="#第一章-JavaScript基础篇" class="headerlink" title="第一章 JavaScript基础篇"></a>第一章 JavaScript基础篇</h2><h3 id="缩略标记"><a href="#缩略标记" class="headerlink" title="缩略标记"></a>缩略标记</h3><ul>
<li>对象</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var car = new Object();</span><br><span class="line">car.color = <span class="string">'red'</span>;</span><br><span class="line">car.wheels = 4;</span><br><span class="line">car.hubcaps = <span class="string">'spinning'</span>;</span><br><span class="line">car.age = 4;</span><br></pre></td></tr></table></figure>

<p>👇</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var car = &#123;</span><br><span class="line">    color: <span class="string">'red'</span>,</span><br><span class="line">    wheels: 4,</span><br><span class="line">    hubcaps: <span class="string">'spinning'</span>,</span><br><span class="line">    age: 4</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<ul>
<li>数组</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var arrayN = new Array(<span class="string">'Transformers'</span>, <span class="string">'Transformers2'</span>, <span class="string">'Avatar'</span>, <span class="string">'Indiana Jones4'</span>);</span><br></pre></td></tr></table></figure>

<p>👇</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var arrayN = [<span class="string">'Transformers'</span>, <span class="string">'Transformers2'</span>, <span class="string">'Avatar'</span>, <span class="string">'Indiana Jones4'</span>];</span><br></pre></td></tr></table></figure>

<ul>
<li>三重标记</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var direction;</span><br><span class="line"><span class="keyword">if</span>(x &lt; 200&gt;)&#123;</span><br><span class="line">    direction = 1;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    direction = -1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>👇</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var direction = x &lt; 200 ? 1 : -1;</span><br></pre></td></tr></table></figure>

<h3 id="JSON-数据格式"><a href="#JSON-数据格式" class="headerlink" title="JSON 数据格式"></a>JSON 数据格式</h3><p>JSON 是 JavaScript Object Notation的缩写，使用JSON可以更方便的存储数据</p>
<p><strong>示例</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var band = &#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"The Red Hot Chili Peoppers"</span>,</span><br><span class="line">    <span class="string">"members"</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"name"</span>: <span class="string">"Anthony"</span>,</span><br><span class="line">            <span class="string">"role"</span>: <span class="string">"lead vocals"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"name"</span>: <span class="string">"xxxxx"</span>,</span><br><span class="line">            <span class="string">"role"</span>: <span class="string">"lead yyyy"</span></span><br><span class="line">        &#125;</span><br><span class="line">        ……</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JavaScript自带函数（数学，数组以及字符串函数）"><a href="#JavaScript自带函数（数学，数组以及字符串函数）" class="headerlink" title="JavaScript自带函数（数学，数组以及字符串函数）"></a>JavaScript自带函数（数学，数组以及字符串函数）</h3><p>自带的函数可以帮我们省略n多代码。</p>
<p>举例如 <em>sort(), Math.max(), split(), join()</em> </p>
<h3 id="事件代理"><a href="#事件代理" class="headerlink" title="事件代理"></a>事件代理</h3><p>当某一特定的元素或者其上DOM层的所有元素发生某一事件时，可以通过单一的处理程序<strong>对父元素</strong>进行处理来简化事件处理过程，而不是使用大量的程序。</p>
<h3 id="匿名函数和模块模式"><a href="#匿名函数和模块模式" class="headerlink" title="匿名函数和模块模式"></a>匿名函数和模块模式</h3><p>为了减少无用的全局变量，通常的解决办法就是创建匿名函数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var name = <span class="string">"Chris"</span>;</span><br><span class="line">var age = <span class="string">'34'</span>;</span><br><span class="line">var status = <span class="string">'single'</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">createMember</span></span>()&#123;</span><br><span class="line">    //[……]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">getMemberDetails</span></span>()&#123;</span><br><span class="line">    //[……]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>👇</p>
<p>匿名函数myApplication</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myApplication = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    var name = <span class="string">"Chris"</span>;</span><br><span class="line">    var age = <span class="string">'34'</span>;</span><br><span class="line">    var status = <span class="string">'single'</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">createMember</span></span>()&#123;</span><br><span class="line">        //[……]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">getMemberDetails</span></span>()&#123;</span><br><span class="line">        //[……]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure>

<p>👇</p>
<p>外部可调用时</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myApplication = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    var name = <span class="string">"Chris"</span>;</span><br><span class="line">    var age = <span class="string">'34'</span>;</span><br><span class="line">    var status = <span class="string">'single'</span>;</span><br><span class="line">    <span class="built_in">return</span>&#123;</span><br><span class="line">        <span class="keyword">function</span> <span class="function"><span class="title">createMember</span></span>()&#123;</span><br><span class="line">            //[……]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">function</span> <span class="function"><span class="title">getMemberDetails</span></span>()&#123;</span><br><span class="line">            //[……]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;();</span><br><span class="line">//myApplication.createMember() and myApplication.getMemeberDetails()可以工作。</span><br></pre></td></tr></table></figure>

<p>👇</p>
<p>揭示模块模式（更方便）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myApplication = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    var name = <span class="string">"Chris"</span>;</span><br><span class="line">    var age = <span class="string">'34'</span>;</span><br><span class="line">    var status = <span class="string">'single'</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">createMember</span></span>()&#123;</span><br><span class="line">        //[……]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">getMemberDetails</span></span>()&#123;</span><br><span class="line">        //[……]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span>&#123;</span><br><span class="line">        create: createMember,</span><br><span class="line">        get: getMemberDetails</span><br><span class="line">    &#125;</span><br><span class="line">&#125;();</span><br><span class="line">//myApplication.create() and myApplication.get()可以工作。</span><br></pre></td></tr></table></figure>

<h3 id="允许配置"><a href="#允许配置" class="headerlink" title="允许配置"></a>允许配置</h3><p>编程的最后阶段，为了使代码易于被其他开发人员使用和更改，添加配置功能，如</p>
<ul>
<li>CSS和ID名称</li>
<li>生成的字符串</li>
<li>数据</li>
<li>地点，语言等</li>
</ul>
<h3 id="与后台交互"><a href="#与后台交互" class="headerlink" title="与后台交互"></a>与后台交互</h3><p>Ajax + JSON-P</p>
<h3 id="库文件"><a href="#库文件" class="headerlink" title="库文件"></a>库文件</h3><p>YUI, jQuery, Dojo</p>
<h2 id="第二章-复查JavaScript代码的启示"><a href="#第二章-复查JavaScript代码的启示" class="headerlink" title="第二章 复查JavaScript代码的启示"></a>第二章 复查JavaScript代码的启示</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>复查可以帮助开发者发现各种错误，学习更多经验，更好的维护编码标准。</p>
<h3 id="哪里可以复查？"><a href="#哪里可以复查？" class="headerlink" title="哪里可以复查？"></a>哪里可以复查？</h3><ul>
<li>JSMentors</li>
<li>freenode IRC</li>
<li>Code Review</li>
<li>Twitter</li>
<li>GitHub</li>
</ul>
<h3 id="构造复查请求"><a href="#构造复查请求" class="headerlink" title="构造复查请求"></a>构造复查请求</h3><p><strong>找到有经验的人员</strong></p>
<ul>
<li>隔离出复查代码，确保其可运行级有完整的注释</li>
<li>使复查者能够查看演示更改代码</li>
<li>不要提交全部项目文件</li>
<li>标出可以改进的地方</li>
<li>有耐心</li>
</ul>
<h3 id="代码复查人员需要提供的信息"><a href="#代码复查人员需要提供的信息" class="headerlink" title="代码复查人员需要提供的信息"></a>代码复查人员需要提供的信息</h3><ul>
<li>复查代码应提供的内容</li>
</ul>
<ol>
<li>正确性</li>
<li>功能复杂性</li>
<li>目标一致性</li>
<li>代码可维护性</li>
<li>可扩缩性</li>
<li>维持编码风格</li>
</ol>
<ul>
<li>复查者守则</li>
</ul>
<ol>
<li>清晰的评论</li>
<li>提出不足</li>
<li>提供内容的详细资料</li>
<li>给出解决方案</li>
</ol>
<h3 id="协作代码复查"><a href="#协作代码复查" class="headerlink" title="协作代码复查"></a>协作代码复查</h3><h2 id="七步测试法"><a href="#七步测试法" class="headerlink" title="七步测试法"></a>七步测试法</h2><h3 id="问题的关键不在于你"><a href="#问题的关键不在于你" class="headerlink" title="问题的关键不在于你"></a>问题的关键不在于你</h3><p>不要仅及于你或客户开发，为使用你产品的用户开发，删减不可维护臃肿的内容，创建易于使用，便于维护的产品。</p>
<h3 id="七步测试法介绍"><a href="#七步测试法介绍" class="headerlink" title="七步测试法介绍"></a>七步测试法介绍</h3><ol>
<li>关闭JavaScript<br>网页是否能正常显示，功能是否能够实现（解决方案： 利用JavaScript为文件添加类，然后让所有的CSS依附于这个类）</li>
<li>怎样改变外观、感受和内容<br>尽量不将外观，文字等元素写入到JavaScript文档中。</li>
<li>最终产品的可用性和语义性</li>
<li>基本原理</li>
<li>与其他语言的交互性</li>
<li>维护人员是否专注</li>
<li>测试方案，升级维护是否简单易行</li>
</ol>
<h2 id="JavaScript十个古怪之处和秘密"><a href="#JavaScript十个古怪之处和秘密" class="headerlink" title="JavaScript十个古怪之处和秘密"></a>JavaScript十个古怪之处和秘密</h2><h3 id="数据类型及定义"><a href="#数据类型及定义" class="headerlink" title="数据类型及定义"></a>数据类型及定义</h3><ol>
<li>NULL是一个对象，但不能看作对象的实例，因为它什么也没有。</li>
<li>NaN是一个数字 </li>
<li>空数组==FALSE</li>
</ol>
<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3>]]></content>
      <tags>
        <tag>javascript</tag>
        <tag>编程</tag>
        <tag>jquery</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML5与CSS3权威指南，代码汇总</title>
    <url>/2018/08/24/html5css3-authoritative-guide/</url>
    <content><![CDATA[<h1 id="HTML5与CSS3权威指南，代码汇总"><a href="#HTML5与CSS3权威指南，代码汇总" class="headerlink" title="HTML5与CSS3权威指南，代码汇总"></a>HTML5与CSS3权威指南，代码汇总</h1><h2 id="Canvas-绘制矩形"><a href="#Canvas-绘制矩形" class="headerlink" title="Canvas 绘制矩形"></a>Canvas 绘制矩形</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"zh"</span> dir=<span class="string">"ltr"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line">  &lt;title&gt;HTML5, CSS3权威指南——canvas&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body onload=<span class="string">"draw('canvas')"</span>&gt;</span><br><span class="line">  &lt;article&gt;</span><br><span class="line">    &lt;h1&gt;canvas元素示例&lt;/h1&gt;</span><br><span class="line">    &lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"400"</span> height=<span class="string">"300"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">  &lt;/article&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">function</span> draw(id) &#123;</span><br><span class="line">      var canvas = document.getElementById(id);</span><br><span class="line">      <span class="keyword">if</span> (canvas == null) &#123;</span><br><span class="line">        <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      var context = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">      context.fillStyle = <span class="string">"#EEEEFF"</span>;</span><br><span class="line">      context.fillRect(0, 0, 400, 300);</span><br><span class="line">      context.fillStyle = <span class="string">"red"</span>;</span><br><span class="line">      context.strokeStyle = <span class="string">"blue"</span>;</span><br><span class="line">      context.lineWidth = 1;</span><br><span class="line">      context.fillRect(50, 50, 100, 100);</span><br><span class="line">      context.strokeRect(50, 50, 100, 100);</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/images/post/html5css3_post_01.jpg" alt="绘制矩形"></p>
<a id="more"></a>

<h2 id="Canvas-绘制圆形"><a href="#Canvas-绘制圆形" class="headerlink" title="Canvas 绘制圆形"></a>Canvas 绘制圆形</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"zh"</span> dir=<span class="string">"ltr"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line">  &lt;title&gt;HTML5, CSS3权威指南——canvas&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body onload=<span class="string">"draw('canvas')"</span>&gt;</span><br><span class="line">  &lt;article&gt;</span><br><span class="line">    &lt;h1&gt;canvas元素示例&lt;/h1&gt;</span><br><span class="line">    &lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"400"</span> height=<span class="string">"300"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">  &lt;/article&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">      <span class="keyword">function</span> draw(id) &#123;</span><br><span class="line">      var canvas = document.getElementById(id);</span><br><span class="line">      <span class="keyword">if</span> (canvas == null) &#123;</span><br><span class="line">        <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      var context = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">      context.fillStyle = <span class="string">"#EEEEFF"</span>;</span><br><span class="line">      context.fillRect(0, 0, 400, 300);</span><br><span class="line">      var n = 0;</span><br><span class="line">      <span class="keyword">for</span>(var i = 0; i &lt; 10; i++)&#123;</span><br><span class="line">        context.beginPath();</span><br><span class="line">        context.arc(i * 25, i * 25, i * 10, 0, Math.PI * 2, <span class="literal">true</span>);</span><br><span class="line">        context.closePath();</span><br><span class="line">        context.fillStyle = <span class="string">'rgba(255,0,0,.25)'</span>;</span><br><span class="line">        context.fill();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>arc()方法<em>创建弧/曲线， 其参数为(x, y, r, sAngle, eAngle, counterclockwise)。 x为x坐标， y为y坐标， r为半径， sAngle起始角， eAngle结束角 ，圆的起始角都为0， counterclockwise为顺时针还是逆时针</em></p>
<p><img src="/images/post/html5css3_post_02.jpg" alt="绘制圆形"></p>
<h2 id="绘制复杂图形"><a href="#绘制复杂图形" class="headerlink" title="绘制复杂图形"></a>绘制复杂图形</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"zh"</span> dir=<span class="string">"ltr"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line">  &lt;title&gt;HTML5, CSS3权威指南——canvas&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body onload=<span class="string">"draw('canvas')"</span>&gt;</span><br><span class="line">  &lt;article&gt;</span><br><span class="line">    &lt;h1&gt;canvas元素示例&lt;/h1&gt;</span><br><span class="line">    &lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"400"</span> height=<span class="string">"300"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">  &lt;/article&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">function</span> draw(id) &#123;</span><br><span class="line">      var canvas = document.getElementById(id);</span><br><span class="line">      <span class="keyword">if</span> (canvas == null) &#123;</span><br><span class="line">        <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      var context = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">      context.fillStyle = <span class="string">"#EEEEFF"</span>;</span><br><span class="line">      context.fillRect(0, 0, 400, 300);</span><br><span class="line">      var n = 0;</span><br><span class="line">      var dx = 150;</span><br><span class="line">      var dy = 150;</span><br><span class="line">      var s = 100;</span><br><span class="line">      context.beginPath();</span><br><span class="line">      context.fillStyle = <span class="string">'rgb(100,255,100)'</span>;</span><br><span class="line">      context.strokeStyle = <span class="string">'rgb(0,0,100)'</span>;</span><br><span class="line">      var x = Math.sin(0);</span><br><span class="line">      var y = Math.cos(0);</span><br><span class="line">      var dig = Math.PI / 15 * 11;</span><br><span class="line">      <span class="keyword">for</span>(var i=0; i&lt;30; i++)&#123;</span><br><span class="line">        var x = Math.sin(i * dig);</span><br><span class="line">        var y = Math.cos(i * dig);</span><br><span class="line">        context.lineTo(dx + x * s, dy + y * s);</span><br><span class="line">      &#125;</span><br><span class="line">      context.closePath();</span><br><span class="line">      context.fill();</span><br><span class="line">      context.stroke();</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/images/post/html5css3_post_03.jpg" alt="绘制复杂图形"></p>
<h2 id="绘制贝济埃曲线"><a href="#绘制贝济埃曲线" class="headerlink" title="绘制贝济埃曲线"></a>绘制贝济埃曲线</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"zh"</span> dir=<span class="string">"ltr"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line">  &lt;title&gt;HTML5, CSS3权威指南——canvas&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body onload=<span class="string">"draw('canvas')"</span>&gt;</span><br><span class="line">  &lt;article&gt;</span><br><span class="line">    &lt;h1&gt;canvas元素示例&lt;/h1&gt;</span><br><span class="line">    &lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"400"</span> height=<span class="string">"300"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">  &lt;/article&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">function</span> draw(id) &#123;</span><br><span class="line">      var canvas = document.getElementById(id);</span><br><span class="line">      <span class="keyword">if</span> (canvas == null) &#123;</span><br><span class="line">        <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      var context = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">      context.fillStyle = <span class="string">"#EEEEFF"</span>;</span><br><span class="line">      context.fillRect(0, 0, 400, 300);</span><br><span class="line">      var n = 0;</span><br><span class="line">      var dx = 150;</span><br><span class="line">      var dy = 150;</span><br><span class="line">      var s = 100;</span><br><span class="line">      context.beginPath();</span><br><span class="line">      context.globalCompositeOperation = <span class="string">'and'</span>;</span><br><span class="line">      context.fillStyle = <span class="string">'rgb(100,255,100)'</span>;</span><br><span class="line">      var x = Math.sin(0);</span><br><span class="line">      var y = Math.cos(0);</span><br><span class="line">      var dig = Math.PI / 15 * 11;</span><br><span class="line">      context.moveTo(dx, dy);</span><br><span class="line">      <span class="keyword">for</span>(var i=0; i&lt;30; i++)&#123;</span><br><span class="line">        var x = Math.sin(i * dig);</span><br><span class="line">        var y = Math.cos(i * dig);</span><br><span class="line">        context.bezierCurveTo(dx + x * s, dy + y * s -100, dx + x * s + 100, dy + y * s, dx + x * s, dy + y * s);</span><br><span class="line">        context.closePath();</span><br><span class="line">        context.fill();</span><br><span class="line">        context.stroke();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/images/post/html5css3_post_04.jpg" alt="绘制贝济埃曲线"></p>
<h2 id="绘制渐变图形"><a href="#绘制渐变图形" class="headerlink" title="绘制渐变图形"></a>绘制渐变图形</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"zh"</span> dir=<span class="string">"ltr"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"utf-8"</span>&gt;</span><br><span class="line">  &lt;title&gt;HTML5, CSS3权威指南——canvas&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body onload=<span class="string">"draw('canvas')"</span>&gt;</span><br><span class="line">  &lt;article&gt;</span><br><span class="line">    &lt;h1&gt;canvas元素示例&lt;/h1&gt;</span><br><span class="line">    &lt;canvas id=<span class="string">"canvas"</span> width=<span class="string">"400"</span> height=<span class="string">"300"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">  &lt;/article&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">function</span> draw(id) &#123;</span><br><span class="line">      var canvas = document.getElementById(id);</span><br><span class="line">      <span class="keyword">if</span> (canvas == null) &#123;</span><br><span class="line">        <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      var context = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">      var g1 = context.createLinearGradient(0,0,0,300); //创建线性渐变对象</span><br><span class="line">      g1.addColorStop(0, <span class="string">'rgb(255,255,0)'</span>); //添加起点颜色</span><br><span class="line">      g1.addColorStop(1, <span class="string">'rgb(0,255,255)'</span>); //添加结束点颜色</span><br><span class="line">      context.fillStyle = g1;</span><br><span class="line">      context.fillRect(0, 0, 400, 300);</span><br><span class="line">      var n = 0;</span><br><span class="line">      var g2 = context.createLinearGradient(0,0,300,0);</span><br><span class="line">      g2.addColorStop(0, <span class="string">'rgba(0,0,255,0.5)'</span>);</span><br><span class="line">      g2.addColorStop(1, <span class="string">'rgba(255,0,0,0.5)'</span>);</span><br><span class="line">      <span class="keyword">for</span>(var i=0; i&lt;10; i++)&#123;</span><br><span class="line">        context.beginPath();</span><br><span class="line">        context.fillStyle = g2;</span><br><span class="line">        context.arc(i * 25, i * 25, i * 10, 0, Math.PI * 2, <span class="literal">true</span>);</span><br><span class="line">        context.closePath();</span><br><span class="line">        context.fill();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/images/post/html5css3_post_05.jpg" alt="绘制渐变图形"></p>
]]></content>
      <tags>
        <tag>HTML5</tag>
        <tag>代码</tag>
        <tag>CSS3</tag>
        <tag>权威指南</tag>
      </tags>
  </entry>
  <entry>
    <title>C++ primer 5 代码</title>
    <url>/2019/09/18/cpp/</url>
    <content><![CDATA[<h2 id="第1章-开始"><a href="#第1章-开始" class="headerlink" title="第1章 开始"></a>第1章 开始</h2><h3 id="初识输入输出"><a href="#初识输入输出" class="headerlink" title="初识输入输出"></a>初识输入输出</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt; //载入iostream库</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">"Enter two numbers:"</span> &lt;&lt; std::endl;  //cout输出的ostream类型的对象 &lt;&lt;为输出运算符 endl操纵符结束当前行 标准库定义的所有名字都在命名空间std中</span><br><span class="line">	int v1 = 0, v2 = 0;</span><br><span class="line">	std::cin &gt;&gt; v1 &gt;&gt; v2;   //cin输入的ostream类的对象</span><br><span class="line">	std::cout &lt;&lt; <span class="string">"The sum of "</span> &lt;&lt; v1 &lt;&lt; <span class="string">" and "</span> &lt;&lt; v2</span><br><span class="line">		&lt;&lt; <span class="string">" is "</span> &lt;&lt; v1 + v2 &lt;&lt; std::endl;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h4 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h4><ol>
<li><p>打印”Hello World”</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">"Hello, World"</span> &lt;&lt; std::endl;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>编写乘法运算</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">"Enter two numbers:"</span> &lt;&lt; std::endl;</span><br><span class="line">	int v1 = 0, v2 = 0;</span><br><span class="line">	std::cin &gt;&gt; v1 &gt;&gt; v2;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">"The multiplication of "</span> &lt;&lt; v1 &lt;&lt; <span class="string">" and "</span> &lt;&lt; v2 &lt;&lt; <span class="string">" is "</span> &lt;&lt; v1 * v2 &lt;&lt; std::endl;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="控制流"><a href="#控制流" class="headerlink" title="控制流"></a>控制流</h3><h4 id="while语句"><a href="#while语句" class="headerlink" title="while语句"></a>while语句</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int sum = 0, val = 1;</span><br><span class="line">	<span class="keyword">while</span> (val &lt;= 10) &#123;</span><br><span class="line">		sum += val;</span><br><span class="line">		++val;</span><br><span class="line">	&#125;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">"Sum of 1 to 10 inclusive is "</span> &lt;&lt; sum &lt;&lt; std::endl;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="练习题-1"><a href="#练习题-1" class="headerlink" title="练习题"></a>练习题</h4><ol>
<li><p>50到100的整数相加</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int sum = 0, val = 50;</span><br><span class="line">	<span class="keyword">while</span> (val &lt;= 100) &#123;</span><br><span class="line">		sum += val;</span><br><span class="line">		++val;</span><br><span class="line">	&#125;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">"Sum of 50 to 100 inclusive is "</span> &lt;&lt; sum &lt;&lt; std::endl;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>打印10到0之间的整数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int number = 0, val = 10;</span><br><span class="line">	<span class="keyword">while</span> (val &gt;= 0) &#123;</span><br><span class="line">		number = val;</span><br><span class="line">		std::cout &lt;&lt; number &lt;&lt; <span class="string">" "</span> &lt;&lt; std::endl;</span><br><span class="line">		--val;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>打印指定范围内的所有整数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">"Enter two number:"</span> &lt;&lt; std::endl;</span><br><span class="line">	int num1 = 0, num2 = 0;</span><br><span class="line">	std::cin &gt;&gt; num1 &gt;&gt; num2;</span><br><span class="line">	<span class="keyword">if</span> (num1 &lt; num2) &#123;</span><br><span class="line">		<span class="keyword">while</span> (num1 &lt;= num2) &#123;</span><br><span class="line">			std::cout &lt;&lt; num1 &lt;&lt; std::endl;</span><br><span class="line">			++num1;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">while</span> (num1 &gt;= num2) &#123;</span><br><span class="line">			std::cout &lt;&lt; num1 &lt;&lt; std::endl;</span><br><span class="line">			--num1;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="for语句"><a href="#for语句" class="headerlink" title="for语句"></a>for语句</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int sum = 0;</span><br><span class="line">	<span class="keyword">for</span> (int val = 0; val &lt;= 10; ++val) &#123;</span><br><span class="line">		sum += val;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	std::cout &lt;&lt; <span class="string">"Sum of 1 to 10 inclusive is "</span> &lt;&lt; sum &lt;&lt; std::endl;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="读取数量不定的输入数据"><a href="#读取数量不定的输入数据" class="headerlink" title="读取数量不定的输入数据"></a>读取数量不定的输入数据</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int sum = 0, val = 0;</span><br><span class="line">	<span class="keyword">while</span> (std::cin &gt;&gt; val) &#123;</span><br><span class="line">		sum += val;</span><br><span class="line">	&#125;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">"Sum is: "</span> &lt;&lt; sum &lt;&lt; std::endl;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int currVal = 0, val = 0;</span><br><span class="line">	<span class="keyword">if</span> (std::cin &gt;&gt; currVal) &#123;</span><br><span class="line">		int cnt = 1;</span><br><span class="line">		<span class="keyword">while</span> (std::cin &gt;&gt; val) &#123;</span><br><span class="line">			<span class="keyword">if</span> (val == currVal) &#123;</span><br><span class="line">				++cnt;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				std::cout &lt;&lt; currVal &lt;&lt; <span class="string">" occurs "</span></span><br><span class="line">					&lt;&lt; cnt &lt;&lt; <span class="string">" times"</span> &lt;&lt; std::endl;</span><br><span class="line">				currVal = val;</span><br><span class="line">				cnt = 1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		std::cout &lt;&lt; currVal &lt;&lt; <span class="string">" occurs"</span> &lt;&lt; cnt &lt;&lt; <span class="string">" times"</span> &lt;&lt; std::endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>不够完善</em></p>
<h4 id="类简介"><a href="#类简介" class="headerlink" title="类简介"></a>类简介</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include "Sales_item.h" //不属于标准库的使用""包围</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	Sales_item book;</span><br><span class="line">	std::cin &gt;&gt; book;</span><br><span class="line">	std::cout &lt;&lt; book &lt;&lt; std::endl;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="书店程序"><a href="#书店程序" class="headerlink" title="书店程序"></a>书店程序</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include "Sales_item.h"</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	Sales_item total; //表村下一条交易记录的变量</span><br><span class="line">	//读入第一条交易记录，并确保有数据可以处理</span><br><span class="line">	<span class="keyword">if</span> (std::cin &gt;&gt; total) &#123;</span><br><span class="line">		Sales_item trans; //保存和的变量</span><br><span class="line">		//读入并处理剩余交易记录</span><br><span class="line">		<span class="keyword">while</span> (std::cin &gt;&gt; trans) &#123;</span><br><span class="line">			//如果我们处理相同的书</span><br><span class="line">			<span class="keyword">if</span> (total.isbn() == trans.isbn()) &#123;</span><br><span class="line">				total += trans; //更新总销售额</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				//打印前一本书的结果</span><br><span class="line">				std::cout &lt;&lt; total &lt;&lt; std::endl;</span><br><span class="line">				total = trans; //total现在表示下一本书的销售额</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		std::cout &lt;&lt; total &lt;&lt; std::endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		//没有输入，警告</span><br><span class="line">		std::cout &lt;&lt; <span class="string">"No data?!"</span> &lt;&lt; std::endl;</span><br><span class="line">		<span class="built_in">return</span> -1;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第2章-变量和基本类型"><a href="#第2章-变量和基本类型" class="headerlink" title="第2章 变量和基本类型"></a>第2章 变量和基本类型</h2><h3 id="基本内置类型"><a href="#基本内置类型" class="headerlink" title="基本内置类型"></a>基本内置类型</h3><h4 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	unsigned u = 10, u2 = 42;</span><br><span class="line">	std::cout &lt;&lt; u2 - u &lt;&lt; std::endl; //32</span><br><span class="line">	std::cout &lt;&lt; u - u2 &lt;&lt; std::endl; //4294967264 无符号不能有负数结果</span><br><span class="line">	int i = 10, i2 = 42;</span><br><span class="line">	std::cout &lt;&lt; i2 - i &lt;&lt; std::endl; //32</span><br><span class="line">	std::cout &lt;&lt; i - i2 &lt;&lt; std::endl; //-32</span><br><span class="line">	std::cout &lt;&lt; i - u &lt;&lt; std::endl; //0</span><br><span class="line">	std::cout &lt;&lt; u - i &lt;&lt; std::endl; //0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="练习题-2"><a href="#练习题-2" class="headerlink" title="练习题"></a>练习题</h4><ol>
<li>变量赋值是否正确<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	std::cin &gt;&gt; int input_value; //意外的类型</span><br><span class="line">	int i = &#123; 3.14 &#125;; //从double转换到int需要收缩转换</span><br><span class="line">	double salary = wage = 999.99; //wage为声明的标识符</span><br><span class="line">	int i = 3.14; //3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int reused = 42;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int unique = 0;</span><br><span class="line">	std::cout &lt;&lt; reused &lt;&lt; <span class="string">" "</span> &lt;&lt; unique &lt;&lt; std::endl; // 42 0</span><br><span class="line">	int reused = 0;</span><br><span class="line">	std::cout &lt;&lt; reused &lt;&lt; <span class="string">" "</span> &lt;&lt; unique &lt;&lt; std::endl; //0 0</span><br><span class="line">	std::cout &lt;&lt; ::reused &lt;&lt; <span class="string">" "</span> &lt;&lt; unique &lt;&lt; std::endl; // 42 0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="练习题-3"><a href="#练习题-3" class="headerlink" title="练习题"></a>练习题</h4><ol>
<li>求j的值<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line">int i = 42;</span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int i = 100;</span><br><span class="line">	int j = i;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">"i = "</span> &lt;&lt; i &lt;&lt; <span class="string">" j = "</span> &lt;&lt; j &lt;&lt; std::endl; //100</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="复合类型"><a href="#复合类型" class="headerlink" title="复合类型"></a>复合类型</h3><h4 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h4><h4 id="练习题-4"><a href="#练习题-4" class="headerlink" title="练习题"></a>练习题</h4><p>求输出结果</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int i, &amp;ri = i;</span><br><span class="line">	i = 5; ri = 10;</span><br><span class="line">	std::cout &lt;&lt; i &lt;&lt; <span class="string">" "</span> &lt;&lt; ri &lt;&lt; std::endl; //10 10</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h4><h4 id="练习题-5"><a href="#练习题-5" class="headerlink" title="练习题"></a>练习题</h4><ol>
<li><p>更改指针的值及所指对象的值 </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int val1 = 15, val2 = 16;</span><br><span class="line">	int *p1 = &amp;val1;</span><br><span class="line">	p1 = &amp;val2;</span><br><span class="line">	val2 = 17;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">"val1 = "</span> &lt;&lt; val1 &lt;&lt; <span class="string">" p1 = "</span> &lt;&lt; *p1 &lt;&lt; <span class="string">" val2 = "</span> &lt;&lt; val2 &lt;&lt; std::endl; // 由符号*得到指针p1所指的对象 15 17 17</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>代码结果</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int i = 42;</span><br><span class="line">	int *p1 = &amp;i;</span><br><span class="line">	*p1 = *p1 * *p1; // 1764</span><br><span class="line"></span><br><span class="line">	std::cout &lt;&lt; *p1 &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="const"><a href="#const" class="headerlink" title="const"></a>const</h4><h4 id="练习题-6"><a href="#练习题-6" class="headerlink" title="练习题"></a>练习题</h4><p>初始化是否合法</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">int &amp;r = -1,  i= 0;  //int &amp;r错误无法从int 转换为 &amp;r</span><br><span class="line">int *const p2 = &amp;i2;  //错误 i2 为未声明的标识符</span><br><span class="line">const int *const p3 = &amp;i2; //错误i2未声明标识符</span><br><span class="line">const int *p = &amp;i2; //错误i2未声明标识符</span><br><span class="line">const int &amp;const r2; //必须初始化</span><br><span class="line">const int i2 = i, &amp;r = i; //i未声明标识符</span><br><span class="line">const int i = -1, &amp;r = 0; //正确</span><br></pre></td></tr></table></figure>

<h4 id="处理类型"><a href="#处理类型" class="headerlink" title="处理类型"></a>处理类型</h4><h4 id="练习题-7"><a href="#练习题-7" class="headerlink" title="练习题"></a>练习题</h4><ol>
<li><p>计算值</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int a = 3, b = 4;</span><br><span class="line">	decltype(a) c = a;</span><br><span class="line">	decltype((b)) d = a;</span><br><span class="line">	std::cout &lt;&lt; ++c &lt;&lt; <span class="string">" "</span> &lt;&lt; ++d &lt;&lt; std::endl; // 4 4</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>计算值</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int a = 3, b = 4;</span><br><span class="line">	decltype(a) c = a;</span><br><span class="line">	decltype((a = b)) d = a;</span><br><span class="line">	std::cout &lt;&lt; c &lt;&lt; <span class="string">" "</span> &lt;&lt; d &lt;&lt; std::endl; // 3 3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="自定义数据类型"><a href="#自定义数据类型" class="headerlink" title="自定义数据类型"></a>自定义数据类型</h4><h4 id="练习题-8"><a href="#练习题-8" class="headerlink" title="练习题"></a>练习题</h4><ol>
<li>利用自定义数据类型重写bookshop<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string&gt;</span></span><br><span class="line"></span><br><span class="line">struct Sales_data &#123;</span><br><span class="line">	std::string bookNo;</span><br><span class="line">	unsigned units_sold = 0;</span><br><span class="line">	double revenue = 0.0;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	double price = 0.0;</span><br><span class="line">	Sales_data item1, item2;</span><br><span class="line">	std::cin &gt;&gt; item1.bookNo &gt;&gt; item1.units_sold &gt;&gt; price;</span><br><span class="line">	item1.revenue = item1.units_sold * price;</span><br><span class="line">	std::cin &gt;&gt; item2.bookNo &gt;&gt; item2.units_sold &gt;&gt; price;</span><br><span class="line">	item2.revenue = item2.units_sold * price;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (item1.bookNo == item2.bookNo) &#123;</span><br><span class="line">		unsigned totalCnt = item1.units_sold + item2.units_sold;</span><br><span class="line">		std::cout &lt;&lt; <span class="string">"图书"</span> &lt;&lt; item1.bookNo &lt;&lt; <span class="string">": 总共销售"</span> &lt;&lt; totalCnt &lt;&lt; <span class="string">"本,收入"</span> &lt;&lt; item1.revenue + item2.revenue &lt;&lt; <span class="string">"元"</span> &lt;&lt; std::endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		std::cout &lt;&lt; <span class="string">"图书"</span> &lt;&lt; item1.bookNo &lt;&lt; <span class="string">": 总共销售"</span> &lt;&lt; item1.units_sold &lt;&lt; <span class="string">"本,收入"</span> &lt;&lt; item1.revenue &lt;&lt; <span class="string">"元"</span> &lt;&lt; std::endl;</span><br><span class="line">		std::cout &lt;&lt; <span class="string">"图书"</span> &lt;&lt; item2.bookNo &lt;&lt; <span class="string">": 总共销售"</span> &lt;&lt; item2.units_sold &lt;&lt; <span class="string">"本,收入"</span> &lt;&lt; item2.revenue &lt;&lt; <span class="string">"元"</span> &lt;&lt; std::endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="第3章-字符串，向量和数组"><a href="#第3章-字符串，向量和数组" class="headerlink" title="第3章 字符串，向量和数组"></a>第3章 字符串，向量和数组</h2><h3 id="命名空间的using声明"><a href="#命名空间的using声明" class="headerlink" title="命名空间的using声明"></a>命名空间的using声明</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">using std::cin;</span><br><span class="line">using std::cout;</span><br><span class="line">using std::endl;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int val1;</span><br><span class="line">	cin &gt;&gt; val1;</span><br><span class="line">	cout &lt;&lt; <span class="string">"刚才输入："</span> &lt;&lt; val1 &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="string对象上的操作"><a href="#string对象上的操作" class="headerlink" title="string对象上的操作"></a>string对象上的操作</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string&gt;</span></span><br><span class="line"></span><br><span class="line">using std::cin;</span><br><span class="line">using std::cout;</span><br><span class="line">using std::endl;</span><br><span class="line">using std::string;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	string s, s1;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (cin &gt;&gt; s) &#123;</span><br><span class="line">		s1 += s;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; s1 &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>For处理范围内的字符</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">string s(<span class="string">"Hello World!!!"</span>);</span><br><span class="line">//punct_cnt 的类型和s.size的返回类型一样</span><br><span class="line">decltype(s.size()) punct_cnt = 0;</span><br><span class="line"><span class="keyword">for</span> (auto c : s) &#123;</span><br><span class="line">	<span class="keyword">if</span> (ispunct(c)) &#123;</span><br><span class="line">		++punct_cnt;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; punct_cnt</span><br><span class="line">	&lt;&lt; <span class="string">" punctuation characters in "</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> 0;</span><br></pre></td></tr></table></figure>

<h4 id="练习题-9"><a href="#练习题-9" class="headerlink" title="练习题"></a>练习题</h4><ol>
<li><p>替换所有字符为X</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">string s(<span class="string">"Hello World!!!"</span>), x;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (auto c : s) &#123;</span><br><span class="line">	c = <span class="string">'X'</span>;</span><br><span class="line">	x = x + c;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">" punctuation characters in "</span> &lt;&lt; x &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> 0;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除字符串中的标点符号</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">string s(<span class="string">"Hello World!!!"</span>), shuchu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (auto c : s) &#123;</span><br><span class="line">	<span class="keyword">if</span> (!ispunct(c)) &#123;</span><br><span class="line">		shuchu = shuchu + c;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">"删除符号最后结果 "</span> &lt;&lt; shuchu &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> 0;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="vector-对象"><a href="#vector-对象" class="headerlink" title="vector 对象"></a>vector 对象</h3><h4 id="练习题-10"><a href="#练习题-10" class="headerlink" title="练习题"></a>练习题</h4><ol>
<li><p>cin读入一组整数并把它们保存到vector对象</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">int val;</span><br><span class="line">vector&lt;int&gt; number;</span><br><span class="line"><span class="keyword">while</span> (cin &gt;&gt; val) &#123;</span><br><span class="line">	number.push_back(val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (int i = 0; i &lt; number.size(); i++) &#123;</span><br><span class="line">	cout &lt;&lt; number[i] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> 0;</span><br></pre></td></tr></table></figure>
</li>
<li><p>读入一组字符串</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">string word;</span><br><span class="line">vector&lt;string&gt; chars;</span><br><span class="line"><span class="keyword">while</span> (cin &gt;&gt; word) &#123;</span><br><span class="line">	chars.push_back(word);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (int i = 0; i &lt; chars.size(); i++) &#123;</span><br><span class="line">	cout &lt;&lt; chars[i] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> 0;</span><br></pre></td></tr></table></figure>


</li>
</ol>
<h3 id="迭代器介绍"><a href="#迭代器介绍" class="headerlink" title="迭代器介绍"></a>迭代器介绍</h3><p>迭代控制字符串第一个文字大小写</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	string s(<span class="string">"some string"</span>);</span><br><span class="line">	<span class="keyword">if</span> (s.begin() != s.end()) &#123;	//判断字符串是否为空</span><br><span class="line">		auto it = s.begin();</span><br><span class="line">		*it = toupper(*it); //将当前字符改成大写并返回所指元素的引用</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; s;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>迭代器修改全部字符串</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	string s(<span class="string">"some string"</span>);</span><br><span class="line">	<span class="keyword">for</span> (auto it = s.begin(); it != s.end(); ++it) &#123; //循环控制迭代中的字符串 使用isspace()判断是否有空格</span><br><span class="line">		*it = toupper(*it);</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; s;	//SOME STRING</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第4章-表达式"><a href="#第4章-表达式" class="headerlink" title="第4章 表达式"></a>第4章 表达式</h2><h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	cout &lt;&lt; 12 / 3 * 4 + 5 * 15 + 24 % 4 / 2 &lt;&lt; endl;	//91</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>练习题判断奇数偶数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">int <span class="function"><span class="title">main</span></span>() &#123;</span><br><span class="line">	int num = 0;</span><br><span class="line">	cin &gt;&gt; num;</span><br><span class="line">	<span class="keyword">if</span> (num % 2 == 0) &#123;</span><br><span class="line">		cout &lt;&lt; num &lt;&lt; <span class="string">"偶数"</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		cout &lt;&lt; num &lt;&lt; <span class="string">"奇数"</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>C</tag>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>theme01</title>
    <url>/2018/02/23/theme01/</url>
    <content><![CDATA[<h2 id="学习修改Landscape模板"><a href="#学习修改Landscape模板" class="headerlink" title="学习修改Landscape模板"></a>学习修改Landscape模板</h2><p>本次修改需有一定的前端技术能力， 我们将以Landscape模板作为基础，修改成其他样式的模板。</p>
<h3 id="1-头部修改"><a href="#1-头部修改" class="headerlink" title="1. 头部修改"></a>1. 头部修改</h3><p>目标： 将Logo 置于页面的左上角，缩小头部的高度。</p>
<p>首先将Logo，移动到 header-inner 下的 main-nav里面<br>打开landscape目录下的layout/_partial/header.ejs文件<br>将</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;a href=<span class="string">"&lt;%- url_for() %&gt;"</span> id=<span class="string">"logo"</span> class=<span class="string">"main-nav-link"</span>&gt;&lt;%= config.title %&gt;&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<p>复制到</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;nav id=<span class="string">"main-nav"</span>&gt;</span><br></pre></td></tr></table></figure>
<p>下</p>
<a id="more"></a>

<p>修改</p>
]]></content>
      <tags>
        <tag>Theme</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>Python学习手册（阅读笔记）</title>
    <url>/2018/07/10/python-study-guide/</url>
    <content><![CDATA[<h2 id="第1章-问答环节"><a href="#第1章-问答环节" class="headerlink" title="第1章 问答环节"></a>第1章 问答环节</h2><h3 id="为什么选择Python"><a href="#为什么选择Python" class="headerlink" title="为什么选择Python"></a>为什么选择Python</h3><ol>
<li>软件质量， 可重用性，可维护性 （EIBTI,明了胜于晦涩）</li>
<li>提高开发者的效率， 使用更少的代码完成更多的工作</li>
<li>程序的可移植性</li>
<li>标准库的支持，Python通过自行开发的库或是第三方的应用支持来进行扩展。</li>
<li>组件集成，可以与众多的编程语言互相调用(C, C++, java, SOAP等)</li>
<li>享受编程的乐趣</li>
</ol>
<a id="more"></a>

<h3 id="Python的缺点"><a href="#Python的缺点" class="headerlink" title="Python的缺点"></a>Python的缺点</h3><ol>
<li>与C和C++类的编译语言相比，Python的执行速度还不够快。<br> Python将源代码的语言转为字节码的形式，而不是底层的二进制形式</li>
</ol>
<h3 id="Python可以做什么？"><a href="#Python可以做什么？" class="headerlink" title="Python可以做什么？"></a>Python可以做什么？</h3><ol>
<li>系统编程， 利用Python本身自带的标准库进行维护操作系统</li>
<li>用户图形接口， 利用TKinter内置的接口 Tk GUI API，可以快速的开发windows, linux, Mac OS的窗口程序</li>
<li>Internet脚本， 不论是服务器端还是客户端都能应用，利用众多的Web开发工具包，可以迅速的搭建网站</li>
<li>组件集成</li>
<li>数据库编程，Python提供了对所有主流关系数据库系统的接口</li>
<li>快速原型，通过Python做系统原型，再移植到C或C++这样的编译语言上。</li>
<li>数值计算和科学计算编程</li>
<li>游戏，图像，人工智能，XML，机器人等</li>
</ol>
<h2 id="第2章-Python如何运行程序"><a href="#第2章-Python如何运行程序" class="headerlink" title="第2章 Python如何运行程序"></a>第2章 Python如何运行程序</h2><h3 id="Python解释器"><a href="#Python解释器" class="headerlink" title="Python解释器"></a>Python解释器</h3><p>编写的Python代码必须在解释器中运行，解释器是一种让其他程序运行起来的程序。</p>
<h3 id="程序执行"><a href="#程序执行" class="headerlink" title="程序执行"></a>程序执行</h3><h4 id="程序员视角"><a href="#程序员视角" class="headerlink" title="程序员视角"></a>程序员视角</h4><p>Python的扩展名一般为 *<em>.py *</em>,  利用任何一种文本编辑器就可以创建。在CMD（windows）中, 输入</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python script0.py</span><br></pre></td></tr></table></figure>

<p>就可以运行之前输入的代码结果</p>
<h4 id="Python视角"><a href="#Python视角" class="headerlink" title="Python视角"></a>Python视角</h4><p>运行Python脚本的过程<br>代码 → 字节码（.pyc编译过的源代码） → 虚拟机（PVM）</p>
<h2 id="如何运行程序"><a href="#如何运行程序" class="headerlink" title="如何运行程序"></a>如何运行程序</h2><h3 id="交互提示模式下编写代码"><a href="#交互提示模式下编写代码" class="headerlink" title="交互提示模式下编写代码"></a>交互提示模式下编写代码</h3><p>在各系统的终端，Shell, CMD中直接进行交互编程<br>输入python后，输入以下代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="built_in">print</span>(<span class="string">"Hello world!"</span>)</span><br><span class="line">Hello world!</span><br><span class="line">&gt;&gt;&gt; <span class="built_in">print</span>(2 ** 8)</span><br><span class="line">256</span><br></pre></td></tr></table></figure>

<h4 id="为什么使用交互提示模式"><a href="#为什么使用交互提示模式" class="headerlink" title="为什么使用交互提示模式"></a>为什么使用交互提示模式</h4><p>交互提示是体验语言和测试编写中的程序文件的好地方。</p>
<ol>
<li>代码立即执行</li>
<li>不明代码实验</li>
</ol>
<h4 id="使用交互模式的注意事项"><a href="#使用交互模式的注意事项" class="headerlink" title="使用交互模式的注意事项"></a>使用交互模式的注意事项</h4><ol>
<li>只能够输入Python命令</li>
<li>在文件中打印语句是必须的</li>
<li>在交互模式下不需要缩进（自动缩进）</li>
<li>留意提示符的变化</li>
<li>在交互提示模式中，用一个空行来结束复合语句。</li>
<li>交互模式一次运行一条语句</li>
<li>交互模式不能保存代码</li>
</ol>
<h3 id="通过文件执行第一段脚本"><a href="#通过文件执行第一段脚本" class="headerlink" title="通过文件执行第一段脚本"></a>通过文件执行第一段脚本</h3><p>使用任何一种文本编辑器(vi, Notepad, IDLE)，创建一个script1.py的文件，并输入以下代码（注意保存时的文件扩展名）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># A first Python script</span></span><br><span class="line">import sys  <span class="comment">#Load a library module</span></span><br><span class="line"><span class="built_in">print</span>(sys.platform) <span class="comment"># 获取平台名称</span></span><br><span class="line"><span class="built_in">print</span>(2 ** 100)</span><br><span class="line">x = <span class="string">'Spam!'</span></span><br><span class="line"><span class="built_in">print</span>(x * 8)</span><br><span class="line">============================== RESTART: D:\D\python\<span class="built_in">test</span>\script1.py ==============================</span><br><span class="line">win32</span><br><span class="line">1267650600228229401496703205376</span><br><span class="line">Spam!Spam!Spam!Spam!Spam!Spam!Spam!Spam!</span><br></pre></td></tr></table></figure>

<p>在终端中，我们使用 Python script1.py来运行程序<br>我们也可以使用 Python script1.py 》 saveit.txt 来保存运行的结果</p>
<p>值得注意的还有一点，在UNIX和Linux上使用Python，第一行是特定的，要使用 <em>#!/usr/local/bin/python</em></p>
<h3 id="windows中直接双击执行py文件"><a href="#windows中直接双击执行py文件" class="headerlink" title="windows中直接双击执行py文件"></a>windows中直接双击执行py文件</h3><p>虽然双击后自动执行，但一般情况都是一闪而过，需要保留画面的话，需在代码中加入一条input()函数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># A first Python script</span></span><br><span class="line">import sys  <span class="comment">#Load a library module</span></span><br><span class="line"><span class="built_in">print</span>(sys.platform)</span><br><span class="line"><span class="built_in">print</span>(2 ** 100)</span><br><span class="line">x = <span class="string">'Spam!'</span></span><br><span class="line"><span class="built_in">print</span>(x * 8)</span><br><span class="line">input(<span class="string">'Press Enter to exit'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="导入模块和重载"><a href="#导入模块和重载" class="headerlink" title="导入模块和重载"></a>导入模块和重载</h3><p>每一个扩展名为.py的Python 源代码文件就是一个模块。其他的文件可以通过导入一个模块读取这个模块的内容</p>
<p>导入方法</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import script1.py</span><br></pre></td></tr></table></figure>

<p>导入后会自动执行一次源代码，再次导入时，不执行源代码，如果想再次运行文件的话，使用<strong>reload函数</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">from imp import reload  <span class="comment">#Python3.0后，reload被移动到imp标准库模块中</span></span><br><span class="line">reload(script1)</span><br></pre></td></tr></table></figure>

<h3 id="模块的特性：-属性"><a href="#模块的特性：-属性" class="headerlink" title="模块的特性： 属性"></a>模块的特性： 属性</h3><p>模块中的变量一般被称为属性<br><em>如果你的工作目录不是Python默认的工作目录，你需要使用chdir</em></p>
<p>先创建一个模块文件myfile.py</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">title = <span class="string">"The Meaning of Life"</span></span><br></pre></td></tr></table></figure>

<p>导入</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import os</span><br><span class="line">&gt;&gt;&gt; <span class="built_in">chdir</span>(<span class="string">"D:\\D\\python"</span>)</span><br><span class="line">&gt;&gt;&gt; from myfile import title</span><br><span class="line">&gt;&gt;&gt; <span class="built_in">print</span>(title)</span><br><span class="line">The Meaning of Life</span><br></pre></td></tr></table></figure>

<h4 id="模块和命名空间"><a href="#模块和命名空间" class="headerlink" title="模块和命名空间"></a>模块和命名空间</h4><p>Python程序需要导入多个模块，通过import连接起来，每个模块文件是一个独立完备的变量包，即一个命名空间<br>命名空间可以避免变量同名的冲突</p>
<h3 id="使用exec运行模块文件"><a href="#使用exec运行模块文件" class="headerlink" title="使用exec运行模块文件"></a>使用exec运行模块文件</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="built_in">exec</span>(open(<span class="string">'script1.py'</span>).<span class="built_in">read</span>())</span><br><span class="line">win32</span><br><span class="line">1267650600228229401496703205376</span><br><span class="line">Spam!Spam!Spam!Spam!Spam!Spam!Spam!Spam!</span><br><span class="line">Press Enter to <span class="built_in">exit</span></span><br></pre></td></tr></table></figure>

<p>exec和import有着同样的效果，但exec不是导入，而是复制代码到exec的地方，对于当前正在使用的变量有潜在默认覆盖的可能。</p>
<h2 id="第4章-Python对象类型"><a href="#第4章-Python对象类型" class="headerlink" title="第4章 Python对象类型"></a>第4章 Python对象类型</h2><h3 id="为什么使用内置类型"><a href="#为什么使用内置类型" class="headerlink" title="为什么使用内置类型"></a>为什么使用内置类型</h3><ol>
<li>内置对象使程序更容易编写。不需要所有的功能都自己编写</li>
<li>内置对象是扩展组件。</li>
<li>内置对象往往比定制的数据结构更有效率。</li>
<li>内置对象是语言的标准的一部分。</li>
</ol>
<p>（总结）内置对象是亲生的，自己编写的肯定比不过亲生的快</p>
<h4 id="Python的核心数据类型"><a href="#Python的核心数据类型" class="headerlink" title="Python的核心数据类型"></a>Python的核心数据类型</h4><table>
<thead>
<tr>
<th>对象类型</th>
<th>例子 常量/创建</th>
</tr>
</thead>
<tbody><tr>
<td>数字</td>
<td>1234， 3.1415， 3+4j, Decimal, Fraction</td>
</tr>
<tr>
<td>字符串</td>
<td>‘spam’, “guido’s”, b’a\xolc’</td>
</tr>
<tr>
<td>列表</td>
<td>[1,[2,’three’],4]</td>
</tr>
<tr>
<td>字典</td>
<td>{‘food’:’spam’, ‘taste’:’yum’}</td>
</tr>
<tr>
<td>元组</td>
<td>(1, ‘spam’, 4, ‘u’)</td>
</tr>
<tr>
<td>文件</td>
<td>myfile=open(‘eggs’, ‘r’)</td>
</tr>
<tr>
<td>集合</td>
<td>set(‘abc’),{‘a’, ‘b’, ‘c’}</td>
</tr>
<tr>
<td>其他类型</td>
<td>类型，none, 布尔型</td>
</tr>
<tr>
<td>变成单元类型</td>
<td>函数，模块， 类</td>
</tr>
<tr>
<td>与现实相关的类型</td>
<td>编译的代码堆栈跟踪</td>
</tr>
</tbody></table>
<h3 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h3><p>数字类型包含，整数，浮点数，以及更为少见的类型</p>
<p>Python提供了一些数学模块<br>math模块包括更高级的数学工具，如函数，而random模块可以作为随机数字的生成器和随机选择器</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import math</span><br><span class="line">&gt;&gt;&gt; math.pi</span><br><span class="line">3.141592653589793</span><br><span class="line">&gt;&gt;&gt; math.sqrt(85)</span><br><span class="line">9.219544457292887</span><br><span class="line">&gt;&gt;&gt; import random</span><br><span class="line">&gt;&gt;&gt; random.random()</span><br><span class="line">0.7855209527773451</span><br><span class="line">&gt;&gt;&gt; random.choice([1,2,3,4])</span><br><span class="line">1</span><br><span class="line">&gt;&gt;&gt; random.choice([1,2,3,4])</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>字符串是用来记录文本信息的，是字符的集合。字符串是单个字符的字符串的序列</p>
<h4 id="序列的操作"><a href="#序列的操作" class="headerlink" title="序列的操作"></a>序列的操作</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; S = <span class="string">'Spam'</span></span><br><span class="line">&gt;&gt;&gt; S[0]</span><br><span class="line"><span class="string">'S'</span></span><br><span class="line">&gt;&gt;&gt; len(S)</span><br><span class="line">4</span><br><span class="line">&gt;&gt;&gt; S[3]</span><br><span class="line"><span class="string">'m'</span></span><br><span class="line">&gt;&gt;&gt; S[-1]</span><br><span class="line"><span class="string">'m'</span></span><br></pre></td></tr></table></figure>

<p>字符串的分片操作</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; S[1:3]</span><br><span class="line"><span class="string">'pa'</span></span><br><span class="line">&gt;&gt;&gt; S[:3]</span><br><span class="line"><span class="string">'Spa'</span></span><br><span class="line">&gt;&gt;&gt; S[:4]</span><br><span class="line"><span class="string">'Spam'</span></span><br><span class="line">&gt;&gt;&gt; S[:]</span><br><span class="line"><span class="string">'Spam'</span></span><br></pre></td></tr></table></figure>

<p>字符串可以通过 + 号合并也可以通过 * 号 重复</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; S + <span class="string">' is Boy'</span></span><br><span class="line"><span class="string">'Spam is Boy'</span></span><br><span class="line">&gt;&gt;&gt; S * 8</span><br><span class="line"><span class="string">'SpamSpamSpamSpamSpamSpamSpamSpam'</span></span><br></pre></td></tr></table></figure>

<h4 id="字符串的不可变性"><a href="#字符串的不可变性" class="headerlink" title="字符串的不可变性"></a>字符串的不可变性</h4><p>字符串在Python中具有不可变性，在创建之后不能就地改变。但是可以通过建立一个新的字符串并以同一个变量名对其进行赋值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; S[0] = <span class="string">'z'</span> <span class="comment">#直接修改字符串出错</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;pyshell#26&gt;"</span>, line 1, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    S[0] = <span class="string">'z'</span></span><br><span class="line">TypeError: <span class="string">'str'</span> object does not support item assignment</span><br><span class="line">&gt;&gt;&gt; S = <span class="string">'z'</span> + S[1:]</span><br><span class="line">&gt;&gt;&gt; S</span><br><span class="line"><span class="string">'zpam'</span></span><br></pre></td></tr></table></figure>

<h4 id="字符串的特定方法"><a href="#字符串的特定方法" class="headerlink" title="字符串的特定方法"></a>字符串的特定方法</h4><ol>
<li><p>find方法<br>find方法可以对字符串进行查找操作。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; S.find(<span class="string">'pa'</span>)</span><br><span class="line"> 1</span><br><span class="line"> &gt;&gt;&gt; S.replace(<span class="string">'pa'</span>, <span class="string">'XYZ'</span>)</span><br><span class="line"> <span class="string">'zXYZm'</span></span><br><span class="line"> &gt;&gt;&gt; s</span><br><span class="line"> Traceback (most recent call last):</span><br><span class="line"> File <span class="string">"&lt;pyshell#31&gt;"</span>, line 1, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">     s</span><br><span class="line"> NameError: name <span class="string">'s'</span> is not defined</span><br><span class="line"> &gt;&gt;&gt; S</span><br><span class="line"> <span class="string">'zpam'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>replace方法<br>replace方法可以对字符串进行替换。但不修改原始字符串</p>
</li>
<li><p>split()方法<br> 可以根据指定的字符对字符串进行分割，返回列表</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; line = <span class="string">"aaa,bbb,ccc,dddddd"</span></span><br><span class="line">&gt;&gt;&gt; line.split(<span class="string">','</span>)</span><br><span class="line">[<span class="string">'aaa'</span>, <span class="string">'bbb'</span>, <span class="string">'ccc'</span>, <span class="string">'dddddd'</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>upper方法<br> 将字符串转大写</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; line2= line.split(<span class="string">','</span>)</span><br><span class="line">&gt;&gt;&gt; line2[1].upper()</span><br><span class="line"><span class="string">'BBB'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>isalpha方法<br> 检测字符串是否只由字母组成。</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; line2[3].isalpha()</span><br><span class="line">True</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="内置方法帮助"><a href="#内置方法帮助" class="headerlink" title="内置方法帮助"></a>内置方法帮助</h4><p>如果想了解对象的相应方法及更多细节，可以调用内置的dir函数，将会返回一个列表，其中包含了对象的所有属性。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; dir(line2)</span><br><span class="line">[<span class="string">'__add__'</span>, <span class="string">'__class__'</span>, <span class="string">'__contains__'</span>, <span class="string">'__delattr__'</span>, <span class="string">'__delitem__'</span>, <span class="string">'__dir__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__eq__'</span>, <span class="string">'__format__'</span>, <span class="string">'__ge__'</span>, <span class="string">'__getattribute__'</span>, <span class="string">'__getitem__'</span>, <span class="string">'__gt__'</span>, <span class="string">'__hash__'</span>, <span class="string">'__iadd__'</span>, <span class="string">'__imul__'</span>, <span class="string">'__init__'</span>, <span class="string">'__init_subclass__'</span>, <span class="string">'__iter__'</span>, <span class="string">'__le__'</span>, <span class="string">'__len__'</span>, <span class="string">'__lt__'</span>, <span class="string">'__mul__'</span>, <span class="string">'__ne__'</span>, <span class="string">'__new__'</span>, <span class="string">'__reduce__'</span>, <span class="string">'__reduce_ex__'</span>, <span class="string">'__repr__'</span>, <span class="string">'__reversed__'</span>, <span class="string">'__rmul__'</span>, <span class="string">'__setattr__'</span>, <span class="string">'__setitem__'</span>, <span class="string">'__sizeof__'</span>, <span class="string">'__str__'</span>, <span class="string">'__subclasshook__'</span>, <span class="string">'append'</span>, <span class="string">'clear'</span>, <span class="string">'copy'</span>, <span class="string">'count'</span>, <span class="string">'extend'</span>, <span class="string">'index'</span>, <span class="string">'insert'</span>, <span class="string">'pop'</span>, <span class="string">'remove'</span>, <span class="string">'reverse'</span>, <span class="string">'sort'</span>]</span><br></pre></td></tr></table></figure>

<p>一般以双下划线开头并结尾的变量名是用来表示Python实现细节的命名模式。而这个列表中没有下划线的属性是字符串对象能够调用的方法。<br>具体的函数使用方法，可以使用help函数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="built_in">help</span>(line2.sort)</span><br><span class="line">Help on built-in <span class="keyword">function</span> sort:</span><br><span class="line"></span><br><span class="line">sort(...) method of builtins.list instance</span><br><span class="line">    L.sort(key=None, reverse=False) -&gt; None -- stable sort *IN PLACE*</span><br></pre></td></tr></table></figure>

<p>之后会有正则表达式的相关说明</p>
<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p>列表对象是Python语言中提供的最通用的序列。列表无固定大小</p>
<h4 id="序列操作"><a href="#序列操作" class="headerlink" title="序列操作"></a>序列操作</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; L = [123, <span class="string">'spam'</span>, 1.23]</span><br><span class="line">&gt;&gt;&gt; len(L)</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; L[0]</span><br><span class="line">123</span><br><span class="line">&gt;&gt;&gt; L[:-1]</span><br><span class="line">[123, <span class="string">'spam'</span>]</span><br><span class="line">&gt;&gt;&gt; L + [4,5,6]</span><br><span class="line">[123, <span class="string">'spam'</span>, 1.23, 4, 5, 6]</span><br><span class="line">&gt;&gt;&gt; L <span class="comment">#上面的修改不会改变原有列表</span></span><br><span class="line">[123, <span class="string">'spam'</span>, 1.23]</span><br></pre></td></tr></table></figure>

<h4 id="列表的特定类型的操作"><a href="#列表的特定类型的操作" class="headerlink" title="列表的特定类型的操作"></a>列表的特定类型的操作</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; L.append(<span class="string">'NI'</span>)</span><br><span class="line">&gt;&gt;&gt; L</span><br><span class="line">[123, <span class="string">'spam'</span>, 1.23, <span class="string">'NI'</span>]</span><br><span class="line">&gt;&gt;&gt; L.pop(2)</span><br><span class="line">1.23</span><br><span class="line">&gt;&gt;&gt; L</span><br><span class="line">[123, <span class="string">'spam'</span>, <span class="string">'NI'</span>]</span><br><span class="line">&gt;&gt;&gt; L.reverse()</span><br><span class="line">&gt;&gt;&gt; L</span><br><span class="line">[<span class="string">'NI'</span>, <span class="string">'spam'</span>, 123]</span><br></pre></td></tr></table></figure>

<ol>
<li><p>append方法，可以扩充列表的大小并在列表的尾部插入一项</p>
</li>
<li><p>pop方法，移除给定偏移量的一项，从而让列表减小。</p>
</li>
<li><p>reverse方法，对列表进行翻转。</p>
</li>
<li><p>sort方法，队列表进行排序，但只针对相同对象。</p>
</li>
</ol>
<h4 id="边界检查"><a href="#边界检查" class="headerlink" title="边界检查"></a>边界检查</h4><p>因为Python不会自动增大列表，所以写代码的时候注意列表的边界检查</p>
<h4 id="列表嵌套"><a href="#列表嵌套" class="headerlink" title="列表嵌套"></a>列表嵌套</h4><p>列表可以以任意的组合对其进行嵌套，可以实现矩阵（多维数组）</p>
<h4 id="列表解析"><a href="#列表解析" class="headerlink" title="列表解析"></a>列表解析</h4><p>列表解析源自于集合的概念。它是一种通过对序列中的每一项运行一个表达式来创建一个新列表的方法，每次一个，从左至右。</p>
<h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><p>Python中的字典是一种映射。映射是一个其他对象的集合，但是他们是通过键而不是相对位置来存储的。实际上，映射并没有任何可靠的从左至右的顺序。他们简单地将键映射到值。字典具有可变性，可以随需求增大或减小。</p>
<h4 id="字典的映射操作"><a href="#字典的映射操作" class="headerlink" title="字典的映射操作"></a>字典的映射操作</h4><p>作为常量编写时，字典编写在大括号中。并包含一系列的“减：值”对。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">D=&#123;<span class="string">'food'</span>: <span class="string">'Spam'</span>, <span class="string">'quantity'</span>: 4, <span class="string">'color'</span>: <span class="string">'pink'</span>&#125;</span><br></pre></td></tr></table></figure>

<h4 id="重访嵌套"><a href="#重访嵌套" class="headerlink" title="重访嵌套"></a>重访嵌套</h4><h4 id="键的排序：for循环"><a href="#键的排序：for循环" class="headerlink" title="键的排序：for循环"></a>键的排序：for循环</h4><p>因为字典不是序列，他们并不包含任何可靠的从左至右的顺序。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; D = &#123;<span class="string">'a'</span> : 1, <span class="string">'c'</span> : 3, <span class="string">'b'</span> : 2&#125;</span><br><span class="line">&gt;&gt;&gt; D</span><br><span class="line">&#123;<span class="string">'a'</span>: 1, <span class="string">'c'</span>: 3, <span class="string">'b'</span>: 2&#125;</span><br><span class="line">&gt;&gt;&gt; Ks = list(D.keys())</span><br><span class="line">&gt;&gt;&gt; Ks</span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'b'</span>]</span><br><span class="line">&gt;&gt;&gt; <span class="keyword">for</span> key <span class="keyword">in</span> Ks:</span><br><span class="line">    <span class="built_in">print</span>(key, <span class="string">'=&gt;'</span>, D[key])</span><br><span class="line"></span><br><span class="line">a =&gt; 1</span><br><span class="line">c =&gt; 3</span><br><span class="line">b =&gt; 2</span><br><span class="line">&gt;&gt;&gt; Ks.sort()</span><br><span class="line">&gt;&gt;&gt; <span class="keyword">for</span> key <span class="keyword">in</span> Ks:</span><br><span class="line">    <span class="built_in">print</span>(key, <span class="string">'=&gt;'</span>, D[key])</span><br><span class="line"></span><br><span class="line">a =&gt; 1</span><br><span class="line">b =&gt; 2</span><br><span class="line">c =&gt; 3</span><br></pre></td></tr></table></figure>

<p>在最新的Python版本中我们可以使用sorted调用结果。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="keyword">for</span> key <span class="keyword">in</span> sorted(D):</span><br><span class="line">    <span class="built_in">print</span>(key, <span class="string">'=&gt;'</span>, D[key])</span><br><span class="line"></span><br><span class="line">a =&gt; 1</span><br><span class="line">b =&gt; 2</span><br><span class="line">c =&gt; 3</span><br></pre></td></tr></table></figure>

<p>for 循环是遍历一个序列中的所有元素并按照顺序对每一个元素运行一些代码的简单并有效的一种方法。</p>
<h4 id="使用if测试不存在的键"><a href="#使用if测试不存在的键" class="headerlink" title="使用if测试不存在的键"></a>使用if测试不存在的键</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; D</span><br><span class="line">&#123;<span class="string">'a'</span>: 1, <span class="string">'c'</span>: 3, <span class="string">'b'</span>: 2&#125;</span><br><span class="line">&gt;&gt;&gt; <span class="keyword">if</span> not <span class="string">'f'</span> <span class="keyword">in</span> D:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'missing'</span>)</span><br><span class="line"></span><br><span class="line">missing</span><br></pre></td></tr></table></figure>

<p>通过if就能简单的判断一个字典中是否含有该键，当然还有其他方法。</p>
<h3 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h3><p>元组对象其实就是一个不可以改变的列表。元组是序列，但是它具有不可变性， 和字符串类似。从语法上讲，他们编写在圆括号中，支持任意类型，任意嵌套以及常见的序列操作</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; T = (1,2,3,4)</span><br><span class="line">&gt;&gt;&gt; len(T)</span><br><span class="line">4</span><br><span class="line">&gt;&gt;&gt; T + (5,6)</span><br><span class="line">(1, 2, 3, 4, 5, 6)</span><br><span class="line">&gt;&gt;&gt; T[0]</span><br><span class="line">1</span><br><span class="line">&gt;&gt;&gt; T</span><br><span class="line">(1, 2, 3, 4)</span><br><span class="line">&gt;&gt;&gt; T.index(4) <span class="comment">#返回包含子字符串或序列的索引值。</span></span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; T.count(4) <span class="comment">#返回包含子字符串或序列的出现次数。</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>元组的真正不同之处就是，一经创建就不能改变，包括大小。</p>
<h3 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h3><p>文件对象是Python代码对电脑上外部文件的主要接口。</p>
<h2 id="第5章-Python的数字"><a href="#第5章-Python的数字" class="headerlink" title="第5章 Python的数字"></a>第5章 Python的数字</h2><h3 id="Python的数字类型"><a href="#Python的数字类型" class="headerlink" title="Python的数字类型"></a>Python的数字类型</h3><p>数字并不是一个真正的对象类型，而是一组类似类型的分类。</p>
<ol>
<li>整数和浮点数</li>
<li>复数</li>
<li>固定精度的十进制数</li>
<li>有理分数</li>
<li>集合</li>
<li>布尔类型</li>
<li>无穷的整数精度</li>
<li>各种数字内置函数和模块</li>
</ol>
<h4 id="数字常量"><a href="#数字常量" class="headerlink" title="数字常量"></a>数字常量</h4><ol>
<li>整数和浮点数常量</li>
<li>Python3.0 将一般整数和长整数合二为一了。省略了Python2末尾的l或L</li>
<li>十六进制数， 八进制和二进制常量 十六进制以0x或0X开头， 八进制常量以0o或0O开头，二进制常量以0b或0B开头。</li>
<li>复数， 实部加虚部</li>
</ol>
<h4 id="内置数学工具和扩展"><a href="#内置数学工具和扩展" class="headerlink" title="内置数学工具和扩展"></a>内置数学工具和扩展</h4><ol>
<li>表达式操作符 +,-,<em>,/,&gt;&gt;, *</em>, &amp;等</li>
<li>内置数学函数 pow, abs, round, int, hex, bin等</li>
<li>公共模块 random, math等</li>
</ol>
<h2 id="第6章-动态类型"><a href="#第6章-动态类型" class="headerlink" title="第6章 动态类型"></a>第6章 动态类型</h2><p>Python属于动态类型</p>
<h3 id="缺少类型声明语句"><a href="#缺少类型声明语句" class="headerlink" title="缺少类型声明语句"></a>缺少类型声明语句</h3><p>Python的变量类型是由运行过程中自动决定的。而不是通过代码声明。</p>
<h4 id="变量，对象和引用"><a href="#变量，对象和引用" class="headerlink" title="变量，对象和引用"></a>变量，对象和引用</h4><ol>
<li>变量创建， 当代吗第一次给它赋值的时候就创建了它。</li>
<li>变量类型， 变量永远不会有任何的他关联的类型信息或约束。类型的概念存在于对象中。</li>
<li>变量使用， 当变量出现在表达式中，它会马上被当前引用的对象所替代。</li>
</ol>
<h4 id="对象的垃圾收集"><a href="#对象的垃圾收集" class="headerlink" title="对象的垃圾收集"></a>对象的垃圾收集</h4><p>在Python中，每当一个变量名被赋予了一个新的对象，之前的那个对象占用的空间就会被回收。这种自动回收对象空间的技术叫做垃圾收集。</p>
<h4 id="共享引用"><a href="#共享引用" class="headerlink" title="共享引用"></a>共享引用</h4><p>多变量名引用同一对象，在Python中被称为共享引用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; a =3</span><br><span class="line">&gt;&gt;&gt; b =a</span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; a = <span class="string">'spam'</span></span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">spam</span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<p>很多人会问，改变了a的值，为什么b不发生变化，这其实还停留在一般编程的思考层面上。</p>
<p><img src="/images/post/python-g-01.png" alt="共享引用1"></p>
<p><img src="/images/post/python-g-02.png" alt="共享引用2"></p>
<p>可以看到这里的a其实已经不指向对象数字3，而是指向了对象字符串‘spam’, 在Python中，变量总是一个指向对象的指针，而不是可改变的内存区域的标签，给一个变量赋一个新的值，并不是替换了原始的对象，而是让这个变量去引用完全不同的一个对象。</p>
<h4 id="共享引用和在原处修改"><a href="#共享引用和在原处修改" class="headerlink" title="共享引用和在原处修改"></a>共享引用和在原处修改</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; L1 = [1,2,3]</span><br><span class="line">&gt;&gt;&gt; L2 = L1</span><br><span class="line">&gt;&gt;&gt; L1 = 24</span><br><span class="line">&gt;&gt;&gt; L1</span><br><span class="line">24</span><br><span class="line">&gt;&gt;&gt; L2</span><br><span class="line">[1, 2, 3]</span><br><span class="line">&gt;&gt;&gt; L1 = L2</span><br><span class="line">&gt;&gt;&gt; L1</span><br><span class="line">[1, 2, 3]</span><br><span class="line">&gt;&gt;&gt; L1[0] = 24</span><br><span class="line">&gt;&gt;&gt; L1</span><br><span class="line">[24, 2, 3]</span><br><span class="line">&gt;&gt;&gt; L2</span><br><span class="line">[24, 2, 3]</span><br></pre></td></tr></table></figure>

<p>这里这种对列表的修改，就造成了共享引用同时发生了变化，因为在这里L1和L2指向的是相同的对象。修改列表里的元素，并不能产生新的对象。而是直接修改了元对象导致。<br>如果不想出现这样的情况就需要进行一些变化</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; L2 = L1[:]</span><br><span class="line">&gt;&gt;&gt; L1[1] = 30</span><br><span class="line">&gt;&gt;&gt; L1</span><br><span class="line">[24, 30, 3]</span><br><span class="line">&gt;&gt;&gt; L2</span><br><span class="line">[24, 2, 3]</span><br></pre></td></tr></table></figure>

<p>通过L2 = L1[:] 创建一个对象列表的副本，这样就不会造成一同变化的情况了<br>而字典或集合应该使用X.copy()方法调用。</p>
<h4 id="共享引用和相等"><a href="#共享引用和相等" class="headerlink" title="共享引用和相等"></a>共享引用和相等</h4><p>在Python程序中有两种不同的方法来检查对象是否相等。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; L = [1,2,3]</span><br><span class="line">&gt;&gt;&gt; M = L</span><br><span class="line">&gt;&gt;&gt; L == M</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; L is M</span><br><span class="line">True</span><br></pre></td></tr></table></figure>

<p>== 操作符， 测试两个被引用的对象是否有相同的值。<br>is 操作符， 是检查对象的同一性（其他语言的===），是更严格的相等测试。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; L = [1,2,3]</span><br><span class="line">&gt;&gt;&gt; M = [1,2,3]</span><br><span class="line">&gt;&gt;&gt; L == M</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; L is M</span><br><span class="line">False</span><br></pre></td></tr></table></figure>

<p>不过这里需要注意的是，整数和字符串会被缓存复用，所以不适合严格比较</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; X = 42</span><br><span class="line">&gt;&gt;&gt; Y = 42</span><br><span class="line">&gt;&gt;&gt; X == Y</span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; X is Y</span><br><span class="line">True</span><br></pre></td></tr></table></figure>

<h2 id="Python的字符串"><a href="#Python的字符串" class="headerlink" title="Python的字符串"></a>Python的字符串</h2><h3 id="字符串常量"><a href="#字符串常量" class="headerlink" title="字符串常量"></a>字符串常量</h3><p>使用方法</p>
<ol>
<li>单引号： ‘spa”m’</li>
<li>双引号： “spa’m”</li>
<li>三引号： ‘’’…spam…’’’, “””…spam…”””</li>
<li>转义字符： “s\tp\na\om”</li>
<li>Raw字符串：r”C:\new\test.spm”</li>
</ol>
<h4 id="单双引号字符串是一样的"><a href="#单双引号字符串是一样的" class="headerlink" title="单双引号字符串是一样的"></a>单双引号字符串是一样的</h4><p>在Python字符串中，单引号和双引号字符是可以互换的。</p>
<h4 id="用转义序列代表特殊字节"><a href="#用转义序列代表特殊字节" class="headerlink" title="用转义序列代表特殊字节"></a>用转义序列代表特殊字节</h4><p>转义序列让我们能够在字符串中嵌入不容易通过键盘输入的字节<br>使用‘\’添加指定的字符，形成如换行，制表符，等特殊字节</p>
<p>字符串反斜杠字符</p>
<table>
<thead>
<tr>
<th>转义</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>\newline</td>
<td>忽视(连续)</td>
</tr>
<tr>
<td>\\</td>
<td>反斜杠</td>
</tr>
<tr>
<td>&#39;</td>
<td>单引号</td>
</tr>
<tr>
<td>&quot;</td>
<td>双引号</td>
</tr>
<tr>
<td>\a</td>
<td>响铃</td>
</tr>
<tr>
<td>\b</td>
<td>倒退</td>
</tr>
<tr>
<td>\f</td>
<td>换页</td>
</tr>
<tr>
<td>\n</td>
<td>换行</td>
</tr>
<tr>
<td>\r</td>
<td>返回</td>
</tr>
<tr>
<td>\t</td>
<td>水平制表符</td>
</tr>
<tr>
<td>\v</td>
<td>垂直制表符</td>
</tr>
<tr>
<td>\N{id}</td>
<td>Unicode数据库ID</td>
</tr>
<tr>
<td>\uhhhh</td>
<td>Unicode 16位的十六进制值</td>
</tr>
<tr>
<td>\Uhhhhhhhh</td>
<td>Unicode 32位的十六进制值</td>
</tr>
<tr>
<td>\xhh</td>
<td>十六进制值</td>
</tr>
<tr>
<td>\ooo</td>
<td>八进制值</td>
</tr>
<tr>
<td>\0</td>
<td>Null</td>
</tr>
<tr>
<td>\other</td>
<td>不转义</td>
</tr>
</tbody></table>
<h4 id="raw字符串抑制转义"><a href="#raw字符串抑制转义" class="headerlink" title="raw字符串抑制转义"></a>raw字符串抑制转义</h4><p>在使用转义字符的时候，其实会遇到这样或那样的问题，为了抑制转义，raw字符串诞生<br>一般字母r（大写或小写）出现在字符串的第一个引号的前面，它将关闭转义机制</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">myfile = open(r<span class="string">'C:\new\text.dat'</span>, <span class="string">'w'</span>)</span><br><span class="line"><span class="comment">#如果非要用转义的话</span></span><br><span class="line">myfile = open(<span class="string">'C:\\new\\text.dat'</span>, <span class="string">'w'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="三重引号编写多行字符串块"><a href="#三重引号编写多行字符串块" class="headerlink" title="三重引号编写多行字符串块"></a>三重引号编写多行字符串块</h4><p>三重引号也可以叫做块字符串，这是一种对编写多行文本数据来说很便捷的语法</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; mantra = <span class="string">""</span><span class="string">"Always look</span></span><br><span class="line"><span class="string">on th bright I'm a good man</span></span><br><span class="line"><span class="string">side of life."</span><span class="string">""</span></span><br><span class="line">&gt;&gt;&gt; mantra</span><br><span class="line"><span class="string">"Always look\non th bright I'm a good man\nside of life."</span></span><br><span class="line">&gt;&gt;&gt; <span class="built_in">print</span>(mantra)</span><br><span class="line">Always look</span><br><span class="line">on th bright I<span class="string">'m a good man</span></span><br><span class="line"><span class="string">side of life.</span></span><br></pre></td></tr></table></figure>

<h3 id="实际应用中的字符串"><a href="#实际应用中的字符串" class="headerlink" title="实际应用中的字符串"></a>实际应用中的字符串</h3><h4 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; len(<span class="string">"abc"</span>) <span class="comment">#len函数可以返回字符串的长度</span></span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; <span class="string">'abc'</span>+<span class="string">'def'</span> <span class="comment"># + 号可以连接两个字符串创建出一个新的字符串。</span></span><br><span class="line"><span class="string">'abcdef'</span></span><br><span class="line">&gt;&gt;&gt; <span class="string">'NI!'</span> * 4 <span class="comment"># * 号可以重复制定字符串。</span></span><br><span class="line"><span class="string">'NI!NI!NI!NI!'</span></span><br><span class="line">&gt;&gt;&gt; myjob = <span class="string">"hacker"</span></span><br><span class="line">&gt;&gt;&gt; <span class="keyword">for</span> c <span class="keyword">in</span> myjob: <span class="comment"># 使用for循环迭代字符串操作</span></span><br><span class="line">    <span class="built_in">print</span>(c, end=<span class="string">'  '</span>)</span><br><span class="line">h  a  c  k  e  r  </span><br><span class="line">&gt;&gt;&gt; <span class="string">"k"</span> <span class="keyword">in</span> myjob    <span class="comment"># 使用in来搜索字符串，但返回的是布尔值</span></span><br><span class="line">True</span><br><span class="line">&gt;&gt;&gt; <span class="string">"z"</span> <span class="keyword">in</span> myjob</span><br><span class="line">False</span><br><span class="line">&gt;&gt;&gt; <span class="string">'spam'</span> <span class="keyword">in</span> <span class="string">"abcspamdef"</span></span><br><span class="line">True</span><br></pre></td></tr></table></figure>

<h4 id="索引和分片"><a href="#索引和分片" class="headerlink" title="索引和分片"></a>索引和分片</h4>]]></content>
      <tags>
        <tag>编程</tag>
        <tag>Python</tag>
        <tag>学习手册</tag>
      </tags>
  </entry>
  <entry>
    <title>Javascript算法 -- 01 快速排序</title>
    <url>/2019/01/15/javascriptsuanfa-1/</url>
    <content><![CDATA[<h1 id="Javascript算法-–-01-快速排序"><a href="#Javascript算法-–-01-快速排序" class="headerlink" title="Javascript算法 – 01 快速排序"></a>Javascript算法 – 01 快速排序</h1><h2 id="快速排序一"><a href="#快速排序一" class="headerlink" title="快速排序一"></a>快速排序一</h2><p>对于数组 <code>arr1 = new Array(15,12,3,2,7,15);</code></p>
<ol>
<li>选择左右边的元素为基准数，7</li>
<li>将小于7的放在左边，大于7的放在右边，然后将基准数放到中间</li>
<li>然后再重复操作从左边的数组选择一个基准点2</li>
<li>3比2大则放到基准树的右边</li>
<li>右边的数组也是一样选择12作为基准数，15比12大所以放到了12的右边</li>
<li>最后出来的结果就是从左到右 2 ，3，7，12，15了</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">	var quickSort = <span class="keyword">function</span>(arr) &#123;</span><br><span class="line">  <span class="keyword">if</span> (arr.length &lt;= 1) &#123;</span><br><span class="line">    <span class="built_in">return</span> arr;</span><br><span class="line">  &#125;</span><br><span class="line">  var pivotIndex = Math.floor(arr.length / 2);</span><br><span class="line">  var pivot = arr.splice(pivotIndex, 1)[0];</span><br><span class="line">  var left = [];</span><br><span class="line">  var right = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (var i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] &lt; pivot) &#123;</span><br><span class="line">      left.push(arr[i]);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      right.push(arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">return</span> quickSort(left).concat([pivot], quickSort(right));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var arr1 = new Array(15,12,3,2,7,15);</span><br><span class="line"></span><br><span class="line">console.log(quickSort(arr1));</span><br></pre></td></tr></table></figure>

<h2 id="快速排序二"><a href="#快速排序二" class="headerlink" title="快速排序二"></a>快速排序二</h2><ol>
<li>初始化i = -1</li>
<li>循环数组，找到比支点小的数就将i向右移动一个位置，同时与下标i交换位置</li>
<li>循环结束后，最后将支点与i+1位置的元素进行交换位置</li>
<li>最后我们会得到一个由i指针作为分界点，分割成从下标0-i，和 i+1到最后一个元素。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">/*数组交换*/</span><br><span class="line"><span class="keyword">function</span> swap(A, i, j) &#123;</span><br><span class="line">  const t = A[i];</span><br><span class="line">  A[i] = A[j];</span><br><span class="line">  A[j] = t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *</span><br><span class="line"> * @param &#123;*&#125; A  数组</span><br><span class="line"> * @param &#123;*&#125; p  起始下标</span><br><span class="line"> * @param &#123;*&#125; r  结束下标 + 1</span><br><span class="line"> */</span><br><span class="line"><span class="keyword">function</span> divide(A, p, r) &#123;</span><br><span class="line">  const x = A[r - 1];</span><br><span class="line">  <span class="built_in">let</span> i = p - 1;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">let</span> j = p; j &lt; r - 1; j++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (A[j] &lt;= x) &#123;</span><br><span class="line">      i++;</span><br><span class="line">      swap(A, i, j);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  swap(A, i + 1, r - 1);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">return</span> i + 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * </span><br><span class="line"> * @param &#123;*&#125; A  数组</span><br><span class="line"> * @param &#123;*&#125; p  起始下标</span><br><span class="line"> * @param &#123;*&#125; r  结束下标 + 1</span><br><span class="line"> */</span><br><span class="line"><span class="keyword">function</span> qsort(A, p = 0, r) &#123;</span><br><span class="line">  r = r || A.length;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (p &lt; r - 1) &#123;</span><br><span class="line">    const q = divide(A, p, r);</span><br><span class="line">    qsort(A, p, q);</span><br><span class="line">    qsort(A, q + 1, r);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">return</span> A;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(qsort(arr1, p=0, arr1.length))</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>Javascript</tag>
        <tag>排序</tag>
      </tags>
  </entry>
  <entry>
    <title>vue.js - 学习笔记一</title>
    <url>/2018/03/27/vue-js-study-note-1/</url>
    <content><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><h3 id="Vue-js-是什么？"><a href="#Vue-js-是什么？" class="headerlink" title="Vue.js 是什么？"></a>Vue.js 是什么？</h3><p>Vue (读音 /vjuː/，类似于 view) 是一套用于构建用户界面的渐进式框架。</p>
<h3 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h3><p>创建一个html文件，并将以下代码引入即可，这是最简单的vue环境</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">"https://cdn.jsdelivr.net/npm/vue"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="简单的例子1-7"><a href="#简单的例子1-7" class="headerlink" title="简单的例子1~7"></a>简单的例子1~7</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!-- 指定vue管理内容区域，需要通过vue展示的内容都要放到找个元素中  通常我们也把它叫做边界 数据只在边界内部解析--&gt;</span><br><span class="line">&lt;div id=<span class="string">"app-1"</span>&gt;&#123;&#123;msg&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;div id=<span class="string">"app-2"</span>&gt;</span><br><span class="line">    &lt;span v-bind:title=<span class="string">"message"</span>&gt;鼠标悬停几秒钟查看此处动态绑定的提示信息！&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=<span class="string">"app-3"</span>&gt;</span><br><span class="line">    &lt;span v-if = <span class="string">"seen"</span>&gt;现在你可以看到我&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=<span class="string">"app-4"</span>&gt;</span><br><span class="line">    &lt;ol&gt;</span><br><span class="line">        &lt;li v-for=<span class="string">"todo in todos"</span>&gt;</span><br><span class="line">            &#123;&#123;todo.text&#125;&#125;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">    &lt;/ol&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=<span class="string">"app-5"</span>&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;message&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;button v-on:click=<span class="string">"reverseMessage"</span>&gt;翻转 message&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=<span class="string">"/common/js/vue.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var vm = new Vue(&#123;</span><br><span class="line">        //el:提供一个在页面上已存在的DOM元素作为Vue实例的挂载目标</span><br><span class="line">        el: <span class="string">'#app-1'</span>,</span><br><span class="line">        //Vue实例的数据对象，用于给View 提供数据</span><br><span class="line">        data: &#123;</span><br><span class="line">            msg: <span class="string">"Hello Vue"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    var app2 = new Vue(&#123;</span><br><span class="line">        el: <span class="string">'#app-2'</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            message: <span class="string">"页面加载于"</span> + new Date().toLocaleString()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    //vue使用判断</span><br><span class="line">    var app3 = new Vue(&#123;</span><br><span class="line">        el: <span class="string">'#app-3'</span>,</span><br><span class="line">        data:&#123;</span><br><span class="line">            seen: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    var app4 = new Vue(&#123;</span><br><span class="line">        el: <span class="string">'#app-4'</span>,</span><br><span class="line">        data:&#123;</span><br><span class="line">            todos: [</span><br><span class="line">                &#123;text: <span class="string">'学习 Javascript'</span>&#125;,</span><br><span class="line">                &#123;text: <span class="string">'学习 Vue'</span>&#125;,</span><br><span class="line">                &#123;text: <span class="string">'创建激动人心的代码'</span>&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    var app5 = new Vue(&#123;</span><br><span class="line">        el: <span class="string">"#app-5"</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            message: <span class="string">"Hello Vue.js"</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            reverseMessage: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">                this.message = this.message.split(<span class="string">''</span>).reverse().join(<span class="string">""</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<a id="more"></a>

]]></content>
      <categories>
        <category>Vue.js</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>nodejs</tag>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>vue.js 权威指南（读书笔记）</title>
    <url>/2019/01/31/vue-guide/</url>
    <content><![CDATA[<h1 id="Vue-js-权威指南"><a href="#Vue-js-权威指南" class="headerlink" title="Vue.js 权威指南"></a>Vue.js 权威指南</h1><h2 id="第1章-遇见Vue-js"><a href="#第1章-遇见Vue-js" class="headerlink" title="第1章 遇见Vue.js"></a>第1章 遇见Vue.js</h2><h3 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h3><p>M 模型（Model）, V 显示（View）, V 显示模型（ViewModel） 实现了ViewModel 自动同步到 View</p>
<h3 id="Vue-js是什么"><a href="#Vue-js是什么" class="headerlink" title="Vue.js是什么"></a>Vue.js是什么</h3><p>Vue.js是一个构建数据驱动的Web界面的库</p>
<h3 id="Vue-js特性"><a href="#Vue-js特性" class="headerlink" title="Vue.js特性"></a>Vue.js特性</h3><ol>
<li>轻量</li>
<li>数据绑定</li>
<li>指令</li>
<li>插件化</li>
</ol>
<h3 id="Vue-js的Hello-World"><a href="#Vue-js的Hello-World" class="headerlink" title="Vue.js的Hello World"></a>Vue.js的Hello World</h3><a id="more"></a>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">  &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span><br><span class="line">  &lt;meta http-equiv=<span class="string">"X-UA-Compatible"</span> content=<span class="string">"ie=edge"</span>&gt;</span><br><span class="line">  &lt;title&gt;Vue Hello Word&lt;/title&gt;</span><br><span class="line">  &lt;!-- vue的CDN地址 --&gt;</span><br><span class="line">  &lt;script src=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"didi-navigator"</span>&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;!-- 指令 --&gt;</span><br><span class="line">      &lt;li v-for=<span class="string">"tab in tabs"</span>&gt;</span><br><span class="line">        &#123;&#123;tab.text&#125;&#125;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">      el: <span class="string">'#didi-navigator'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        tabs: [</span><br><span class="line">          &#123;text: <span class="string">'巴士'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'快车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'专车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'顺风车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'出租车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'代驾'</span>&#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="第2章-数据绑定"><a href="#第2章-数据绑定" class="headerlink" title="第2章 数据绑定"></a>第2章 数据绑定</h2><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><h4 id="插值"><a href="#插值" class="headerlink" title="插值"></a>插值</h4><p>使用双大括号</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;&#123;&#125;&#125;</span><br></pre></td></tr></table></figure>

<p>插入HTML片段</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;&#123;&#123;&#125;&#125;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h4><p>双大括号中可以插入表达式</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;&#123;cents/100&#125;&#125;</span><br><span class="line">&#123;&#123;<span class="literal">true</span>? 1: 0&#125;&#125;</span><br><span class="line">&#123;&#123;example.split(<span class="string">","</span>)&#125;&#125;</span><br><span class="line">&#123;&#123;example | toUpperCase&#125;&#125; <span class="comment">#为表达式添加过滤</span></span><br><span class="line">&#123;&#123;example | filterA a b&#125;&#125; <span class="comment">#添加参数</span></span><br></pre></td></tr></table></figure>

<h4 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">v-if=<span class="string">"show"</span></span><br><span class="line">v-bind:href=<span class="string">"url"</span></span><br><span class="line">v-on:click=<span class="string">"action"</span></span><br></pre></td></tr></table></figure>

<h3 id="分隔符"><a href="#分隔符" class="headerlink" title="分隔符"></a>分隔符</h3><p>可以在Vue.config中配置绑定的语法</p>
<ol>
<li><p>delimiters</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Vue.config.delimiters = [<span class="string">"&lt;%"</span>,<span class="string">"%&gt;"</span>] 将默认的&#123;&#123;&#125;&#125; 改为&lt;%%&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>unsafeDelimiters</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Vue.config.unsafeDelimiters = [<span class="string">"&lt;%"</span>,<span class="string">"%&gt;"</span>] 将默认的HTML插值改为&lt;%%&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="第3章-指令"><a href="#第3章-指令" class="headerlink" title="第3章 指令"></a>第3章 指令</h2><h3 id="内部指令"><a href="#内部指令" class="headerlink" title="内部指令"></a>内部指令</h3><h4 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h4><p>判断语句</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">"didi-navigator"</span>&gt;</span><br><span class="line">  &lt;ul v-if=<span class="string">"ok"</span>&gt;</span><br><span class="line">    &lt;li v-for=<span class="string">"tab in tabs"</span>&gt;</span><br><span class="line">      &#123;&#123;tab.text&#125;&#125;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  new Vue(&#123;</span><br><span class="line">    el: <span class="string">'#didi-navigator'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      tabs: [</span><br><span class="line">        &#123;text: <span class="string">'巴士'</span>&#125;,</span><br><span class="line">        &#123;text: <span class="string">'快车'</span>&#125;,</span><br><span class="line">        &#123;text: <span class="string">'专车'</span>&#125;,</span><br><span class="line">        &#123;text: <span class="string">'顺风车'</span>&#125;,</span><br><span class="line">        &#123;text: <span class="string">'出租车'</span>&#125;,</span><br><span class="line">        &#123;text: <span class="string">'代驾'</span>&#125;</span><br><span class="line">      ],</span><br><span class="line">      ok: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a>v-show</h4><p>是否显示，不显示的时候，使用样式表 display:none,这里和v-if的显示不同。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"didi-navigator"</span>&gt;</span><br><span class="line">    &lt;ul v-show=<span class="string">"ok"</span>&gt;</span><br><span class="line">      &lt;li v-for=<span class="string">"tab in tabs"</span>&gt;</span><br><span class="line">        &#123;&#123;tab.text&#125;&#125;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">      el: <span class="string">'#didi-navigator'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        tabs: [</span><br><span class="line">          &#123;text: <span class="string">'巴士'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'快车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'专车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'顺风车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'出租车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'代驾'</span>&#125;</span><br><span class="line">        ],</span><br><span class="line">        ok: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-else"><a href="#v-else" class="headerlink" title="v-else"></a>v-else</h4><p>必须同 <code>v-if</code> 或 <code>v-show</code>一起使用充当else功能</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"didi-navigator"</span>&gt;</span><br><span class="line">    &lt;ul v-show=<span class="string">"ok"</span>&gt;</span><br><span class="line">      &lt;li v-for=<span class="string">"tab in tabs"</span>&gt;</span><br><span class="line">        &#123;&#123;tab.text&#125;&#125;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;p v-if=<span class="string">"ok"</span>&gt;我是对的&lt;/p&gt;</span><br><span class="line">    &lt;p v-else=<span class="string">"ok"</span>&gt;我错了&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">      el: <span class="string">'#didi-navigator'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        tabs: [</span><br><span class="line">          &#123;text: <span class="string">'巴士'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'快车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'专车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'顺风车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'出租车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'代驾'</span>&#125;</span><br><span class="line">        ],</span><br><span class="line">        ok: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h4><p>v-model 绑定input, select, text, checkbox, radio等表单控件的双向数据</p>
<p>** v-model参数 **</p>
<ol>
<li><p><strong>number</strong> 将用户的输入自动转换为Number类型</p>
</li>
<li><p><strong>lazy</strong> 在默认情况下，v-model 在每次 input 事件触发后将输入框的值与数据进行同步 (除了上述输入法组合文字时)。你可以添加 lazy 修饰符，从而转变为使用 change 事件进行同步</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"didi-navigator"</span>&gt;</span><br><span class="line">    &lt;ul v-show=<span class="string">"ok"</span>&gt;</span><br><span class="line">      &lt;li v-for=<span class="string">"tab in tabs"</span>&gt;</span><br><span class="line">        &#123;&#123;tab.text&#125;&#125;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;p v-if=<span class="string">"ok"</span>&gt;我是对的&lt;/p&gt;</span><br><span class="line">    &lt;p v-else=<span class="string">"ok"</span>&gt;我错了&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">    &lt;input v-model.lazy=<span class="string">"msg"</span>&gt;&lt;br&gt;</span><br><span class="line">    &#123;&#123;msg&#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">      el: <span class="string">'#didi-navigator'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        tabs: [</span><br><span class="line">          &#123;text: <span class="string">'巴士'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'快车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'专车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'顺风车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'出租车'</span>&#125;,</span><br><span class="line">          &#123;text: <span class="string">'代驾'</span>&#125;</span><br><span class="line">        ],</span><br><span class="line">        ok: <span class="literal">false</span>,</span><br><span class="line">        msg: <span class="string">"内容是在change事件后才改变的"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>trim</strong> 如果要自动过滤用户输入的首尾空白字符，可以给 v-model 添加 trim 修饰符</p>
</li>
</ol>
<h4 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h4><p>for循环</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"example"</span>&gt;</span><br><span class="line">    &lt;ul id=<span class="string">"demo"</span>&gt;</span><br><span class="line">      &lt;!--<span class="variable">$index</span>,<span class="variable">$key</span>两个隐性变量在新的vue版本中被移除--&gt;</span><br><span class="line">      &lt;li v-for=<span class="string">"(item, index) in items"</span> class=<span class="string">"item-&#123;&#123;index&#125;&#125;"</span>&gt;</span><br><span class="line">        &#123;&#123;index&#125;&#125; - &#123;&#123;parentMessage&#125;&#125; &#123;&#123;item.msg&#125;&#125;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var demo = new Vue(&#123;</span><br><span class="line">      el: <span class="string">'#demo'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        parentMessage: <span class="string">'滴滴'</span>,</span><br><span class="line">        items: [</span><br><span class="line">          &#123;msg: <span class="string">'顺风车'</span>&#125;,</span><br><span class="line">          &#123;msg: <span class="string">'专车'</span>&#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>Vue.js 1.0.17及以后版本都支持of分割符 <code>item in/of items</code></p>
<h4 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h4><p>使用v-text可以使用Mustache语法轻松的操控元素中的纯文本</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"example"</span>&gt;</span><br><span class="line">    &lt;span v-text=<span class="string">"'姓名：' + name"</span>&gt;&lt;/span&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var demo = new Vue(&#123;</span><br><span class="line">      el: <span class="string">'#example'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        name: <span class="string">'Winbug'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h4><p>使用v-html可以使用Mustache语法轻松的操控元素中的HTML片段（不推荐使用，容易导致XSS攻击）</p>
<h4 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h4><p>v-bind将一个或多个attribute动态绑定到表达式, <code>v-bind:</code> 可以缩写为<code>:</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;example&quot;&gt;</span><br><span class="line">    &lt;span :class&#x3D;&quot;className&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var demo &#x3D; new Vue(&#123;</span><br><span class="line">      el: &#39;#example&#39;,</span><br><span class="line">      data: &#123;</span><br><span class="line">        className: &#39;Winbug&#39;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h4><p>v-on 用于绑定事件监听器。<code>v-on:</code> 可以缩写为 <code>@</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"example"</span>&gt;</span><br><span class="line">    &lt;span :class=<span class="string">"className"</span> @click=<span class="string">"myName"</span>&gt;Click Me&lt;/span&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var demo = new Vue(&#123;</span><br><span class="line">      el: <span class="string">'#example'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        className: <span class="string">'Winbug'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        myName: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">          alert(this.className);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>相关事件修饰符</p>
<ul>
<li>.stop 阻止冒泡</li>
<li>.prevent  阻止默认行为</li>
<li>.capture  添加事件侦听器时使用capture模式</li>
<li>.self 绑定元素本身时触发回调</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;!-- 阻止单击事件继续传播 --&gt;</span><br><span class="line">&lt;a v-on:click.stop=<span class="string">"doThis"</span>&gt;&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 提交事件不再重载页面 --&gt;</span><br><span class="line">&lt;form v-on:submit.prevent=<span class="string">"onSubmit"</span>&gt;&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 修饰符可以串联 --&gt;</span><br><span class="line">&lt;a v-on:click.stop.prevent=<span class="string">"doThat"</span>&gt;&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 只有修饰符 --&gt;</span><br><span class="line">&lt;form v-on:submit.prevent&gt;&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 添加事件监听器时使用事件捕获模式 --&gt;</span><br><span class="line">&lt;!-- 即元素自身触发的事件先在此处理，然后才交由内部元素进行处理 --&gt;</span><br><span class="line">&lt;div v-on:click.capture=<span class="string">"doThis"</span>&gt;...&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 只当在 event.target 是当前元素自身时触发处理函数 --&gt;</span><br><span class="line">&lt;!-- 即事件不是从内部元素触发的 --&gt;</span><br><span class="line">&lt;div v-on:click.self=<span class="string">"doThat"</span>&gt;...&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-el-和-v-ref被-ref所替换"><a href="#v-el-和-v-ref被-ref所替换" class="headerlink" title="v-el 和 v-ref被 ref所替换"></a>v-el 和 v-ref被 ref所替换</h4><p>为DOM元素注册一个索引，方便通过所属势力的$els访问这个元素。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"example"</span>&gt;</span><br><span class="line">    &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">        &lt;input <span class="built_in">type</span>=<span class="string">"text"</span> ref=<span class="string">"input1"</span>/&gt;</span><br><span class="line">        &lt;button @click=<span class="string">"add"</span>&gt;添加&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var demo = new Vue(&#123;</span><br><span class="line">      el: <span class="string">'#example'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        add: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">          this.<span class="variable">$refs</span>.input1.value=<span class="string">"22"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-pre-可以用来显示原始Mustahce标签。"><a href="#v-pre-可以用来显示原始Mustahce标签。" class="headerlink" title="v-pre 可以用来显示原始Mustahce标签。"></a>v-pre 可以用来显示原始Mustahce标签。</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"example"</span>&gt;</span><br><span class="line">    &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">      &lt;span v-pre&gt;&#123;&#123; this will not be compiled &#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var demo = new Vue(&#123;</span><br><span class="line">      el: <span class="string">'#example'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-cloak-这个指令保持在元素上直到关联实例结束编译。和-CSS-规则如-v-cloak-display-none-一起用时，这个指令可以隐藏未编译的-Mustache-标签直到实例准备完毕。"><a href="#v-cloak-这个指令保持在元素上直到关联实例结束编译。和-CSS-规则如-v-cloak-display-none-一起用时，这个指令可以隐藏未编译的-Mustache-标签直到实例准备完毕。" class="headerlink" title="v-cloak  这个指令保持在元素上直到关联实例结束编译。和 CSS 规则如 [v-cloak] { display: none } 一起用时，这个指令可以隐藏未编译的 Mustache 标签直到实例准备完毕。"></a>v-cloak  这个指令保持在元素上直到关联实例结束编译。和 CSS 规则如 [v-cloak] { display: none } 一起用时，这个指令可以隐藏未编译的 Mustache 标签直到实例准备完毕。</h4><p>v-cloak 在CSS样式表中添加</p>
<h3 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h3><h4 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h4><p>一、钩子函数</p>
<pre><code>+ bind 只调用一次，指令第一次绑定到元素上时调用
+ update 在bind之后立即以初始值为参数第一次调用，之后每当绑定值变化时调用。
+ unbind 只调用一次，在指令从元素上解绑时调用

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Vue.directive(<span class="string">'my-directive'</span>, &#123;</span><br><span class="line">  <span class="built_in">bind</span>: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    //准备工作</span><br><span class="line">    //例如，添加事件处理器或只需要运行一次的高耗任务</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  update: <span class="keyword">function</span>(newValue, oldValue)&#123;</span><br><span class="line">    //值更新时的工作</span><br><span class="line">    //也会以初始值为参数调用一次</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  unbind: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    //清理工作</span><br><span class="line">    //例如，删除<span class="built_in">bind</span>()添加的事件监听器</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

+ 注册之后，在Vue.js模板中添加前缀 `v-` 使用
  如 `&lt;div v-my-directive=&quot;someValue&quot;&gt;`</code></pre><p>二、指令实例属性(2.x更新了此属性)</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>el</td>
<td>指令绑定的元素</td>
</tr>
<tr>
<td>vnode</td>
<td>Vue 编译生成的虚拟节点。</td>
</tr>
<tr>
<td>oldVnode</td>
<td>上一个虚拟节点，仅在 update 和 componentUpdated 钩子中可用。</td>
</tr>
<tr>
<td>binding</td>
<td>一个对象，包含以下属性</td>
</tr>
<tr>
<td>expression</td>
<td>指令的表达式，不包括参数和过滤器</td>
</tr>
<tr>
<td>arg</td>
<td>指令的参数</td>
</tr>
<tr>
<td>value</td>
<td>指令的绑定值，例如：v-my-directive=”1 + 1” 中，绑定值为 2。</td>
</tr>
<tr>
<td>oldValue</td>
<td>指令绑定的前一个值，仅在 update 和 componentUpdated 钩子中可用。无论值是否改变都可用。</td>
</tr>
<tr>
<td>name</td>
<td>指令的名字，不包含前缀</td>
</tr>
<tr>
<td>modifiers</td>
<td>一个对象，包含指令的修饰符</td>
</tr>
</tbody></table>
<pre><code>以上属性视为只读
不同于 Vue 1.x，所有的挂载元素会被 Vue 生成的 DOM 替换。因此不推荐挂载root实例到 `&lt;html&gt;` 或者 `&lt;body&gt;` 上。

**Vue去掉警告 You are running Vue in development mode**
这样解决：  

`Vue.config.productionTip = false`

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=<span class="string">"example"</span> @click=<span class="string">'up'</span> style=<span class="string">"height: 500px; width: 100%; background: #CC0000"</span>&gt;</span><br><span class="line">    &lt;div id=<span class="string">"demo"</span> v-demo:hello.a.b=<span class="string">"message"</span>&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">      Vue.config.productionTip = <span class="literal">false</span>;</span><br><span class="line">      Vue.directive(<span class="string">'demo'</span>, &#123;</span><br><span class="line">        <span class="built_in">bind</span>: <span class="keyword">function</span> (el, binding, vnode) &#123;</span><br><span class="line">          var s = JSON.stringify</span><br><span class="line">          el.innerHTML =</span><br><span class="line">            <span class="string">'name: '</span>       + s(binding.name) + <span class="string">'&lt;br&gt;'</span> +</span><br><span class="line">            <span class="string">'value: '</span>      + s(binding.value) + <span class="string">'&lt;br&gt;'</span> +</span><br><span class="line">            <span class="string">'expression: '</span> + s(binding.expression) + <span class="string">'&lt;br&gt;'</span> +</span><br><span class="line">            <span class="string">'argument: '</span>   + s(binding.arg) + <span class="string">'&lt;br&gt;'</span> +</span><br><span class="line">            <span class="string">'modifiers: '</span>  + s(binding.modifiers) + <span class="string">'&lt;br&gt;'</span> +</span><br><span class="line">            <span class="string">'vnode keys: '</span> + Object.keys(vnode).join(<span class="string">', '</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      new Vue(&#123;</span><br><span class="line">        el: <span class="string">'#example'</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">          message: <span class="string">'hello!'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">  &lt;/body&gt;</span><br></pre></td></tr></table></figure></code></pre><p>三、对象字面量<br>如果指令需要多个值，可以传入一个 JavaScript 对象字面量。记住，指令函数能够接受所有合法类型的 JavaScript 表达式。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">"demo"</span> v-demo=<span class="string">"&#123;color: 'write', text: 'Hello!'&#125;"</span> &gt;&lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      //此处Vue.js v2.0进行了修改使用binding</span><br><span class="line">      Vue.directive(<span class="string">'demo'</span>, <span class="keyword">function</span>(el, binding)&#123;</span><br><span class="line">        console.log(binding.value);</span><br><span class="line">        console.log(binding.value.color); //=&gt;write</span><br><span class="line">        console.log(binding.value.text); //=&gt;Hello!</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      var demo = new Vue(&#123;</span><br><span class="line">        el: <span class="string">'#demo'</span></span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>四、字面修饰符<br>当指令使用了字面修饰符时，他的值将按普通字符串处理并传递给update方法。update方法将只调用一次，因为普通字符串不能相应数据变化。</p>
<p><del>五、元素指令</del>(Vue.js V2.0已移除)<br><del>有时我们想以自定义元素的形式使用指令，而不是以属性的形式。</del></p>
<h4 id="高级选项"><a href="#高级选项" class="headerlink" title="高级选项"></a>高级选项</h4><p>Vue.js允许注册自定义指令。</p>
<h5 id="params"><a href="#params" class="headerlink" title="params"></a>params</h5><p>自定义指令可以接受一个params数组，制定一个特性列表，Vue编辑器将自动提取绑定元素的这些特性。(之后补充例子)</p>
<h5 id="deep"><a href="#deep" class="headerlink" title="deep"></a>deep</h5><p>自定义指令使用在一个对象上，当对象内部属性变化时要触发update，则在指令定义对象中指定deep: true<br>注意监听数组的变动不需要这么做。(之后补充例子)</p>
<h2 id="第4章-计算属性"><a href="#第4章-计算属性" class="headerlink" title="第4章 计算属性"></a>第4章 计算属性</h2><h3 id="什么是计算属性"><a href="#什么是计算属性" class="headerlink" title="什么是计算属性"></a>什么是计算属性</h3><p>当其依赖属性的值发生变化时，这个属性的值会自动更新，与之相关的DOM部分也会同步自动更新</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">"example"</span>&gt;</span><br><span class="line">        &lt;input <span class="built_in">type</span>=<span class="string">"text"</span> v-model=<span class="string">"didi"</span> /&gt;</span><br><span class="line">        &lt;input <span class="built_in">type</span>=<span class="string">"text"</span> v-model=<span class="string">"family"</span> /&gt;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        didi = &#123;&#123;didi&#125;&#125;, family = &#123;&#123;family&#125;&#125;, didiFamily = &#123;&#123;didiFamily&#125;&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      var vm = new Vue(&#123;</span><br><span class="line">        el: <span class="string">'#example'</span>,</span><br><span class="line">        data:&#123;</span><br><span class="line">          didi: <span class="string">"Didi"</span>,</span><br><span class="line">          family: <span class="string">"Family"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        computed:&#123;</span><br><span class="line">          //一个计算属性的getter</span><br><span class="line">          didiFamily: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">            //this 指向vm实例</span><br><span class="line">            <span class="built_in">return</span> this.didi + this.family;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">  &lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h3 id="计算属性缓存"><a href="#计算属性缓存" class="headerlink" title="计算属性缓存"></a>计算属性缓存</h3>]]></content>
      <categories>
        <category>Vue.js</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>nodejs</tag>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>Node即学即用</title>
    <url>/2018/12/05/nodeupandrunning/</url>
    <content><![CDATA[<h1 id="Node即学即用"><a href="#Node即学即用" class="headerlink" title="Node即学即用"></a>Node即学即用</h1><h2 id="第1章-Node-js简介"><a href="#第1章-Node-js简介" class="headerlink" title="第1章 Node.js简介"></a>第1章 Node.js简介</h2><h3 id="开始写代码"><a href="#开始写代码" class="headerlink" title="开始写代码"></a>开始写代码</h3><ol>
<li><p>Node REPL(Read - Evaluate - Print - Loop) REPL模式输入，求值，输出，循环<br>我们可以启动node，来进行测试一般的Javascript</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node</span><br><span class="line">&gt;3&gt;2&gt;1</span><br><span class="line"><span class="literal">false</span></span><br><span class="line">&gt;<span class="literal">true</span>==1</span><br><span class="line"><span class="literal">true</span></span><br><span class="line">&gt;<span class="literal">true</span>===1</span><br><span class="line"><span class="literal">false</span></span><br><span class="line">.<span class="built_in">exit</span>  //输入.<span class="built_in">exit</span>退出node环境</span><br></pre></td></tr></table></figure>
</li>
<li><p>编写首个服务器程序</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var http = require(<span class="string">'http'</span>);</span><br><span class="line">http.createServer(<span class="keyword">function</span> (req, res)&#123;</span><br><span class="line">  res.writeHead(200, &#123;<span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span>&#125;);</span><br><span class="line">  res.end(<span class="string">'Hello World\n'</span>);</span><br><span class="line">&#125;).listen(8000, <span class="string">"127.0.0.1"</span>);</span><br><span class="line">console.log(<span class="string">'Server running at http://127.0.0.1:8000'</span>);</span><br></pre></td></tr></table></figure>

<p> require(‘http’),导入http模块<br> req参数，请求对象<br> res参数，响应对象<br> res.writeHead设置相应头<br> end方法会关闭HTTP连接</p>
 <a id="more"></a>

</li>
</ol>
<h3 id="非常有用的元命令"><a href="#非常有用的元命令" class="headerlink" title="非常有用的元命令"></a>非常有用的元命令</h3><p>一般以 . 开头</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>.help</td>
<td>显示帮助菜单</td>
</tr>
<tr>
<td>.clear</td>
<td>清楚当前运行的内容</td>
</tr>
<tr>
<td>.exit</td>
<td>退出Node解析器</td>
</tr>
</tbody></table>
<h2 id="第2章-编写有趣的应用"><a href="#第2章-编写有趣的应用" class="headerlink" title="第2章 编写有趣的应用"></a>第2章 编写有趣的应用</h2><h3 id="创建聊天室"><a href="#创建聊天室" class="headerlink" title="创建聊天室"></a>创建聊天室</h3><p>代码1 创建一个聊天室的基础服务</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var net = require(<span class="string">'net'</span>); //加载net模块</span><br><span class="line"></span><br><span class="line">var chatServer = net.createServer()</span><br><span class="line"></span><br><span class="line">chatServer.on(<span class="string">'connection'</span>, <span class="keyword">function</span>(client)&#123; //on调用connection事件</span><br><span class="line">  client.write(<span class="string">"Hi!\n"</span>);</span><br><span class="line">  client.write(<span class="string">"Bye!\n"</span>);</span><br><span class="line">  </span><br><span class="line">  client.end()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">chatServer.listen(3000);</span><br></pre></td></tr></table></figure>

<p>代码2 监听所有链接请求</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var net = require(<span class="string">'net'</span>);</span><br><span class="line"></span><br><span class="line">var chatServer = net.createServer()</span><br><span class="line"></span><br><span class="line">chatServer.on(<span class="string">'connection'</span>, <span class="keyword">function</span>(client)&#123;</span><br><span class="line">  client.write(<span class="string">"Hi!\n"</span>);</span><br><span class="line">  </span><br><span class="line">  client.on(<span class="string">'data'</span>, <span class="keyword">function</span>(data)&#123; //关注data事件</span><br><span class="line">    console.log(data.toString()); //不使用toString，后台将显示Buffer后的十六进制字符</span><br><span class="line">  &#125;)</span><br><span class="line">  //此处删除了client.end，为了持续受到数据</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">chatServer.listen(3000);</span><br></pre></td></tr></table></figure>

<p>代码3 添加用户列表</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var net = require(<span class="string">'net'</span>);</span><br><span class="line"></span><br><span class="line">var chatServer = net.createServer(),</span><br><span class="line">    clientList = [];</span><br><span class="line"></span><br><span class="line">chatServer.on(<span class="string">'connection'</span>, <span class="keyword">function</span>(client)&#123;</span><br><span class="line">  client.write(<span class="string">"Hi!\n"</span>);</span><br><span class="line">  clientList.push(client);</span><br><span class="line">  </span><br><span class="line">  client.on(<span class="string">'data'</span>, <span class="keyword">function</span>(data)&#123;</span><br><span class="line">    <span class="keyword">for</span>(var i=0; i&lt;clientList.length; i++)&#123;</span><br><span class="line">      //把数据发给用户</span><br><span class="line">      clientList[i].write(data)</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(data.toString());</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">chatServer.listen(3000);</span><br></pre></td></tr></table></figure>

<p>完成后多用户可以同时聊天，问题是收到自己的重复信息</p>
<p>代码4 完善用户对话</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var net = require(<span class="string">'net'</span>);</span><br><span class="line"></span><br><span class="line">var chatServer = net.createServer(),</span><br><span class="line">    clientList = [];</span><br><span class="line"></span><br><span class="line">chatServer.on(<span class="string">'connection'</span>, <span class="keyword">function</span>(client)&#123;</span><br><span class="line">  client.name= client.remoteAddress + <span class="string">':'</span> + client.remotePort; //获取用户地址及port</span><br><span class="line">  client.write(<span class="string">"Hi "</span> + client.name + <span class="string">'!\n'</span>);</span><br><span class="line">  clientList.push(client);</span><br><span class="line">  </span><br><span class="line">  client.on(<span class="string">'data'</span>, <span class="keyword">function</span>(data)&#123;</span><br><span class="line">    broadcast(data, client);</span><br><span class="line">    console.log(data.toString());</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> broadcast(message, client)&#123;</span><br><span class="line">  <span class="keyword">for</span>(var i=0; i&lt;clientList.length; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(client !== clientList[i])&#123;</span><br><span class="line">      clientList[i].write(client.name + <span class="string">' says '</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">chatServer.listen(3000);</span><br></pre></td></tr></table></figure>

<p>虽然已经完善了不少，问题还是很多，退出用户会出严重错误</p>
<p>代码5 完善后的最终版</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var net = require(<span class="string">'net'</span>);</span><br><span class="line"></span><br><span class="line">var chatServer = net.createServer(),</span><br><span class="line">    clientList = [];</span><br><span class="line"></span><br><span class="line">chatServer.on(<span class="string">'connection'</span>, <span class="keyword">function</span>(client)&#123;</span><br><span class="line">  client.name= client.remoteAddress + <span class="string">':'</span> + client.remotePort;</span><br><span class="line">  client.write(<span class="string">"Hi "</span> + client.name + <span class="string">'!\n'</span>);</span><br><span class="line">  console.log(client.name + <span class="string">" joined"</span>);</span><br><span class="line">  clientList.push(client);</span><br><span class="line">  </span><br><span class="line">  client.on(<span class="string">'data'</span>, <span class="keyword">function</span>(data)&#123;</span><br><span class="line">    broadcast(data, client);</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">  client.on(<span class="string">'end'</span>, <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(client.name + <span class="string">" quit"</span>);</span><br><span class="line">    clientList.splice(clientList.indexOf(client),1) //从用户列表中珊瑚已下线的用户</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">  //记录错误</span><br><span class="line">  client.on(<span class="string">'error'</span>, <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(e)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> broadcast(message, client)&#123;</span><br><span class="line">  var cleanup = [];</span><br><span class="line">  <span class="keyword">for</span>(var i=0; i&lt;clientList.length; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(client !== clientList[i])&#123;</span><br><span class="line">      //检查socket的可写状态</span><br><span class="line">      <span class="keyword">if</span>(clientList[i].writable)&#123;</span><br><span class="line">        clientList[i].write(client.name + <span class="string">' says '</span> + message);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          cleanup.push(clientList[i]);</span><br><span class="line">          clientList[i].destroy();  //将用户关闭并移除</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span>(i=0; i&lt;cleanup.length; i++)&#123;</span><br><span class="line">    clientList.splice(clientList.indexOf(cleanup[i]), 1);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">chatServer.listen(3000);</span><br></pre></td></tr></table></figure>

<p>增加了对退出用户的删除，错误记录。大家可以慢慢研究</p>
<h3 id="编写Twitter"><a href="#编写Twitter" class="headerlink" title="编写Twitter"></a>编写Twitter</h3><p>此处使用Express模块，先创建项目目录，进入目录后输入以下命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save express</span><br></pre></td></tr></table></figure>

<p>安装完成后我们就可以继续了。首先创建件的Express服务器</p>
<h4 id="创建服务器"><a href="#创建服务器" class="headerlink" title="创建服务器"></a>创建服务器</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#server.js</span></span><br><span class="line">var express = require(<span class="string">'express'</span>);</span><br><span class="line">var app = express(); //新版已经不适用createServer()来创建了。统一改用express()</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="keyword">function</span>(req, res)&#123;</span><br><span class="line">  res.send(<span class="string">"Welcome to Node Twitter"</span>); //send()方法包含了HTTP头</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(3000);</span><br></pre></td></tr></table></figure>

<h4 id="添加基础API"><a href="#添加基础API" class="headerlink" title="添加基础API"></a>添加基础API</h4><h2 id="第3章-编写健壮的Node程序"><a href="#第3章-编写健壮的Node程序" class="headerlink" title="第3章 编写健壮的Node程序"></a>第3章 编写健壮的Node程序</h2><h3 id="编写Node-js服务器程序的时候遵循的两个策略"><a href="#编写Node-js服务器程序的时候遵循的两个策略" class="headerlink" title="编写Node.js服务器程序的时候遵循的两个策略"></a>编写Node.js服务器程序的时候遵循的两个策略</h3><ul>
<li>在设置完成以后，所有操作都是事件驱动的</li>
<li>如果Node.js需要长时间处理数据，考虑把它分配给web Worker去处理</li>
</ul>
<h3 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h3><ol>
<li>无序的并行I/O<br> Node中所有的I/O操作默认都是无序并行，无序并非乱序，是指顺序无法保证。</li>
<li>顺序串行I/O<br> 每一个人物都必须在上一个任务完成后才能开始。</li>
</ol>
<h3 id="编写产品代码"><a href="#编写产品代码" class="headerlink" title="编写产品代码"></a>编写产品代码</h3><p>编写成熟的代码，是程序更容易维护，更简洁，更易懂。</p>
<h4 id="差错处理"><a href="#差错处理" class="headerlink" title="差错处理"></a>差错处理</h4><p>在Node.js中使用error时间来处理异步错误</p>
<p><code>req.on(&#39;error&#39;, function(e){...})</code></p>
<h4 id="使用多处理器"><a href="#使用多处理器" class="headerlink" title="使用多处理器"></a>使用多处理器</h4><p>Node.js 可以使用 cluster模块来把任务分配给子进程</p>
<h2 id="第4章-核心API"><a href="#第4章-核心API" class="headerlink" title="第4章 核心API"></a>第4章 核心API</h2><h3 id="Events"><a href="#Events" class="headerlink" title="Events"></a>Events</h3><h4 id="EventEmitter类"><a href="#EventEmitter类" class="headerlink" title="EventEmitter类"></a>EventEmitter类</h4><p>提供基础的事件功能</p>
<ol>
<li>on 方法为一个事件创建了监听器。<ul>
<li>两个参数<ul>
<li>需要监听的事件名称</li>
<li>事件触发时需要调用的函数。</li>
</ul>
</li>
<li><code>s.on(&#39;abc&#39;, function(){});</code></li>
</ul>
</li>
<li>emit 方法为触发事件<ul>
<li><code>s.emit(&#39;abc&#39;);</code></li>
</ul>
</li>
</ol>
<p>实例代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//调用util模块，以便调用inherite方法来添加EventEmitter方法添加到我们的Server类中, 事先之前必须安装utils模块 npm install utils</span><br><span class="line">var utils = require(<span class="string">'util'</span>),  //此处书中有错误，为util模块不是utils模块</span><br><span class="line">EventEmitter = require(<span class="string">'events'</span>).EventEmitter;</span><br><span class="line"></span><br><span class="line">var Server = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">  console.log(<span class="string">'init'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">utils.inherits(Server, EventEmitter);</span><br><span class="line"></span><br><span class="line">var s = new Server();</span><br><span class="line">s.on(<span class="string">'abc'</span>, <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">  console.log(<span class="string">'abc'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">s.emit(<span class="string">'abc'</span>);</span><br></pre></td></tr></table></figure>

<h4 id="Callback语法"><a href="#Callback语法" class="headerlink" title="Callback语法"></a>Callback语法</h4><p>使用时间很重要的一个部分是处理回掉函数。</p>
<h3 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h3><p>Node.js的核心功能之一就是Web服务器。</p>
<h4 id="HTTP服务器"><a href="#HTTP服务器" class="headerlink" title="HTTP服务器"></a>HTTP服务器</h4><p>使用require调用http模块<br>使用createServer创建服务器<br>并使用.listen监听指定端口<br>还可以使用 request事件监听器，通过EventEmitter调用on方法来完成</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var http = require(<span class="string">'http'</span>);</span><br><span class="line">var server = http.createServer();</span><br><span class="line">var handleReq = <span class="keyword">function</span>(req, res)&#123;</span><br><span class="line">  res.writeHead(200,&#123;&#125;);</span><br><span class="line">  res.end(<span class="string">"hello world"</span>);</span><br><span class="line">&#125;;</span><br><span class="line">server.on(<span class="string">'request'</span>, handleReq);</span><br><span class="line">server.listen(4000);</span><br></pre></td></tr></table></figure>

<h4 id="HTTP客户端"><a href="#HTTP客户端" class="headerlink" title="HTTP客户端"></a>HTTP客户端</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//向百度的80端口发起HTTP GET请求</span><br><span class="line">var http = require(<span class="string">'http'</span>);</span><br><span class="line">var opts = &#123;</span><br><span class="line">  host: <span class="string">"www.baidu.com"</span>,</span><br><span class="line">  port: 80,</span><br><span class="line">  path: <span class="string">'/'</span>,</span><br><span class="line">  method: <span class="string">'GET'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var req = http.request(opts, <span class="keyword">function</span>(res)&#123;</span><br><span class="line">  console.log(res);</span><br><span class="line">  res.on(<span class="string">'data'</span>, <span class="keyword">function</span>(data)&#123;</span><br><span class="line">    console.log(data);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">req.end();</span><br></pre></td></tr></table></figure>

<p>opts 配置对象，这里我们必须提供的有</p>
<ul>
<li>host</li>
<li>port</li>
<li>path</li>
<li>method(可选)</li>
</ul>
<p>使用opts创建一个http.request实例req， 传入的回调函数监听response时间，并处理request的数据，需要注意的是需要使用end()来结束请求。</p>
<ol>
<li>提交HTTP GET请求</li>
</ol>
<p>GET是很常见的HTTP使用方式。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var http = require(<span class="string">'http'</span>);</span><br><span class="line">var opts = &#123;</span><br><span class="line">  host: <span class="string">"www.baidu.com"</span>,</span><br><span class="line">  port: 80,</span><br><span class="line">  path: <span class="string">'/'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var req = http.get(opts, <span class="keyword">function</span>(res)&#123;</span><br><span class="line">  console.log(res);</span><br><span class="line">  res.on(<span class="string">'data'</span>, <span class="keyword">function</span>(data)&#123;</span><br><span class="line">    console.log(data);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>去掉了最先的opts里面的method及req.end()，因为这些都已经隐含说明了。<br>输出指定编码格式的输出。一般使用<code>response.setEncoding()</code>方法</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var http = require(<span class="string">'http'</span>);</span><br><span class="line">var opts = &#123;</span><br><span class="line">  host: <span class="string">"www.baidu.com"</span>,</span><br><span class="line">  port: 80,</span><br><span class="line">  path: <span class="string">'/'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var req = http.get(opts, <span class="keyword">function</span>(res)&#123;</span><br><span class="line">  res.setEncoding(<span class="string">'utf8'</span>);</span><br><span class="line">  res.on(<span class="string">'data'</span>, <span class="keyword">function</span>(data)&#123;</span><br><span class="line">    console.log(data);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>这样输出出来的就是转码后的内容。</p>
<ol start="2">
<li>发送HTTTP POST 和 PUT 数据</li>
</ol>
<p>使用POST和PUT可以发送数据</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var http = require(<span class="string">'http'</span>);</span><br><span class="line">var options = &#123;</span><br><span class="line">  host: <span class="string">"www.example.com"</span>,</span><br><span class="line">  port: 80,</span><br><span class="line">  path: <span class="string">'/submit'</span>,</span><br><span class="line">  method: <span class="string">'POST'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var req = http.request(options, <span class="keyword">function</span>(res)&#123;</span><br><span class="line">  res.setEcoding(<span class="string">'utf8'</span>);</span><br><span class="line">  res.on(<span class="string">'data'</span>, <span class="keyword">function</span>(chunk)&#123;</span><br><span class="line">    console.log(<span class="string">'BODY: '</span> + chunk);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">req.write(<span class="string">"my data"</span>);</span><br><span class="line">req.write(<span class="string">"more of my data"</span>);</span><br><span class="line"></span><br><span class="line">req.end();</span><br></pre></td></tr></table></figure>

<p>使用http.ClientRequest.write()方法，发送上行数据流，服务器在ClientRequest.end()调用之前是不会响应你的数据请求。</p>
<ol start="3">
<li>ClientResponse对象</li>
</ol>
<p>保存关于请求的许多信息。</p>
<ul>
<li>statusCode(HTTP状态)</li>
<li>header属性(响应对象头)</li>
</ul>
<h4 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h4><p>URL模块提供了解析和处理URL字符串的便利工具。</p>
<p><strong>parse</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var URL = require(<span class="string">'url'</span>);</span><br><span class="line">var myUrl = <span class="string">"https://www.baidu.com/s?wd=javascript%20paseInt&amp;rsv_spt=1&amp;rsv_iqid=0xf6e11e8100009e2d&amp;issp=1&amp;f=8&amp;rsv_bp=1&amp;rsv_idx=2&amp;ie=utf-8&amp;rqlang=cn&amp;tn=baiduhome_pg&amp;rsv_enter=1&amp;oq=javascript%2520%25E5%25AF%25B9%25E8%25B1%25A1&amp;rsv_t=af72%2FXai8pFlwVfzXIUUTPL9cP8%2BsfctlGCXpHeKMTsXzgFgWCGL2wdTA3vEP5QV1vXe&amp;sug=javascript%2520seekto&amp;inputT=4875&amp;rsv_sug3=32&amp;rsv_sug1=15&amp;rsv_sug7=000&amp;rsv_pq=819bc35f000092fd&amp;rsv_sug2=0&amp;rsv_sug4=5270&amp;rsv_sug=1"</span>;</span><br><span class="line"></span><br><span class="line">parsedUrl = URL.parse(myUrl);</span><br><span class="line">console.log(parsedUrl);</span><br></pre></td></tr></table></figure>

<ul>
<li>先导入URL模块</li>
<li>创建URL</li>
<li>对该URL使用parse方法。<ul>
<li>href  完整url</li>
<li>protocol  协议https</li>
<li>host  服务器名</li>
<li>auth  用户证书</li>
<li>hostname  主机名</li>
<li>port  端口</li>
<li>pathname  文件路径</li>
<li>search  包含？的部分</li>
<li>query 包含？的部分，但删除掉了？</li>
<li>hash  #之后的部分</li>
</ul>
</li>
</ul>
<p>parse有两个参数</p>
<ul>
<li>url字符串</li>
<li>布尔值  是否使用queryString模块来解析，默认为false</li>
</ul>
<h4 id="querystring"><a href="#querystring" class="headerlink" title="querystring"></a>querystring</h4><p>querystring使用来处理query字符串的简单辅助模块。</p>
<p><strong>parse</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var qs = require(<span class="string">'querystring'</span>);</span><br><span class="line">var myUrl = <span class="string">"https://www.baidu.com/s?wd=javascript%20paseInt&amp;rsv_spt=1&amp;rsv_iqid=0xf6e11e8100009e2d&amp;issp=1&amp;f=8&amp;rsv_bp=1&amp;rsv_idx=2&amp;ie=utf-8&amp;rqlang=cn&amp;tn=baiduhome_pg&amp;rsv_enter=1&amp;oq=javascript%2520%25E5%25AF%25B9%25E8%25B1%25A1&amp;rsv_t=af72%2FXai8pFlwVfzXIUUTPL9cP8%2BsfctlGCXpHeKMTsXzgFgWCGL2wdTA3vEP5QV1vXe&amp;sug=javascript%2520seekto&amp;inputT=4875&amp;rsv_sug3=32&amp;rsv_sug1=15&amp;rsv_sug7=000&amp;rsv_pq=819bc35f000092fd&amp;rsv_sug2=0&amp;rsv_sug4=5270&amp;rsv_sug=1"</span>;</span><br><span class="line"></span><br><span class="line">parsedUrl = qs.parse(myUrl);</span><br><span class="line">console.log(parsedUrl);</span><br></pre></td></tr></table></figure>

<p>parse方法把query字符串转换成为一个对象，其中属性是对应query字符串中的关键字和变量值。</p>
<p><strong>encode</strong></p>
<p>将parse转换的对象反转为query字符串的格式</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myObj = &#123;<span class="string">'a'</span>:1, <span class="string">'b'</span>:5, <span class="string">'c'</span>: <span class="string">'cats'</span>&#125;;</span><br><span class="line">qs.encode(myObj);</span><br><span class="line"><span class="string">'a=1&amp;b=5&amp;c=cats'</span></span><br></pre></td></tr></table></figure>

<h3 id="I-O"><a href="#I-O" class="headerlink" title="I/O"></a>I/O</h3><h4 id="数据流（stream）"><a href="#数据流（stream）" class="headerlink" title="数据流（stream）"></a>数据流（stream）</h4><p>可读的数据流</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var fs = require(<span class="string">'fs'</span>);</span><br><span class="line">var filehandle = fs.readFile(<span class="string">'node_01.js'</span>, <span class="keyword">function</span>(err, data)&#123;</span><br><span class="line">  console.log(data);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h4><p>尽量使用异步对文件进行操作<br>通过嵌入回调函数完成一部都去并删除文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var fs = require(<span class="string">'fs'</span>);</span><br><span class="line">fs.readFile(<span class="string">'shachu.txt'</span>, <span class="keyword">function</span>(e, data)&#123;</span><br><span class="line">  console.log(<span class="string">"war and peace:"</span> + data);</span><br><span class="line">  fs.unlink(<span class="string">'shachu.txt'</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="Buffer"><a href="#Buffer" class="headerlink" title="Buffer"></a>Buffer</h4><p>创建Buffer</p>
<ul>
<li>三种参数<ul>
<li>Buffer的字节长度 <sup>*</sup></li>
<li>需要拷贝到Buffer里的字节数组</li>
<li>需要拷贝到Buffer里面的字符串 <sup>*</sup></li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">new Buffer(<span class="string">'string'</span>, <span class="string">'ascii'</span>|<span class="string">'utf8'</span>)</span><br></pre></td></tr></table></figure>

<p>Buffer.write()会把字符串写到Buffer指定的位置上。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; var b = new Buffer(5)</span><br><span class="line">undefined</span><br><span class="line">&gt; b.write(<span class="string">'fffff'</span>)</span><br><span class="line">5</span><br><span class="line">&gt; b</span><br><span class="line">&lt;Buffer 66 66 66 66 66&gt;</span><br><span class="line">&gt; b.write(<span class="string">'ab'</span>,1)</span><br><span class="line">2</span><br><span class="line">&gt; b</span><br><span class="line">&lt;Buffer 66 61 62 66 66&gt;</span><br></pre></td></tr></table></figure>

<h2 id="第5章-工具类API"><a href="#第5章-工具类API" class="headerlink" title="第5章 工具类API"></a>第5章 工具类API</h2><h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><p>DNS模块包含了两个主要方法，以及一些便利方法。</p>
<ul>
<li>resolve() 把域名转换成DNS记录<ul>
<li>待解析的域名字符串 <code>www.yahoo.com</code></li>
<li>表示请求的记录类型的字符串 <code>A | CNAME | MX</code></li>
<li>回调函数</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var dns &#x3D; require(&#39;dns&#39;);</span><br><span class="line"></span><br><span class="line">dns.resolve(&#39;yahoo.com&#39;, &#39;A&#39;, function(e,r)&#123;</span><br><span class="line">  if(e)&#123;</span><br><span class="line">    console.log(e);</span><br><span class="line">  &#125;</span><br><span class="line">  console.log(r);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x3D;&gt;[ &#39;98.137.246.7&#39;, &#39;98.138.219.232&#39;, &#39;98.138.219.231&#39; ]</span><br></pre></td></tr></table></figure>

<p>也可以使用 <code>resolveMX(&#39;domain&#39;, callback)</code><br>如果想只返回一个IP地址的话，使用 <code>dns.lookup()</code></p>
<ul>
<li>reverse() IP地址转换成域名</li>
</ul>
<h3 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h3><h4 id="Hashing"><a href="#Hashing" class="headerlink" title="Hashing"></a>Hashing</h4><p>哈希常用于数据混淆验证。<br>以下为常见算法<br>md5<br>sha1<br>sha256<br>sha512<br>ripemd160</p>
<p>用Hash创建摘要</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var crypto = require(<span class="string">'crypto'</span>);</span><br><span class="line">var md5 = crypto.createHash(<span class="string">'md5'</span>);</span><br><span class="line">md5.update(<span class="string">'foo'</span>);</span><br><span class="line"></span><br><span class="line">console.log(md5.digest(<span class="string">'hex'</span>));</span><br></pre></td></tr></table></figure>

<p>在digest()传入参数’hex’,将摘要转为十六进制打印，Hash对象最终确认后，不能被重用。</p>
<h4 id="HMAC"><a href="#HMAC" class="headerlink" title="HMAC"></a>HMAC</h4><p>结合了哈希算法和加密密钥</p>
<p>crypto.createHmac()创建一个Hmac实例<br>提供了update()和digest()方法（与hash相同）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var crypto = require(<span class="string">'crypto'</span>);</span><br><span class="line">var fs = require(<span class="string">'fs'</span>);</span><br><span class="line"></span><br><span class="line">var pem = fs.readFileSync(<span class="string">'key.pem'</span>); //之前创建好的key.pem文件，参考openssl创建证书方法</span><br><span class="line">var key = pem.toString(<span class="string">'ascii'</span>);</span><br><span class="line"></span><br><span class="line">var hmac = crypto.createHmac(<span class="string">'sha1'</span>, key);</span><br><span class="line">hmac.update(<span class="string">'foo'</span>);</span><br><span class="line">hmac.digest(<span class="string">'hex'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h3><h4 id="process模块"><a href="#process模块" class="headerlink" title="process模块"></a>process模块</h4><p>process模块是全局的，并且可以一直通过变量process获得</p>
<ol>
<li><p>process事件</p>
<ul>
<li><p>process是EventEmitter的实例，所以它提供了基于Node进程的系统调用事件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">process.on(<span class="string">'exit'</span>, <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(<span class="string">'This will not run'</span>); //此处将不运行</span><br><span class="line">  &#125;, 100);</span><br><span class="line"></span><br><span class="line">  console.log(<span class="string">'Bye'</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>利用uncaughtException 事件捕获异常</p>
<p>用uncaughtException创建一个事件监听器。它能够简单的将异常输出到标准输出。并不影响已经执行的代码将继续。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var http = require(<span class="string">'http'</span>);</span><br><span class="line">var server = http.createServer(<span class="keyword">function</span>(req, res)&#123;</span><br><span class="line">  res.writeHead(200, &#123;&#125;);</span><br><span class="line">  res.end(<span class="string">'response'</span>);</span><br><span class="line">  badLoggingCall(<span class="string">'sent response'</span>);</span><br><span class="line">  console.log(<span class="string">'sent response'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">process.on(<span class="string">'uncaughtException'</span>, <span class="keyword">function</span>(e)&#123;</span><br><span class="line">  console.log(e);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(8080);</span><br></pre></td></tr></table></figure>

<p>此处将一直显示错误。<code>badLoggingCall is not defined</code>，但服务器并没有关闭退出</p>
</li>
</ul>
</li>
<li><p>与当前的Node进行交互</p>
</li>
</ol>
]]></content>
      <tags>
        <tag>Javascript</tag>
        <tag>Nodejs</tag>
        <tag>学习手册</tag>
      </tags>
  </entry>
  <entry>
    <title>微信小程序学习</title>
    <url>/2019/07/23/wechatMiniApp01/</url>
    <content><![CDATA[<h2 id="微信小程序账号注册"><a href="#微信小程序账号注册" class="headerlink" title="微信小程序账号注册"></a>微信小程序账号注册</h2><p><a href="https://mp.weixin.qq.com/" target="_blank" rel="noopener">注册地址</a></p>
<p>此处就不多做说明了。按照腾讯公司的要求，将该上传的上传，该填写的填写，一般很顺利的就能注册一个账号。</p>
<a id="more"></a>

<h2 id="查看微信小程序文档"><a href="#查看微信小程序文档" class="headerlink" title="查看微信小程序文档"></a>查看微信小程序文档</h2><p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener">开发文档</a></p>
<p>在正式学习之前，还是大概的看一下相应的小程序文档。</p>
<h2 id="开发工具下载"><a href="#开发工具下载" class="headerlink" title="开发工具下载"></a>开发工具下载</h2><p><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" target="_blank" rel="noopener">下载页面</a></p>
<p>根据自己系统下载相应的开发工具。</p>
<h2 id="第一节-初识小程序，打造微信小程序的hello-world"><a href="#第一节-初识小程序，打造微信小程序的hello-world" class="headerlink" title="第一节 初识小程序，打造微信小程序的hello world"></a>第一节 初识小程序，打造微信小程序的hello world</h2><h3 id="启动微信开发者工具"><a href="#启动微信开发者工具" class="headerlink" title="启动微信开发者工具"></a>启动微信开发者工具</h3><p>启动微信开发者工具并新建项目， 由于我们学习的是开发微信小程序，所以在小程序中输入，项目名称，目录，<a href="#">AppID</a>，后端服务，语言（JavaScript）</p>
]]></content>
      <categories>
        <category>微信小程序</category>
      </categories>
      <tags>
        <tag>微信</tag>
        <tag>小程序</tag>
        <tag>wechat</tag>
        <tag>miniApp</tag>
      </tags>
  </entry>
  <entry>
    <title>《你不知道的JavaScript》上卷读书笔记第二部分</title>
    <url>/2018/04/12/youdontknowjs1-2/</url>
    <content><![CDATA[<h2 id="第1章-关于this"><a href="#第1章-关于this" class="headerlink" title="第1章 关于this"></a>第1章 关于this</h2><p><code>this</code> 关键字是Javascript中最复杂的机制之一。到现在我也是对this一知半解，完全没有弄清楚。</p>
<h3 id="为什么要用this"><a href="#为什么要用this" class="headerlink" title="为什么要用this"></a>为什么要用this</h3><p><strong>this</strong> 示例</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">identify</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> this.name.toUpperCase();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">speak</span></span>()&#123;</span><br><span class="line">    var greeting = <span class="string">"Hello, I'm "</span> + identify.call( this );</span><br><span class="line">    console.log( greeting );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var me = &#123;</span><br><span class="line">    name: <span class="string">"Lisa"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var you = &#123;</span><br><span class="line">    name: <span class="string">"John"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">identify.call( me ); //LISA</span><br><span class="line">identify.call( you ); //JOHN</span><br><span class="line">speak.call( me ); //Hello, I<span class="string">'m LISA</span></span><br><span class="line"><span class="string">speak.call( you ); //Hello, I'</span>m JOHN</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p><strong>简单说明</strong><br>每个函数都包含两个非继承而来的方法：call()方法和apply()方法。<br>call()的第一个参数是作为函数上下文的对象，之后的参数可以是任意形式。</p>
<p>this 提供了一种更优雅的方式来隐式“传递”一个对象引用，因此可以将API设计得更加简洁并且易于复用。</p>
<h3 id="误解"><a href="#误解" class="headerlink" title="误解"></a>误解</h3><p>太拘泥于“ this ”的字面意思就会产生一些误解。有两种常见的对于this的解释，但是他们都是错误的。</p>
<ol>
<li>指向自身（<em>错误理解</em>）<br> 如下代码和我们想象的不一样了 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> foo( num )&#123;</span><br><span class="line">    console.log( <span class="string">"foo: "</span> + num );</span><br><span class="line">    this.count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.count = 0;</span><br><span class="line"></span><br><span class="line">var i;</span><br><span class="line"><span class="keyword">for</span>( i=0; i&lt;10; i++ )&#123;</span><br><span class="line">    <span class="keyword">if</span>( i &gt; 5 )&#123;</span><br><span class="line">        foo(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log( foo.count ); //0</span><br><span class="line">//6 7 8 9</span><br></pre></td></tr></table></figure>
 难道foo.count不应该是4么？<br> 如何修改才能叫this指向foo.count呢 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> foo( num )&#123;</span><br><span class="line">    console.log( <span class="string">"foo: "</span> + num );</span><br><span class="line">    //记录foo被调用的次数</span><br><span class="line">    //注意，在当前的调用方式下，this确实指向foo</span><br><span class="line">    this.count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.count = 0;</span><br><span class="line"></span><br><span class="line">var i;</span><br><span class="line"><span class="keyword">for</span>( i=0; i&lt;10; i++ )&#123;</span><br><span class="line">    <span class="keyword">if</span>( i &gt; 5 )&#123;</span><br><span class="line">        //使用call()，可以确保this指向对象foo本身</span><br><span class="line">        foo.call(foo, i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log( foo.count ); //4</span><br><span class="line">//6 7 8 9</span><br></pre></td></tr></table></figure></li>
<li>它的作用域（<em>错误理解</em>）<br> 第二种常见的错误理解，this指向函数的作用域。它不完全正确<br> 这里需要明确一个概念是，this在任何情况下都不指向函数的词法作用域，在Javascript内部，作用域确实和对象类似，可见的标识符都是他的属性，但是作用域“对象”无法通过Javascript代码访问，它存在于Javascript引擎内部。<br> 错误例 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    var a = 2;</span><br><span class="line">    this.bar(); //首先这里就是错误的，调用bar不需要this</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">bar</span></span>()&#123;</span><br><span class="line">    console.log( this.a );  //链接foo想要不执行就读取foo中的a是不可能实现的。</span><br><span class="line">&#125;</span><br><span class="line">bar();</span><br></pre></td></tr></table></figure></li>
<li>this 到底是什么<br> <code>this</code>是在运行时进行绑定的，并不是在编写时绑定。它的上下文取决于函数调用时的各种条件。this的绑定和函数声明的位置没有任何关系，只取决于函数的调用方式。<br> 当一个函数被调用时，会创建一个活动记录。这个记录会包含函数在那里被调用，函数的调用方法，传入的参数等信息。this就是记录的其中一个属性，会在函数执行的过程中用到。</li>
</ol>
<h2 id="第2章-this全面解析"><a href="#第2章-this全面解析" class="headerlink" title="第2章 this全面解析"></a>第2章 this全面解析</h2><p>我们了解到每个函数的this是在调用时被绑定的，完全取决于函数的调用方法。</p>
<h3 id="调用位置"><a href="#调用位置" class="headerlink" title="调用位置"></a>调用位置</h3><p>调用位置，说白了就是函数在代码中被调用的位置（不是声明位置），只有了解了这个概念，才可以知道this到底引用的是什么。</p>
<h3 id="绑定规则"><a href="#绑定规则" class="headerlink" title="绑定规则"></a>绑定规则</h3><h4 id="默认绑定"><a href="#默认绑定" class="headerlink" title="默认绑定"></a>默认绑定</h4><p>默认绑定一般出现在独立函数调用，如下例</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    console.log( this.a ); //this默认绑定到全局对象，如果在严格模式下 this将绑定到undefined</span><br><span class="line">&#125;</span><br><span class="line">var a = 2;</span><br><span class="line">foo(); //2</span><br></pre></td></tr></table></figure>
<p><em>通常情况下不要在代码中混合使用strict mode 和 non-strict mode</em></p>
<h4 id="隐式绑定"><a href="#隐式绑定" class="headerlink" title="隐式绑定"></a>隐式绑定</h4><p>另一条需要考虑的规则是调用位置是否有上下文对象，或者说是否被某个对象拥有或者包含。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    console.log( this.a ); </span><br><span class="line">&#125;</span><br><span class="line">var a = 22;</span><br><span class="line">var obj = &#123;</span><br><span class="line">    a: 2,</span><br><span class="line">    foo: foo</span><br><span class="line">&#125;</span><br><span class="line">foo(); //22</span><br><span class="line">obj.foo(); //2</span><br></pre></td></tr></table></figure>
<p>通过这段代码我们基本上就可以了解到了。根据函数调用的位置不同，this绑定也是不同的。<br>还有，对像属性引用链中只有最顶层或最后一层会影响调用位置。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    console.log( this.a );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj2 = &#123;</span><br><span class="line">    a: 42,</span><br><span class="line">    foo: foo  //this,只绑定最后一层</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj1 = &#123;</span><br><span class="line">    a: 2,</span><br><span class="line">    obj2: obj2</span><br><span class="line">&#125;</span><br><span class="line">obj1.obj2.foo(); //42</span><br></pre></td></tr></table></figure>
<p><strong>隐式丢失</strong><br>一个最常见的this绑定问题就是被绑定的函数会丢失绑定的对象，也就是说它会应用默认绑定，从而把this绑定到全局对象或者undefined上。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    console.log( this.a );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">    a: 2,</span><br><span class="line">    foo: foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var bar = obj.foo  //函数别名</span><br><span class="line">var a = <span class="string">"oops, global"</span>;    //a是全局对象的属性</span><br><span class="line">bar(); //oops, global</span><br></pre></td></tr></table></figure>

<h4 id="显式绑定"><a href="#显式绑定" class="headerlink" title="显式绑定"></a>显式绑定</h4><p>通过Javascript提供的特殊函数call()及apply()方法，他们的第一个参数是一个对象，他们会把这个对象绑定到this，接着在调用函数时指定这个this，因为你可以直接指定this的绑定对象，因此我们称之为显示绑定<br>关于丢失绑定的解决办法</p>
<ol>
<li><p>硬绑定</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    console.log( this.a );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">    a: 2,</span><br><span class="line">    foo: foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var bar = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    foo.call( obj ); //在这里已经硬绑定了this，再怎么也无法修改了</span><br><span class="line">&#125;  //函数别名</span><br><span class="line">var a = <span class="string">"oops, global"</span>;    //a是全局对象的属性</span><br><span class="line">bar(); //2</span><br><span class="line">setTimeout(bar(), 100); //2</span><br><span class="line">bar.call(window) //2</span><br></pre></td></tr></table></figure>
<p> 这种情况，无论以后怎么调用函数bar，它总会手动在obj上调用foo，这种绑定是一种显式的强制绑定被称之为硬绑定</p>
<p> 示例1</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> foo(something)&#123;</span><br><span class="line">    console.log( this.a, something );</span><br><span class="line">    <span class="built_in">return</span> this.a + something;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">    a: 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var bar = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> foo.apply(obj, arguments); //arguments对象是所有（非箭头）函数中都可用的局部变量。</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var b = bar( 3 ); //2 3</span><br><span class="line">console.log( b ); //5</span><br></pre></td></tr></table></figure>
<p> 硬绑定的典型应用场景就是创建一个包裹函数，传入所有的参数并返回接收到的所有值<br> 另一种使用方法是创建一个i可以重复使用的辅助函数</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> foo(something)&#123;</span><br><span class="line">    console.log( this.a, something );</span><br><span class="line">    <span class="built_in">return</span> this.a + something;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">    a: 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var bar = foo.bind( obj );</span><br><span class="line"></span><br><span class="line">var b = bar( 3 ); //2 3</span><br></pre></td></tr></table></figure>
</li>
<li><p>API调用的“上下文”<br> 第三方库及Javascript语言许多的新的内置函数都提供了可选的参数</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> foo(el)&#123;</span><br><span class="line">    console.log(el, this.id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">    id: <span class="string">"awesome"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//调用foo()时，把this绑定到obj</span><br><span class="line">[1,2,3].forEach(foo, obj); //<span class="string">"awesome"</span><span class="string">"awesome"</span><span class="string">"awesome"</span></span><br></pre></td></tr></table></figure>
<h4 id="new绑定"><a href="#new绑定" class="headerlink" title="new绑定"></a>new绑定</h4><p>Javascript的new和其他语言的new有所区别，new在Javascript中只是一个普通的函数，用于创建新的对象，并将这个新对象绑定到函数调用的this上。</p>
</li>
</ol>
<h3 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h3><p>了解了this绑定的四条规则，如果某个调用可以应用多条规则，我们就要了解他们的优先级。</p>
<p><strong>默认绑定</strong> 是四条规则中最低级别<br><strong>隐式绑定</strong> 和 <strong>显式绑定</strong> 的优先级别，我们通过以下示例来进行判断</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    console.log( this.a );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj1 = &#123;</span><br><span class="line">    a: 2,</span><br><span class="line">    foo: foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj2 = &#123;</span><br><span class="line">    a: 3,</span><br><span class="line">    foo: foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj1.foo(); //2</span><br><span class="line">obj2.foo(); //3</span><br><span class="line">obj1.foo.call( obj2 ); //3</span><br><span class="line">obj2.foo.call( obj1 ); //2</span><br></pre></td></tr></table></figure>
<p>可以看出显式绑定优先级更高<br>接下来我们比较一下new绑定和隐式绑定的优先级别</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> foo(something)&#123;</span><br><span class="line">    this.a = something;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj1 = &#123;</span><br><span class="line">    foo: foo</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var obj2 =&#123;&#125;;</span><br><span class="line"></span><br><span class="line">obj1.foo( 2 );</span><br><span class="line">console.log( obj1.a ); //2</span><br><span class="line"></span><br><span class="line">obj1.foo.call( obj2, 3 );</span><br><span class="line">console.log( obj2.a ); //3</span><br><span class="line"></span><br><span class="line">var bar = new obj1.foo( 4 );</span><br><span class="line">console.log( obj1.a ); //2</span><br><span class="line">console.log( bar.a ); //4</span><br></pre></td></tr></table></figure>
<p>明显new绑定级别要高于隐式绑定<br>(<em>实际上new和call,apply无法共同使用，所以无法直接判断优先级</em>)<br>不过通过.bind我们可以判断new绑定和显式绑定的优先级</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> foo(something)&#123;</span><br><span class="line">    this.a = something;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj1 = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">var bar = foo.bind( obj1 ); //通过<span class="built_in">bind</span>将bar硬绑定到obj1</span><br><span class="line">bar( 2 );</span><br><span class="line">console.log( obj1.a ); //2</span><br><span class="line"></span><br><span class="line">var baz = new bar( 3 );</span><br><span class="line">console.log( baz.a ); //3</span><br></pre></td></tr></table></figure>

<p><strong>判断this</strong><br>this绑定可以按照以下的顺序进行判断<br>① 函数是否存在new调用？如果是的话，this绑定的是新创建的对象<br>② 函数是否通过call | apply或是硬绑定调用？如果是的话，this绑定的是指定对象<br>③ 函数是否在某个上下文中调用？如果是的话，this绑定的是那个上下文对象<br>④ 如果都不是，则绑定全局对象，严格模式下就绑定到undefined</p>
<h3 id="绑定例外"><a href="#绑定例外" class="headerlink" title="绑定例外"></a>绑定例外</h3><p>在特殊情况下this的绑定也有例外</p>
<h4 id="被忽略的this"><a href="#被忽略的this" class="headerlink" title="被忽略的this"></a>被忽略的this</h4><p>如果你把null或是undefined 作为绑定对象传入到 call, apply或者bind，这些值会在调用时被忽略。 </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    console.log( this.a );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var a = 2;</span><br><span class="line"></span><br><span class="line">foo.call( null ); //2 ,null被忽略了</span><br></pre></td></tr></table></figure>
<p>但是这种直接使用null，会给程序带来许多意想不到的bug,所以可以使用一下的安全this</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> foo( a, b )&#123;</span><br><span class="line">    console.log( <span class="string">"a: "</span> + a + <span class="string">" b: "</span> + b );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//把DMZ做成一个空对象</span><br><span class="line">var Φ = Object.create( null );</span><br><span class="line"></span><br><span class="line">//把数组展开成参数</span><br><span class="line">foo.apply( Φ, [2,3] ); //a: 2 b: 3</span><br><span class="line">var bar = foo.bind(Φ, 2);</span><br><span class="line">bar( 3 ); // a: 2 b: 3</span><br></pre></td></tr></table></figure>

<h4 id="间接引用"><a href="#间接引用" class="headerlink" title="间接引用"></a>间接引用</h4><p>创建一个函数的间接引用时，调用这个函数会应用默认的绑定规则</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    console.log( this.a );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var a = 2;</span><br><span class="line">var o = &#123;a: 3, foo: foo&#125;;</span><br><span class="line">var p = &#123;a: 4&#125;;</span><br><span class="line"></span><br><span class="line">o.foo(); //3</span><br><span class="line">(p.foo = o.foo)(); //2</span><br></pre></td></tr></table></figure>
<p>p.foo = o.foo的返回值是对目标函数的引用，因此调用位置为foo()。</p>
<h4 id="软绑定"><a href="#软绑定" class="headerlink" title="软绑定"></a>软绑定</h4><p>由于硬绑定大大的降低了程序的灵活性，可以通过创建一个方法来实现软绑定</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(!Function.prototype.softBind)&#123;</span><br><span class="line">    Function.prototype.softBind = <span class="keyword">function</span>( obj )&#123;</span><br><span class="line">        var fn = this;</span><br><span class="line">        //捕获所有curried参数</span><br><span class="line">        var curried = [].slice.call( arguments, 1 );</span><br><span class="line">        var bound = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">            <span class="built_in">return</span> fn.apply(</span><br><span class="line">                (!this || this === (window || global) ) ?</span><br><span class="line">                    obj : this,</span><br><span class="line">                    curried.concat.apply( curried, arguments )</span><br><span class="line">            );</span><br><span class="line">        &#125;;</span><br><span class="line">        bound.prototype = Object.create( fn.prototype );</span><br><span class="line">        <span class="built_in">return</span> bound;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    console.log( <span class="string">"name: "</span> + this.name );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = &#123;name: <span class="string">"obj1"</span>&#125;,</span><br><span class="line">    obj2 = &#123;name: <span class="string">"obj2"</span>&#125;,</span><br><span class="line">    obj3 = &#123;name: <span class="string">"obj3"</span>&#125;;</span><br><span class="line">var fooOBJ = foo.softBind( obj );</span><br><span class="line">fooOBJ();</span><br><span class="line"></span><br><span class="line">obj2.foo = foo.softBind( obj );</span><br><span class="line">obj2.foo();</span><br><span class="line"></span><br><span class="line">fooOBJ.call( obj3 );</span><br><span class="line"></span><br><span class="line">setTimeout( obj2.foo, 10 );</span><br></pre></td></tr></table></figure>
<p>(<em>太深奥，以至于此处完全不懂，之后返工</em>)</p>
<h2 id="第3章-对象"><a href="#第3章-对象" class="headerlink" title="第3章 对象"></a>第3章 对象</h2><p>对象是什么？</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><ol>
<li>声明形式（文字形式） <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myObj = &#123;key: value, ....&#125;;</span><br></pre></td></tr></table></figure></li>
<li>构造形式 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myObj = new Object();</span><br><span class="line">myObj.key = value;</span><br></pre></td></tr></table></figure>
区别，声明形式，可以一次添加多个键值对，构造形式，需要一个一个添加。<br>（<em>一般都会使用声明形式来创建对象</em>）</li>
</ol>
<h3 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h3><p>Javascript包含6种类型<br>string, number, boolean, null, undefined, object<br>函数，数组都属于对象</p>
<p><strong>内置对象</strong><br>String, Number, Boolean, Object, Function, Array, Date, RegExp, Error</p>
<h3 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h3><p>对象的内容是由一些存储在特定命名位置的值组成的，我们称之为属性。<br>访问对象里的值需要使用 <code>.</code>或<code>[]</code>操作符</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myObject = &#123;</span><br><span class="line">    a: 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myObject.a; //2</span><br><span class="line">myObject[<span class="string">"a"</span>]; //2</span><br></pre></td></tr></table></figure>
<p>在对象中，属性名永远是字符串，即使是数字也会转换成字符串</p>
<h4 id="可计算属性名"><a href="#可计算属性名" class="headerlink" title="可计算属性名"></a>可计算属性名</h4><p>可计算属性名最常用的场景在ES6中，可以在文字形式中使用<code>[]</code>包裹一个表达式作为属性名</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var prefix = <span class="string">"foo"</span>;</span><br><span class="line"></span><br><span class="line">var myObject = &#123;</span><br><span class="line">    [prefix + <span class="string">"bar"</span>]: <span class="string">"hello"</span>,</span><br><span class="line">    [prefix + <span class="string">"baz"</span>]: <span class="string">"world"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">myObject.prefixbar //hello</span><br></pre></td></tr></table></figure>

<h4 id="属性与方法"><a href="#属性与方法" class="headerlink" title="属性与方法"></a>属性与方法</h4><p>在Javascript中从技术角度来说，函数永远不“属于”一个对象，无论返回的值是什么类型，每次访问对象的属性就是属性访问。<br>如下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    console.log( <span class="string">"foo"</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var someFoo = foo;  //对foo的变量引用</span><br><span class="line"></span><br><span class="line">var myObject = &#123;</span><br><span class="line">    someFoo: foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo; //<span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;..&#125;</span><br><span class="line">someFoo;  //<span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;..&#125;</span><br><span class="line">myObject.someFoo;  //<span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;..&#125;</span><br></pre></td></tr></table></figure>
<p>someFoo和myObject.someFoo是对同一个函数的不同引用。并不能说函数属于哪一个对象。</p>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p>数组最好使用<code>[]</code>来访问，最好只用对象来存储键/值对，数组来存储数值下标/值对。</p>
<h4 id="复制对象"><a href="#复制对象" class="headerlink" title="复制对象"></a>复制对象</h4><ol>
<li>浅复制 ES6提供了一个方法 Object.assign({目标对象}, myObject);</li>
<li>深复制 ？？</li>
</ol>
<h4 id="属性描述符"><a href="#属性描述符" class="headerlink" title="属性描述符"></a>属性描述符</h4><p>ES5之后，提供了一种新的方法Object.getOwnPropertyDescriptor()</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myObject = &#123;</span><br><span class="line">    a: 2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(Object.getOwnPropertyDescriptor( myObject, <span class="string">"a"</span> )); //&#123;value: 2, writable: <span class="literal">true</span>, enumerable: <span class="literal">true</span>, configurable: <span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure>
<p>除了得到属性值外，还获得了对象的3个特性</p>
<ol>
<li>writable 是否可以修改</li>
<li>configurable 是否可以配置，如果设置成false,除了不能修改其属性外，配置也不能更改。（<em>Object.defineProperty({},”a”,{})</em>）</li>
<li>enumerable 是否可以枚举</li>
</ol>
<h4 id="不变性"><a href="#不变性" class="headerlink" title="不变性"></a>不变性</h4><p>如果你希望属性或是对象是不可变的，按照以下提供的方法可以做到浅不变形</p>
<ol>
<li>对象常量，结合writable: false和 configurable: false。 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myObject = &#123;&#125;;</span><br><span class="line">Object.defineProperty( myObject, <span class="string">"FAVORITE_NUMBER"</span>, &#123;</span><br><span class="line">    value: 42,</span><br><span class="line">    writable: <span class="literal">false</span>,</span><br><span class="line">    configurable: <span class="literal">false</span></span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure></li>
<li>禁止扩展 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myObject = &#123;</span><br><span class="line">    a: 2</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Object.preventExtensions( myObject );</span><br><span class="line">myObject.b = 3;</span><br><span class="line">myObject.b; //undefined</span><br></pre></td></tr></table></figure></li>
<li>密封 Object.seal()会创建一个“密封”的对象，其实就是Object.preventExtenssions() 和 configurable: false的结合</li>
<li>冻结 Object.freeze() 会创建一个冻结对象，其实就是Object.seal() + writable: false</li>
</ol>
<h4 id="Get"><a href="#Get" class="headerlink" title="[[Get]]"></a>[[Get]]</h4><p>[[Get]]操作首先在对象中查找是否有名称相同的属性，如果找到就返回这个属性的值。没有则返回undefined (<em>抽象理解即可，一般用不上</em>)</p>
<h4 id="Put"><a href="#Put" class="headerlink" title="[[Put]]"></a>[[Put]]</h4><p>同[[Get]]一样大概了解就行，作用于给对象属性赋值的时候发生此操作。</p>
<h4 id="Getter和Setter"><a href="#Getter和Setter" class="headerlink" title="Getter和Setter"></a>Getter和Setter</h4><p>对象默认的[[Put]]和[[Get]]操作分别可以控制属性值的设置和获取。<br>在ES5中可以使用getter和setter部分改写默认操作，只能应用在单个属性上，无法应用在整个对象上。<br>当你给一个属性定义getter,setter或者两者都有时，这个属性会被定义为“访问描述符”。对于访问描述符来说，Javascript会忽略它们的value和writable特性，取而代之的是set和get（configurable和enumerable）特性。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myObject = &#123;</span><br><span class="line">    //给a定义一个getter</span><br><span class="line">    get <span class="function"><span class="title">a</span></span>()&#123;</span><br><span class="line">        <span class="built_in">return</span> 2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Object.defineProperty( myObject, //目标对象</span><br><span class="line">                                     <span class="string">"b"</span>, //属性名</span><br><span class="line">                                     &#123;    //描述符</span><br><span class="line">                                         //给b设置一个getter</span><br><span class="line">                                         get: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">                                             <span class="built_in">return</span> this.a * 2</span><br><span class="line">                                         &#125;,</span><br><span class="line"></span><br><span class="line">                                         //确保b会出现在对象的属性列表中</span><br><span class="line">                                         enumerable: <span class="literal">true</span></span><br><span class="line">                                     &#125; );</span><br><span class="line">myObject.a = 3;</span><br><span class="line">console.log(myObject.a); //2</span><br></pre></td></tr></table></figure>
<p>由于我们只定义了a的getter，所以对a的值进行设置时，set操作会忽略赋值操作，不会抛出错误，即使有合法的setter，由于我们自定义的getter只会返回2，所以set操作是没有任何意义的。<br>另外一个例子<br>为了让属性更合理，我们设置一个setter,setter会覆盖单个属性默认的[[Put]]操作。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myObject = &#123;</span><br><span class="line">    //给a定义一个getter</span><br><span class="line">    get <span class="function"><span class="title">a</span></span>()&#123;</span><br><span class="line">        <span class="built_in">return</span> this._a_;</span><br><span class="line">    &#125;,</span><br><span class="line">    //给a设置一个setter</span><br><span class="line">    <span class="built_in">set</span> a(val)&#123;</span><br><span class="line">        this._a_ = val * 2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">myObject.a = 2;</span><br><span class="line">console.log(myObject.a); //4</span><br></pre></td></tr></table></figure>
<p>本例中，实际上我们把赋值[[Put]]操作中的值2存储到了另一个变量<em>a</em>中。名称<em>a</em>值是一种惯例，没有任何特殊的行为。</p>
<h4 id="存在性"><a href="#存在性" class="headerlink" title="存在性"></a>存在性</h4><p>属性值存储的值是undefined,同属性不存在而返回的undefined，如果区分这两种情况？</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myObject = &#123;</span><br><span class="line">    a: 2</span><br><span class="line">&#125;;</span><br><span class="line">(<span class="string">"a"</span> <span class="keyword">in</span> myObject); //<span class="literal">true</span></span><br><span class="line">(<span class="string">"b"</span> <span class="keyword">in</span> myObject); //<span class="literal">false</span></span><br><span class="line">myObject.hasOwnProperty(<span class="string">"a"</span>); //<span class="literal">true</span></span><br><span class="line">myObject.hasOwnProperty(<span class="string">"b"</span>); //<span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h3 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h3><p>数组的遍历我们可以使用for..in<br>对于数值索引的数组来说，可以使用标准的for循环遍历值</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myArray = [1,3,4];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(var i = 0; i &lt; myArray.length; i++)&#123;</span><br><span class="line">    console.log(myArray[i]);</span><br><span class="line">&#125; // 1,3 ,4</span><br></pre></td></tr></table></figure>
<p>ES5中也提供了很多的方法 forEach(), every(), some(),但是他们的共同特点就是遍历数组下标。<br>ES6提供了一个新的额遍历数组方法 for..of</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var myArray = [1,3,4];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>( var v of myArray)&#123;</span><br><span class="line">    console.log( v );</span><br><span class="line">&#125; //1,3,4</span><br></pre></td></tr></table></figure>
<h2 id="第4章-类"><a href="#第4章-类" class="headerlink" title="第4章 类"></a>第4章 类</h2><p>———————————————-以下内容为坑—————————————————<br>原因ES6为止Javascript还未正式启动对类的正式支持，非要强求只会带来更多的隐患。</p>
<h3 id="类理论"><a href="#类理论" class="headerlink" title="类理论"></a>类理论</h3><p>类/继承描述了一种代码的组织结构形式——一种在软件中对真实世界中问题领域的建模方法</p>
<h4 id="“类”设计模式"><a href="#“类”设计模式" class="headerlink" title="“类”设计模式"></a>“类”设计模式</h4><p>类其实就是一种设计模式，如同设计图，模子工厂。</p>
<h4 id="JavaScript中的“类”"><a href="#JavaScript中的“类”" class="headerlink" title="JavaScript中的“类”"></a>JavaScript中的“类”</h4><p>其实Javascript并没有提供类的功能，我们只能够使用一些近似类的方法比如 <code>new</code><code>instanceof</code><code>class</code></p>
<h3 id="类的机制"><a href="#类的机制" class="headerlink" title="类的机制"></a>类的机制</h3><h4 id="建造"><a href="#建造" class="headerlink" title="建造"></a>建造</h4><p><strong>类</strong> 和 <strong>实例</strong> 的概念来源于房屋建造， 类好比是蓝图，而实例则是根据蓝图造好的房子<br><img src="/images/post/youdongknow02.jpg" alt="&quot;类和实例图&quot;"></p>
<h4 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h4><p>类实例是由一个特殊的类方法构造的，这个方法名通常和类名相同，被称为构造函数<br>———————————————-以上内容为坑—————————————————</p>
<h2 id="第5章-原型"><a href="#第5章-原型" class="headerlink" title="第5章 原型"></a>第5章 原型</h2><h3 id="Prototype"><a href="#Prototype" class="headerlink" title="[[Prototype]]"></a>[[Prototype]]</h3><p>Javascript中的对象有一个特殊的[[Prototype]]内置属性，其实就是对于其他对象的引用。几乎所有的对象在创建时[[Prototype]]属性都会被赋予一个非空的值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var anotherObj = &#123;</span><br><span class="line">    a: 2</span><br><span class="line">&#125;</span><br><span class="line">var myObj = Object.create( anotherObj );</span><br><span class="line">console.log( myObj.a ); //2</span><br></pre></td></tr></table></figure>
<p>虽然myObj里面没有a属性，但是通过[[Prototype]]链找到了anotherObj,并[[Get]]到了属性a<br>即使你是用for..in遍历对象时原理和查找[[Prototype]]链类似。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var anotherObj = &#123;</span><br><span class="line">    a: 2</span><br><span class="line">&#125;</span><br><span class="line">var myObj = Object.create( anotherObj );</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(var k <span class="keyword">in</span> myObj)&#123;</span><br><span class="line">    console.log(<span class="string">"found: "</span> + k); //found a</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Object-prototype"><a href="#Object-prototype" class="headerlink" title="Object.prototype"></a>Object.prototype</h4><p>[[Prototype]]的尽头，最终都会指向内置的Object.prototype</p>
<h4 id="属性设置和屏蔽"><a href="#属性设置和屏蔽" class="headerlink" title="属性设置和屏蔽"></a>属性设置和屏蔽</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">myObject.foo = <span class="string">"bar"</span>;</span><br></pre></td></tr></table></figure>
<p>的详细过程</p>
<ol>
<li>如果在[[Prototype]]链上层存在名为foo的普通数据访问属性并且没有被标记为只读(writable: false),那就会在myObject中添加一个名为foo的新属性，它是屏蔽属性。</li>
<li>如果在[[Prototype]]链上层存在foo,但是它被标记为只读（writable: false）,那么无法修改已有属性或者在myObject上创建屏蔽属性。</li>
<li>如果在[[Prototype]]链上层存在foo并且它是一个setter,那就一定会调用这个setter。foo不会被添加到myObject, <a href="#Getter和Setter">setter相关</a></li>
</ol>
<h3 id="“类”"><a href="#“类”" class="headerlink" title="“类”"></a>“类”</h3><p>Javascript 是特殊的面向对象的语言，它可以直接创建对象，并直接定义对象自己的行为。</p>
<h4 id="“类”函数"><a href="#“类”函数" class="headerlink" title="“类”函数"></a>“类”函数</h4><p>在Javascript中没有类可以被复制，也不能创建实例，但是以new创建的新对象并不会和原型对象失去联系，他们是互联的。</p>
<h4 id="“构造函数”"><a href="#“构造函数”" class="headerlink" title="“构造函数”"></a>“构造函数”</h4><p>在Javascript中并不存在构造函数，你在普通的函数调用前面加上 new 关键字之后，new会劫持所有普通函数并用构造对象的形式来调用它。说白了Javascript没有构造函数，只有调用。</p>
<h4 id="技术"><a href="#技术" class="headerlink" title="技术"></a>技术</h4><p>参考以下代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> Foo( name )&#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Foo.prototype.myName = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> this.name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var a = new Foo( <span class="string">"a"</span> );</span><br><span class="line">var b = new Foo( <span class="string">"b"</span> );</span><br><span class="line"></span><br><span class="line">console.log(a.myName()); //a</span><br><span class="line">console.log(b.myName()); //b</span><br></pre></td></tr></table></figure>
<p>这段代码展示了另外两种“面向类”的技巧：</p>
<ol>
<li>this.name = name 给每个对象（a, b）都添加了一个.name属性。</li>
<li>Foo.prototype.myName  它给Foo对象添加一个属性（函数）。现在a,b都可以使用此函数。<br>其实a,b并没有复制对象 Foo.prototype，只是关联到了 Foo.prototype上</li>
</ol>
<h3 id="原型-继承"><a href="#原型-继承" class="headerlink" title="(原型)继承"></a>(原型)继承</h3><p>参考以下代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> Foo( name )&#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Foo.prototype.myName = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> this.name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> Bar(name, lable)&#123;</span><br><span class="line">    Foo.call(this, name);</span><br><span class="line">    this.lable = lable;</span><br><span class="line">&#125;</span><br><span class="line">//我们创建了一个新的Bar.prototype对象并关联到Foo.prototype对象</span><br><span class="line">Bar.prototype = Object.create( Foo.prototype );</span><br><span class="line"></span><br><span class="line">//注意！现在没有Bar.prototype.constructor了</span><br><span class="line">//如果你需要这个属性的话可能需要手动修复一下它</span><br><span class="line">Bar.prototype.myLable = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> this.lable;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var a = new Bar( <span class="string">"a"</span>, <span class="string">"Object a"</span> );</span><br><span class="line"></span><br><span class="line">console.log(a.myName()); //a</span><br><span class="line">console.log(a.myLable());  // Object a</span><br></pre></td></tr></table></figure>
<p>这段代码的核心部分就是语句 Bar.prototype = Object.create( Foo.prototype ); 调用Object.create()会凭空创建一个新对象并把新对象内部的[[Prototype]]关联到拟制定的对象上<br>以下两种方法是错误的</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//和你想要的机制不一样! 这里属于直接引用</span><br><span class="line">Bar.prototype = Foo.prototype</span><br><span class="line"></span><br><span class="line">//基本上满足你的需求，但是可能会产生一些副作用</span><br><span class="line">Bar.prototype = new Foo();</span><br></pre></td></tr></table></figure>
<p>所以如果想创建一个合适的关联对象，我们必须使用Object.create()</p>
<p><strong>检查“类”关系</strong><br>假设我们要寻找一个对象的委托的对象<br>检查一个实例的继承祖先（Javascript中的委托关联）通常被称为内省（或者反射）<br>判断对象和函数之间的关系可以直接使用 instanceof<br>如下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">Foo</span></span>()&#123;</span><br><span class="line">    console.log(<span class="string">"hahaha"</span>);</span><br><span class="line">&#125;</span><br><span class="line">Foo.prototype.blash = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var a = new Foo();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>( a instanceof Foo)&#123;</span><br><span class="line">    console.log(<span class="string">"True"</span>);  //<span class="literal">true</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    console.log(<span class="string">"False"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>那如何判断对象与对象的关系呢？<br>使用 Foo.prototype.isPrototypeOf( a ); //true<br>我们也可以直接获取一个对象的[[Prototype]]链，如下<br>Object.getPrototypeOf( a ) === Foo.prototype; //true</p>
<h4 id="对象关联"><a href="#对象关联" class="headerlink" title="对象关联"></a>对象关联</h4><p>现在我们知道了，[[Prototype]]机制就是存在于对象中的一个内部链接，它会引用其他对象。<br>通常来说这个链接的作用是：如果在对象上没有找到需要的属性或者方法引用，引擎就会继续在[[Prototype]]关联的对象上进行查找。同理，如果在后者中也没有找到需要的引用就会继续查找它的[[Prototype]],以此类推。这一系列对象的链接被称为“原型链”。</p>
<ol>
<li>创建关联<br> Object.create()会创建一个新对象并把它关联到我们指定的对象 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var foo = &#123;</span><br><span class="line">    something: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(<span class="string">"Tell me something good.."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">var bar = Object.create( foo );</span><br><span class="line">bar.something(); //Tell me something good..</span><br></pre></td></tr></table></figure></li>
<li>关联关系是备用<br> 如果我们把对象之间的关联当成是处理“缺失”属性或方法时的一种备用，我们就需要考虑一下是否需要重新设计你的代码。<br> 为了更清晰的设计你的软件我们可以使用内部委托来替换直接委托，可以使你的代码更清晰。 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var anotherObject = &#123;</span><br><span class="line">    cool: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log( <span class="string">"cool!"</span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">var myObject = Object.create( anotherObject );</span><br><span class="line">myObject.doCool = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    this.cool();  //内部委托</span><br><span class="line">&#125;；</span><br><span class="line"></span><br><span class="line">myObject.doCool(); //cool!;</span><br></pre></td></tr></table></figure>

</li>
</ol>
]]></content>
      <categories>
        <category>你不知道的JavaScript</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>nodejs</tag>
        <tag>js</tag>
        <tag>你不知道的JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>VuePress开发经验总结</title>
    <url>/2019/01/17/vuepresssexperience/</url>
    <content><![CDATA[<h1 id="VuePress开发经验总结"><a href="#VuePress开发经验总结" class="headerlink" title="VuePress开发经验总结"></a>VuePress开发经验总结</h1><h2 id="this-site-和-this-page网站和页面的元数据"><a href="#this-site-和-this-page网站和页面的元数据" class="headerlink" title="this.$site 和 this.$page网站和页面的元数据"></a>this.$site 和 this.$page网站和页面的元数据</h2><p>Layout 组件将会对每一个文档目录下的 .md 执行一次，同时，整个网站以及特定页面的元数据将分别暴露为 this.$site 和 this.$page 属性，它们将会被注入到每一个当前应用的组件中。</p>
<p>这是你现在看到的这个网站的 $site 的值：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"title"</span>: <span class="string">"VuePress"</span>,</span><br><span class="line">  <span class="string">"description"</span>: <span class="string">"Vue 驱动的静态网站生成器"</span>,</span><br><span class="line">  <span class="string">"base"</span>: <span class="string">"/"</span>,</span><br><span class="line">  <span class="string">"pages"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"lastUpdated"</span>: 1524027677000,</span><br><span class="line">      <span class="string">"path"</span>: <span class="string">"/"</span>,</span><br><span class="line">      <span class="string">"title"</span>: <span class="string">"VuePress"</span>,</span><br><span class="line">      <span class="string">"frontmatter"</span>: &#123;&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>网站和页面的元数据</strong><br>Layout 组件将会对每一个文档目录下的 .md 执行一次，同时，整个网站以及特定页面的元数据将分别暴露为 this.$site 和 this.$page 属性，它们将会被注入到每一个当前应用的组件中。<br>下面的这个对象是你正在看的这个页面的 $page 的值：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"lastUpdated"</span>: 1524847549000,</span><br><span class="line">  <span class="string">"path"</span>: <span class="string">"/custom-themes.html"</span>,</span><br><span class="line">  <span class="string">"title"</span>: <span class="string">"自定义主题"</span>,</span><br><span class="line">  <span class="string">"headers"</span>: [/* ... */],</span><br><span class="line">  <span class="string">"frontmatter"</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>——- 以上内容为从官网直接复制过来的内容 ——-</p>
<p>估计谁看了，都是一头雾水，说的是什么？怎么应用。下面才是我这篇帖子的真正内容<br>想要如何应用需要看懂下面的代码</p>
<p><strong>环境</strong><br><code>\components\PostList.vue</code><br><code>\xxx.md</code><br>xxx.md文件中引用此处的PostList.vue<br>实现分类页的效果。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#xxx.md</span></span><br><span class="line">---</span><br><span class="line">title: 旅游</span><br><span class="line">pageClass: travel</span><br><span class="line">categories: top</span><br><span class="line">---</span><br><span class="line">&lt;PostList /&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#PostList.vue</span></span><br><span class="line">&lt;h2 class=<span class="string">"size40 strong mb20"</span>&gt;&lt;p&gt;&#123;&#123;title&#125;&#125;&lt;/p&gt;&lt;/h2&gt; &lt;-- 下面的title()对应的是这个地方 --&gt;</span><br><span class="line">&lt;div v-for=<span class="string">"post in posts"</span> class=<span class="string">"content-box"</span>&gt; &lt;-- 下面的posts()对应的是这个地方 --&gt;</span><br><span class="line">  &lt;div class=<span class="string">"box-img"</span>&gt;</span><br><span class="line">    &lt;a v-bind:href=<span class="string">"post.path"</span>&gt;&lt;img v-bind:src=<span class="string">"'/images/' + post.frontmatter.topimg"</span> /&gt;&lt;/a&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=<span class="string">"box-txt"</span>&gt;  </span><br><span class="line">    &lt;div class=<span class="string">"box-caption"</span>&gt;    </span><br><span class="line">      &lt;h2 class=<span class="string">"color-blue"</span>&gt;&#123;&#123;post.title&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;p&gt;&#123;&#123;post.frontmatter.description&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">*******</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> default &#123;</span><br><span class="line">  computed: &#123;</span><br><span class="line">    <span class="function"><span class="title">posts</span></span>() &#123;  //此处的posts对应的是上面的 posts</span><br><span class="line">      <span class="built_in">return</span> this.<span class="variable">$site</span>.pages  /</span><br><span class="line">        //表示travel目录下的所有post</span><br><span class="line">        //.filter(post =&gt; post.path.startsWith(<span class="string">'/'</span>))</span><br><span class="line">        .filter(post =&gt; post.frontmatter[<span class="string">'categories'</span>].startsWith(<span class="string">'travel'</span>))</span><br><span class="line">        //日期按照降序排列</span><br><span class="line">        .sort((a, b) =&gt; new Date(b.frontmatter.date) - new Date(a.frontmatter.date));</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">title</span></span>()&#123;  //此处的title对应的是上面的 title</span><br><span class="line">      var title = this.<span class="variable">$page</span>.title;</span><br><span class="line">      <span class="built_in">return</span> title;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样我们在页面上能显示出什么呢？<br><code>VuePress开发经验总结</code>处显示的是 <code>旅游</code><br><code>v-for=&quot;post in posts&quot;</code> 处对所有指定条件的文章进行显示</p>
<p>赶快试一试吧。</p>
]]></content>
      <tags>
        <tag>nodejs</tag>
        <tag>js</tag>
        <tag>vuepress</tag>
      </tags>
  </entry>
  <entry>
    <title>《你不知道的JavaScript》上卷读书笔记第一部分</title>
    <url>/2018/04/02/youdontknowjs/</url>
    <content><![CDATA[<p><strong>前言</strong><br>我们大部分人对Javascript的了解，都是一知半解。并没有去真正的了解它，学习它，导致我们在遇到问题时就会退缩。学习《你不知道的JavaScript》其实就是为了叫我们更好的了解Javascript, 并掌握它。</p>
<h2 id="第1章-作用域是什么"><a href="#第1章-作用域是什么" class="headerlink" title="第1章 作用域是什么"></a>第1章 作用域是什么</h2><p>作用域是所有编程语言最基本的功能之一，通过一套设计良好的规则来存储变量，并且可以方便的找到这些变量，这套规则被称为作用域。（ <em>本人理解， 这个是针对所有编程语言的概述。</em> ）</p>
<h3 id="编译原理"><a href="#编译原理" class="headerlink" title="编译原理"></a>编译原理</h3><p><strong>JavaScript</strong> 是一门编译语言，程序中的一段代码在执行之前会经历3个步骤，统称为编译</p>
<ol>
<li>分词/词法分析(Tokenizing/Lexing)</li>
<li>解析/语法分析(Parsing)</li>
<li>代码生成<br>（ <em>JavaScript的引擎没有很多时间去优化，一般属于即编译即执行</em> ）</li>
</ol>
<a id="more"></a>

<h3 id="理解作用域"><a href="#理解作用域" class="headerlink" title="理解作用域"></a>理解作用域</h3><ol>
<li>对话（变量在编译器中的运行过程）<br><img src="/images/post/youdongknow01.jpg" alt="变量赋值在编译器中的流程"></li>
<li>编译器在编译过程的第二步中生成了代码，引擎会对变量进行 LHS查询，对值进行RHS查询(将函数声明理解为LHS查询和赋值的形式并不合适)<br>a. LHS, 赋值操作的目标是谁<br>b. RHS, 谁是复制操作的源头</li>
</ol>
<h3 id="作用域嵌套"><a href="#作用域嵌套" class="headerlink" title="作用域嵌套"></a>作用域嵌套</h3><p>当一个块或函数嵌套在另一个块或函数中时，就发生了作用域的嵌套，引擎从当前的执行作用域开始查找变量，如果找不到，就去查找上级作用域，直到找到或没找到</p>
<h3 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h3><p><strong>严格模式</strong>，在ES5中引入了严格模式，在严格模式中，LHS如果找不到变量是不会自动创建其变量，此时因为没有生成变量，引擎会抛出异常 <strong>ReferenceError</strong>。<br>如果不是严格模式，会抛出异常 <strong>TypeError</strong>，因为在RHS查找中，此变量的值并未赋值。</p>
<h2 id="第2章-词法作用域"><a href="#第2章-词法作用域" class="headerlink" title="第2章 词法作用域"></a>第2章 词法作用域</h2><p><strong>词法作用域</strong> 定义在词法阶段的作用域，写代码时将变量和块作用域写在哪里来决定词法作用域。</p>
<h3 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h3><p>作用域气泡的结构和互相之间的位置关系给引擎提供了足够的位置信息。引擎用这些信息来查找标识符的位置。 <strong>作用域查找会在找到第一个匹配的标识符时停止</strong></p>
<h3 id="欺骗词法"><a href="#欺骗词法" class="headerlink" title="欺骗词法"></a>欺骗词法</h3><p><em>欺骗词法作用域会导致性能下降</em></p>
<ol>
<li><p>eval() 函数可以接受一个字符串为参数，并将其中的内容视为代码进行运行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> foo(str, a)&#123;</span><br><span class="line">  <span class="built_in">eval</span>(str); //欺骗</span><br><span class="line">  console.log(a, b);</span><br><span class="line">&#125;</span><br><span class="line">var b = 2;</span><br><span class="line">foo(<span class="string">"var b = 3;"</span>, 1); //1, 3</span><br></pre></td></tr></table></figure>
</li>
<li><p>with 通常用作重复引用同一个对象中的多个属性的快捷方式，可以不需要重复引用对象本身。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> foo(obj)&#123;</span><br><span class="line">    with(obj)&#123; //可以对对象进行简单的快捷方式处理</span><br><span class="line">        a = 2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var o1 = &#123;</span><br><span class="line">    a: 3</span><br><span class="line">&#125;;</span><br><span class="line">var o2 = &#123;</span><br><span class="line">    b: 3</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">foo(o1);</span><br><span class="line">console.log(o1.a);//2</span><br><span class="line"></span><br><span class="line">foo(o2);</span><br><span class="line">//因为o2中没有a属性，因此进行了正常的LHS标识符查找，并在全局中创建了一个变量a</span><br><span class="line">console.log(o2.a);//undefined</span><br><span class="line">console.log(a);//2</span><br></pre></td></tr></table></figure>
</li>
<li><p>性能<br>因为引擎无法判断eval()及with的内容是什么，所以将不会优化此处的代码，导致正哥哥运行变得缓慢。所以尽可能不要使用他们。</p>
</li>
</ol>
<h2 id="第3章-函数作用域和块作用域"><a href="#第3章-函数作用域和块作用域" class="headerlink" title="第3章 函数作用域和块作用域"></a>第3章 函数作用域和块作用域</h2><h3 id="函数中的作用域"><a href="#函数中的作用域" class="headerlink" title="函数中的作用域"></a>函数中的作用域</h3><p>函数作用域的含义是指，属于这个函数的全部变量都可以在函数的范围内使用及复用，但是如果不细心的处理那些可以在整个作用域范围内被访问的变量，可能会带来意想不到的问题。<br><em>作用域气泡， 本人的理解就是作用域范围</em></p>
<h3 id="隐藏内部实现"><a href="#隐藏内部实现" class="headerlink" title="隐藏内部实现"></a>隐藏内部实现</h3><p>作用域的隐藏方法，是从最小暴漏原则引申出来的，在软件设计中，应该最小限度的暴露必要内容，而将其他内容都隐藏起来。</p>
<p>例子</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> doSomething(a)&#123;</span><br><span class="line">    b = a + doSomethingElse(a*2);</span><br><span class="line"></span><br><span class="line">    console.log(b*3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> doSomethingElse(a)&#123;</span><br><span class="line">    <span class="built_in">return</span> a-1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var b;</span><br><span class="line">doSomething(2) //15</span><br></pre></td></tr></table></figure>
<p>这样的话 变量b 被暴露了， 函数doSomethingElse被暴露了。按照下面的做法就将暴露减少到最少</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> doSomething(a)&#123;</span><br><span class="line">    <span class="keyword">function</span> doSomethingElse(a)&#123;</span><br><span class="line">        <span class="built_in">return</span> a-1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var b;</span><br><span class="line">    b = a + doSomethingElse(a*2);</span><br><span class="line"></span><br><span class="line">    console.log(b*3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">doSomething(2) //15</span><br></pre></td></tr></table></figure>

<p><strong>避免冲突</strong><br>为了避免出现同名标识符之间的冲突，因此使用作用域会更好的进行隐藏，避免这种冲突。</p>
<ol>
<li>全局命名空间<br>很多第三方库，都会在全局作用域中声明一个名字足够独特的变量，通常是一个对象，这个对象被用作库的 <strong>命名空间</strong></li>
</ol>
<p>例如</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var MyReallyCoolLibrary&#123;</span><br><span class="line">  awesome: <span class="string">"stuff"</span>,</span><br><span class="line">  doSomething: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    //...</span><br><span class="line">  &#125;,</span><br><span class="line">  doAnotherThing: <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    //...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>模块管理<br>使用模块管理工具，之后有详细说明</li>
</ol>
<h3 id="函数作用域"><a href="#函数作用域" class="headerlink" title="函数作用域"></a>函数作用域</h3><p>区分函数声明和表达式最简单的方法就是看function关键字出现在声明中的位置，如果function是声明中的第一个词，那么就是函数声明，否则就是一个函数表达式。</p>
<ol>
<li><p>匿名和具名<br> 匿名函数表达式简单快捷，但是它也有几个缺点<br> a. 匿名函数不会显示出有意义的函数名，使得调试很困难<br> b. 如果没有函数名，在递归中，在事件触发后需要解绑自身<br> c. 匿名函数省略了对于代码可读性。</p>
</li>
<li><p>立即执行函数表达式<br> (function foo(){})() 表示立即执行也可以写成 (function foo(){}())<br> 除了可以立即执行外还可以传递参数<br> 例子</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var a=2;</span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span> foo(global)&#123; //将参数window改名为global</span><br><span class="line">    var a = 3;</span><br><span class="line">    console.log(a);</span><br><span class="line">    console.log(global.a);</span><br><span class="line">&#125;(window)); //将window全局变量作为参数传入</span><br><span class="line"></span><br><span class="line">console.log(a);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="块作用域"><a href="#块作用域" class="headerlink" title="块作用域"></a>块作用域</h3><p>除了函数作用域外，还有一种块作用域</p>
<p>歧义的块作用域<br>例如</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(var i=0; i&lt;10; i++)&#123;</span><br><span class="line">    console.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不过块作用域看似很安全，其实也会污染全局变量。</p>
<ol>
<li><code>with</code>  不仅是一个难于理解的结构，也是块作用域，在with内创建的变量不会污染外部变量</li>
<li><code>try/catch</code> catch内声明的变量尽在catch内部有效</li>
<li><code>let</code> ES6引入的新的变量声明方式<br> 之前我们有提到歧义的块作用域，我们来比较一下var 和 let区别 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#使用var</span></span><br><span class="line"><span class="keyword">for</span>(var i=0; i&lt;10; i++)&#123;</span><br><span class="line">    console.log(i);</span><br><span class="line">&#125;</span><br><span class="line">console.log(i); //0,1,2,..,9, 10</span><br><span class="line"><span class="comment">#使用let</span></span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">let</span> i=0; i&lt;10; i++)&#123;</span><br><span class="line">    console.log(i);</span><br><span class="line">&#125;</span><br><span class="line">console.log(i); //0,1,2,..,9, Uncaught ReferenceError: i is not defined</span><br></pre></td></tr></table></figure>
 <em>let 进行声明不会在块作用域中进行提升。</em></li>
<li><code>const</code> 声明固定的常量，它也不会被提升到全局。</li>
</ol>
<h2 id="第4章-提升"><a href="#第4章-提升" class="headerlink" title="第4章 提升"></a>第4章 提升</h2><p>Javascript编译阶段所有的声明都会在任何代码执行前首先被处理，做一个提升的处理。换句话说，先有声明后有赋值。<br>（<em>只有声明本身会被提升，而赋值或其他运行逻辑会被留在原地</em>）<br>例1</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">a = 2;</span><br><span class="line">var = a;</span><br><span class="line">console.log(a); //2</span><br></pre></td></tr></table></figure>
<p>其处理过程是</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var a; //变量声明被提升</span><br><span class="line">a = 2;</span><br><span class="line">console.log(a);</span><br></pre></td></tr></table></figure>

<p>例2</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">console.log(a); //undefined未定义</span><br><span class="line">var a = 2;</span><br></pre></td></tr></table></figure>
<p>其处理过程是</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var a;</span><br><span class="line">console.log(a);</span><br><span class="line">a = 2;</span><br></pre></td></tr></table></figure>

<h3 id="函数优先"><a href="#函数优先" class="headerlink" title="函数优先"></a>函数优先</h3><p>函数声明和变量声明都会被提升，函数会被首先提升，然后才是变量<br>如下例</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo(); //1</span><br><span class="line">var foo;</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    console.log(1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其处理过程</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    console.log(1);</span><br><span class="line">&#125;</span><br><span class="line">foo(); //1</span><br><span class="line">foo = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(<em>var foo 因为是重复声明所以被忽略了</em>)</p>
<h2 id="第5章-作用域闭包"><a href="#第5章-作用域闭包" class="headerlink" title="第5章 作用域闭包"></a>第5章 作用域闭包</h2><p>闭包已经成为javascript的神话级概念了。很多人使用javascript多年也不了解闭包（包括本人）。</p>
<h3 id="启示"><a href="#启示" class="headerlink" title="启示"></a>启示</h3><p>理解闭包可以看作是学习javascript的重生，javascript中闭包无处不在，你只需要能够识别并拥抱她。<br>闭包是基于语法作用域书写代码时所产生的自然结果。</p>
<h3 id="实质问题"><a href="#实质问题" class="headerlink" title="实质问题"></a>实质问题</h3><p><strong>闭包</strong> 当函数可以记住并访问所在的词法作用域时，就产生了闭包，即使函数是在当前词法作用域之外执行</p>
<p>实例1</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    var a = 2;</span><br><span class="line">    /*函数bar可以访问foo()的内部作用域*/</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">bar</span></span>()&#123;</span><br><span class="line">        console.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">    /*将bar所引用的函数本身当作返回值*/</span><br><span class="line">    <span class="built_in">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var baz = foo();</span><br><span class="line">baz(); //2 ——这里就是闭包的效果（使用了不同的标识符调用了内部的函数bar()）</span><br></pre></td></tr></table></figure>
<p>实例2</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    var a = 2;</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">baz</span></span>()&#123;</span><br><span class="line">        console.log(a); //2</span><br><span class="line">    &#125;</span><br><span class="line">    //把内部的baz()传给bar，当调用这个内部函数时，它涵盖的foo()内部作用域的闭包就可以观察到了。</span><br><span class="line">    bar(baz);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> bar(fn)&#123;</span><br><span class="line">    fn(); //这里就是闭包！</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实例3</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var fn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">foo</span></span>()&#123;</span><br><span class="line">    var a = 2;</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">baz</span></span>()&#123;</span><br><span class="line">        console.log(a);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fn = baz; //将baz函数分配给全局变量</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">bar</span></span>()&#123;</span><br><span class="line">    fn(); //这里是闭包</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();</span><br><span class="line">bar(); //2</span><br></pre></td></tr></table></figure>

<h3 id="现在我懂了"><a href="#现在我懂了" class="headerlink" title="现在我懂了"></a>现在我懂了</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="built_in">wait</span>(message)&#123;</span><br><span class="line">    //<span class="built_in">wait</span>执行1000毫秒后，它的内部作用域并不会小时，time函数依然保有<span class="built_in">wait</span>()作用域的闭包。</span><br><span class="line">    setTimeout(<span class="keyword">function</span> <span class="function"><span class="title">timer</span></span>()&#123;</span><br><span class="line">        console.log(message);</span><br><span class="line">    &#125;, 1000);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">wait</span>(<span class="string">"Hello, closure!"</span>);</span><br></pre></td></tr></table></figure>

<h3 id="循环和闭包（此章非常重要所以基本全部内容录入）"><a href="#循环和闭包（此章非常重要所以基本全部内容录入）" class="headerlink" title="循环和闭包（此章非常重要所以基本全部内容录入）"></a>循环和闭包（此章非常重要所以基本全部内容录入）</h3><p>要说明闭包，for循环式最常见的例子。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(var i = 0; i&lt;=5; i++)&#123;</span><br><span class="line">    setTimeout(<span class="keyword">function</span> <span class="function"><span class="title">timer</span></span>()&#123;</span><br><span class="line">        console.log(i);</span><br><span class="line">    &#125;, i*1000);</span><br><span class="line">&#125;</span><br><span class="line">//6,6,6,6,6</span><br></pre></td></tr></table></figure>
<p>正常情况下，我们对这段代码行为的预期是分别输出数字1~5，没秒一次，每次一个。但实际上，这段代码在运行时会以每秒一次的频率输出五次6。<br><em>这是为什么？</em><br>首先解释6是从哪里来的。这个循环的终止条件是i不再&lt;=5。条件首次成立时i的指是6。因此,输出显示的是循环结束时i的最终值。<br>仔细想一下，这好像又是显而易见的，延迟函数的回调会在循环结束时才执行。事实上，当定时器运行时即使每个迭代中执行的是setTimeout(…, 0),所有的回调函数依然是在循环结束后才会被执行，因此会每次输出一个6出来。<br>这里引申出一个更深入的问题，代码中到底有什么缺陷导致它的行为同语义所暗示的不一致呢？<br>缺陷是我们试图假设循环中的每个迭代在运行时都会给自己“捕获”一个i的副本。但是根据作用域的工作原理，实际情况是尽管循环中的五个函数是在各个迭代中分别定义的，但是他们都被封闭在一个共享的全局作用域中，因此实际上只有一个i。<br>这样说的话，当然所有函数共享一个i的引用。循环结构让我们误以为背后还有更复杂的机制在起作用，但实际上没有。如果将延迟函数的回调重复定义五次，完全不使用循环，那他同这段代码是完全等价的。<br>下面回到正题。缺陷是什么？我们需要更多的闭包作用域，特别是在循环的过程中每个迭代都需要一个闭包作用域。<br>我们来试一下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(var i = 1; i &lt;= 5; i++)&#123;</span><br><span class="line">    (<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        setTimeout(<span class="keyword">function</span> <span class="function"><span class="title">timer</span></span>()&#123;</span><br><span class="line">            console.log(i);</span><br><span class="line">        &#125;, i*1000);</span><br><span class="line">    &#125;)();</span><br><span class="line">&#125;</span><br><span class="line">//6,6,6,6,6</span><br></pre></td></tr></table></figure>
<p>依然不行，但是为什么呢？ 我们现在显然拥有更多的词法作用域了。的确每个延迟函数都会将IIFE在每次迭代中创建的作用于封闭起来。<br>如果作用域是空的，那么仅仅将它们进行封闭是不够的。仔细看一下。我们的IIFE只是一个什么都没有的空作用域。他需要包含一点实质内容才能为我们所用。<br>它需要有自己的变量，用来在每个迭代中存储i的值：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(var i = 1; i &lt;=5; i++)&#123;</span><br><span class="line">    (<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        var j = i;</span><br><span class="line">        setTimeout(<span class="keyword">function</span> <span class="function"><span class="title">time</span></span>()&#123;</span><br><span class="line">            console.log(j);</span><br><span class="line">        &#125;, j*3000);</span><br><span class="line">    &#125;)();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>行了，现在可以正常工作了。<br>可以对这段代码进行一些改进：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(var i = 1; i &lt;=5; i++)&#123;</span><br><span class="line">    (<span class="keyword">function</span>(j)&#123;</span><br><span class="line">        setTimeout(<span class="keyword">function</span> <span class="function"><span class="title">time</span></span>()&#123;</span><br><span class="line">            console.log(j);</span><br><span class="line">        &#125;, j*1000);</span><br><span class="line">    &#125;)(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当然，这些IIFE也不过就是函数，因此我们可以将i传递进去，如果愿意的话可以将变量定义为j，当然也可以还叫做i。无论如何这段代码现在可以工作了。<br>在迭代内使用IIFE会为每个迭代都生成一个新的作用域，使得延缓函数的回调可以将新的作用域封闭在每个迭代内部，每个迭代中都会含有一个具有正确值的变量供我们访问。<br>问题解决了！</p>
<p><strong>重返块作用域</strong><br>使用let将循环闭包更加顺畅</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="built_in">let</span> i = 1; i &lt;=5; i++)&#123;</span><br><span class="line">    setTimeout(<span class="keyword">function</span> <span class="function"><span class="title">time</span></span>()&#123;</span><br><span class="line">        console.log(i);</span><br><span class="line">    &#125;, i*1000);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h3><p>在计算机程序的开发过程中，随着程序代码越写越多，在一个文件里代码就会越来越长，越来越不容易维护。为了编写可维护的代码，我们把很多函数分组，分别放到不同的文件里，这样，每个文件包含的代码就相对较少，很多编程语言都采用这种组织代码的方式。在Node环境中，一个.js文件就称之为一个模块（module）。<br>（<em>模块其实也是利用的闭包</em>）<br>示例</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">CoolModule</span></span>()&#123;</span><br><span class="line">    var something = <span class="string">"cool"</span>;</span><br><span class="line">    var another = [1,2,3];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">doSomething</span></span>()&#123;</span><br><span class="line">        console.log( something );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">doAnother</span></span>()&#123;</span><br><span class="line">        console.log( another.join(<span class="string">" ! "</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //以对象形式返回</span><br><span class="line">    <span class="built_in">return</span> &#123;</span><br><span class="line">        doSomething: doSomething,</span><br><span class="line">        doAnother: doAnother</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var foo = CoolModule();</span><br><span class="line">foo.doSomething(); //cool</span><br><span class="line">foo.doAnother(); //1!2!3</span><br></pre></td></tr></table></figure>
<p>从模块中返回一个实际的对象并不是必须的，也可以直接返回一个内部函数。（函数也是对象，也具有属性）</p>
<p><strong>模块模式需要具备的条件</strong></p>
<ol>
<li>必须由外部的封闭函数，该函数必须至少被调用一次（每次调用都会创建一个新的模块实例）</li>
<li>封闭函数必须返回至少一个内部函数，这样内部函数才能在私有作用域中形成闭包，并且可以访问或者修改私有的状态。</li>
</ol>
<p><em>*一个具有函数属性的对象本身并不是真正的模块。一个从函数调用所返回的，只有数据属性而没有闭包函数的对象并不是真正的模块。</em></p>
<p>模块也是普通的函数，因此可以接受参数。</p>
<p>带参数的实例</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> CoolModule(id)&#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">identify</span></span>()&#123;</span><br><span class="line">        console.log( id );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">return</span> &#123;</span><br><span class="line">        identify: identify</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var foo1 = CoolModule(<span class="string">"foo 1"</span>);</span><br><span class="line">var foo2 = CoolModule(<span class="string">"foo 2"</span>);</span><br><span class="line">foo1.identify(); //foo 1</span><br><span class="line">foo2.identify(); //foo 2</span><br></pre></td></tr></table></figure>

<p>模块模式另一个简单但强大的变化用法是，命名将要作为公共API返回的对象</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var foo = (<span class="keyword">function</span> CoolModule(id)&#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">change</span></span>()&#123;</span><br><span class="line">        //修改公共API</span><br><span class="line">        publicAPI.identify = identify2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">identify1</span></span>()&#123;</span><br><span class="line">        console.log( id );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">identify2</span></span>()&#123;</span><br><span class="line">        console.log( id.toUpperCase() );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var publicAPI = &#123;</span><br><span class="line">        change: change,</span><br><span class="line">        identify: identify1</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">return</span> publicAPI;</span><br><span class="line">&#125;)(<span class="string">"foo module"</span>);</span><br><span class="line"></span><br><span class="line">foo.identify(); //foo module</span><br><span class="line">foo.change();</span><br><span class="line">foo.identify(); //FOO MODULE</span><br></pre></td></tr></table></figure>
<p>通过在模块实例的内部保留对公共API对象的内部引用，可以从内部对模块实例进行修改，包括添加或删除方法和属性，以及修改他们的值。</p>
]]></content>
      <categories>
        <category>你不知道的JavaScript</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>nodejs</tag>
        <tag>js</tag>
        <tag>你不知道的JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>《你不知道的JavaScript》中卷读书笔记第二部分 异步和性能</title>
    <url>/2018/05/02/youdontknowjs2-2/</url>
    <content><![CDATA[<h1 id="《你不知道的JavaScript》中卷读书笔记第二部分-异步和性能"><a href="#《你不知道的JavaScript》中卷读书笔记第二部分-异步和性能" class="headerlink" title="《你不知道的JavaScript》中卷读书笔记第二部分 异步和性能"></a>《你不知道的JavaScript》中卷读书笔记第二部分 异步和性能</h1><h2 id="第1章-异步"><a href="#第1章-异步" class="headerlink" title="第1章 异步"></a>第1章 异步</h2><p>程序中现在运行的部分和将来运行的部分之间的关系就是异步编程的核心</p>
<h3 id="分块的程序"><a href="#分块的程序" class="headerlink" title="分块的程序"></a>分块的程序</h3><p>可以把Javascript程序写在单个.js文件中，但是这个程序几乎一定是由多个块组成的。这些块中只有一个是现在执行，其余的则会在将来执行。最常见的块单位是函数。</p>
<p><strong>异步1</strong>，从现在到将来的等待，最简单的方法是使用回调函数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//ajax()是某个库中提供的某个Ajax函数</span><br><span class="line">var data = ajax(<span class="string">"http://some.url.1"</span>);</span><br><span class="line">console.log( data );</span><br><span class="line">//data什么结果都没有</span><br><span class="line">//这时我们可以使用回调函数</span><br><span class="line">ajax(<span class="string">"http://some.url.1"</span>, <span class="keyword">function</span> myCallbackFunction(data)&#123;</span><br><span class="line">  console.log( data ); //得到数据</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>异步2</strong>，可以使用siteTimeout()</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">now</span></span>()&#123;</span><br><span class="line">    <span class="built_in">return</span> 21;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">later</span></span>()&#123;</span><br><span class="line">    answer = answer * 2;</span><br><span class="line">    console.log(<span class="string">"Meaning of life: "</span>, answer );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var answer = now();</span><br><span class="line">setTimeout( later, 1000 );  //Meaning of life:  42</span><br></pre></td></tr></table></figure>
<p>任何时候，只要把一段代码包装成一个函数，并指定它在某个事件（定时器，鼠标点击，Ajax相应）时执行，你就是在代码中创建了一个将来执行的块，也由此在这个程序中引入了异步机制。</p>
<a id="more"></a>

<h3 id="事件循环"><a href="#事件循环" class="headerlink" title="事件循环"></a>事件循环</h3><p>Javascript本身没有时间的概念，在处理线程时，浏览器提供了一种机制来处理程序中多个块的执行，且执行每块时调用Javascript引擎，这种机制被称为事件循环。<br>换句话说，程序通常被分成了很多小块，在事件循环中一个接一个地执行。<br>（<em>setTimeout这种定时器最多保证能在指定时间后执行，并不能保证一定，列队多的情况会被排后</em>）</p>
<h3 id="并行线程"><a href="#并行线程" class="headerlink" title="并行线程"></a>并行线程</h3><p>异步时关于现在和将来的时间间隙，而并行是关于能够同时发生的事情。<br>Javascript从不跨线程共享数据，这意味着并行我们可以不用考虑。</p>
<h3 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h3><p>并发指的是两个或多个”虚拟进程”同时执行。在Javascript中，严格的说同时发生是不正确的，因为Javascript一次只能处理一个事件。</p>
<h4 id="非交互"><a href="#非交互" class="headerlink" title="非交互"></a>非交互</h4><p>两个或多个“进程”在同一个程序内并发地交替运行，彼此不想管，就是非交互，非交互的话，不确定性是完全可以接受的。</p>
<h4 id="交互"><a href="#交互" class="headerlink" title="交互"></a>交互</h4><p>并发的“进程”需要相互交流，通过作用域或DOM间接交互。</p>
<h4 id="协作"><a href="#协作" class="headerlink" title="协作"></a>协作</h4><p>取到一个长期运行的“进程”，并将其分割成多个步骤或多批次任务，使得其他并发“进程”有机会将自己的运算插入到时间循环列队中交替运行。</p>
<h3 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h3><p>在ES6中，有一个新的概念建立在时间循环列队之上，叫做任务列队。（<em>遗憾的是，目前为止这是一个没有公开的API机制</em>）<br>这个机制就是在所有循环列队中的tick（点）后面添加一个任务，确保在其他任何事情完成之前完成它。</p>
<h3 id="语句顺序"><a href="#语句顺序" class="headerlink" title="语句顺序"></a>语句顺序</h3><p>代码中语句的顺序和Javascript引擎执行语句的顺序并不一定要一致</p>
<h2 id="第2章-回调"><a href="#第2章-回调" class="headerlink" title="第2章 回调"></a>第2章 回调</h2><p>回调是Javascript中最基础的异步模式<br>ES6提供了更好的异步模式Promise。</p>
<h3 id="Continuation-延续"><a href="#Continuation-延续" class="headerlink" title="Continuation(延续)"></a>Continuation(延续)</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//A</span><br><span class="line">ajax(<span class="string">".."</span>, <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    //C</span><br><span class="line">&#125;);</span><br><span class="line">//B</span><br></pre></td></tr></table></figure>
<p>如何判断这段代码的运行顺序，A,B先运行，其中C作为回调函数，在Ajax调用完成后的某个时间运行。<br>一旦我们以回调函数的形式引入了单个Continuation，我们就要面对代码变的更加难以理解，追踪，调试和维护。<br>总之此处介绍内容总结，多为少用回调，或者使用分离回调，将功能分开处理。</p>
<h2 id="第3章-Promise"><a href="#第3章-Promise" class="headerlink" title="第3章 Promise"></a>第3章 Promise</h2><p>Promise解决了回调函数的 <strong>缺乏顺序性</strong> 和 <strong>可信任性</strong></p>
<h3 id="什么是Promise"><a href="#什么是Promise" class="headerlink" title="什么是Promise"></a>什么是Promise</h3><p>Promise 是一种封装和组合未来值的易于复用的机制</p>
]]></content>
      <categories>
        <category>你不知道的JavaScript</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>nodejs</tag>
        <tag>js</tag>
        <tag>你不知道的JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>《你不知道的JavaScript》中卷读书笔记第一部分</title>
    <url>/2018/04/23/youdontknowjs2-1/</url>
    <content><![CDATA[<h2 id="第1章-类型"><a href="#第1章-类型" class="headerlink" title="第1章 类型"></a>第1章 类型</h2><p>Javascript的类型包括 Undefined, Null, Boolean, String, Number, Object</p>
<h3 id="内置类型"><a href="#内置类型" class="headerlink" title="内置类型"></a>内置类型</h3><ol>
<li>空值(null)</li>
<li>未定义(undefined)</li>
<li>布尔值(boolean)</li>
<li>数字(number)</li>
<li>字符串(string)</li>
<li>对象(object)</li>
<li>符号(symbol, ES6中新增)</li>
</ol>
<p><em>除对象外，其他统称为“基本类型”</em><br>我们可以通过<code>typeof</code>运算符来查看值的类型。</p>
<a id="more"></a>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">console.log( typeof undefined );    //undefined</span><br><span class="line">console.log( typeof null );    //object</span><br><span class="line">console.log( typeof <span class="literal">true</span> );    //boolean</span><br><span class="line">console.log( typeof 42 );    //number</span><br><span class="line">console.log( typeof <span class="string">"42"</span> );    //string</span><br><span class="line">console.log( typeof &#123;life: 42&#125; );    //object</span><br><span class="line">console.log( typeof Symbol() );    //symbol</span><br></pre></td></tr></table></figure>
<p>(<em>null的类型为object，这是一个历来以久的bug</em>)</p>
<h3 id="值和类型"><a href="#值和类型" class="headerlink" title="值和类型"></a>值和类型</h3><p>Javascript中的变量是没有类型的，只有值才有。变量可以随时持有任何类型的值。</p>
<h2 id="第2章-值"><a href="#第2章-值" class="headerlink" title="第2章 值"></a>第2章 值</h2><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>在Javascript中，数组可以容纳任何类型的值，而且不需要预先设置数组大小。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var a = [];</span><br><span class="line">console.log( a.length ); //0</span><br><span class="line"></span><br><span class="line">a[0] = 1;</span><br><span class="line">a[1] = <span class="string">"2"</span>;</span><br><span class="line">a[2] = [3];</span><br><span class="line">console.log( a.length ); //3</span><br></pre></td></tr></table></figure>
<p>(<em>使用delete运算符可以将单元从数组中删除，但是删除后length属性并不会发生改变</em>)<br><strong>类数组</strong><br>可以通过indexOf(), concat(), forEach(), Array.from()来讲类数组转换成为真正的数组。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var arr = Array.from( arguments );</span><br></pre></td></tr></table></figure>

<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>字符串虽然具有length属性以及indexOf()和concat()方法，但它不同于数组</p>
<h3 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h3><p>Javascript只有一种数值类型，包括“整数”和带小数点的十进制数。<br>数字可以调用Number.prototype中的方法<br><code>tofixed()</code>方法可以指定小数部分的显示位数。<br><code>toPrecision()</code>方法可以指定有效数位的显示。<br>还有一种特殊情况<br>在Javascript中浮点数运算 0.1 + 0.2 === 0.3 //false<br>从ES6开始我们对证书检测可以使用Number.isInteger()方法</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Number.isInteger( 42 ) //<span class="literal">true</span></span><br><span class="line">Number.isInteger( 42.00 ) //<span class="literal">true</span></span><br><span class="line">Number.isInteger( 42.3 )  //<span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>在ES6中检测一个值是否是安全的整数，可以使用Number.isSageInteger()方法。</p>
<h3 id="特殊数值"><a href="#特殊数值" class="headerlink" title="特殊数值"></a>特殊数值</h3><p>Javascript的值中存在<strong>null,undefined</strong>这样的特殊值。<br><strong>NaN</strong>，表示不是一个数字，无效数值，失败数值，但是还是属于Number类型。同时NaN它和自身不想等 NaN != NaN //true<br>判断一个值是否是NaN，可以使用 isNaN()方法</p>
<h3 id="值和引用"><a href="#值和引用" class="headerlink" title="值和引用"></a>值和引用</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var a = 2; //a创建了一个2的副本</span><br><span class="line">var b = a; //b创建了一个a的副本</span><br><span class="line">b = 3;</span><br><span class="line"></span><br><span class="line">console.log(a); //2</span><br><span class="line">console.log(b); //3</span><br><span class="line"></span><br><span class="line">var c = [1,2,3];</span><br><span class="line">var d = c;    //创建了一个对c的引用</span><br><span class="line">d.push( 4 );</span><br><span class="line">console.log( c );    //1,2,3,4</span><br><span class="line">console.log( d );    //1,2,3,4</span><br></pre></td></tr></table></figure>
<p>这段代码里面涉及到两个概念</p>
<ol>
<li>简单值（基本类型值）Null, undefined, 数值，字符串 简单值通过值复制的方式来赋值/传递</li>
<li>复合值（对象，数组，函数） 复合值，只能通过引用来赋值，传递</li>
</ol>
<p>上例中的c和d分别指向同一个复合值[1,2,3]的两个不同引用。c和d仅仅是指向，并非拥有，由于引用指向的值是值本身而非变量，所以一个引用无法更改另一个引用的指向。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var a = [1,2,3];</span><br><span class="line">var b = a;</span><br><span class="line">console.log( a );</span><br><span class="line">console.log( b );    //创建了一个对a的引用</span><br><span class="line"></span><br><span class="line">b = [4,5,6];</span><br><span class="line">console.log( a );    //1,2,3</span><br><span class="line">console.log( b );    //4,5,6</span><br></pre></td></tr></table></figure>

<h2 id="第3章-原生函数（内建函数）"><a href="#第3章-原生函数（内建函数）" class="headerlink" title="第3章 原生函数（内建函数）"></a>第3章 原生函数（内建函数）</h2><p>常用的原生函数有</p>
<ol>
<li>String()</li>
<li>Number()</li>
<li>Boolean()</li>
<li>Array()</li>
<li>Object()</li>
<li>Function()</li>
<li>RegExp()</li>
<li>Date()</li>
<li>Error()</li>
<li>Symbol() ——ES6 中新加入</li>
</ol>
<h3 id="内部属性-Class"><a href="#内部属性-Class" class="headerlink" title="内部属性[[Class]]"></a>内部属性[[Class]]</h3><p>所有 typeof 返回值为”object”的对象都包含一个内部属性[[Class]],一般只能通过Object.prototype.toString()来查看</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">console.log(Object.prototype.toString.call([1,2,3])); //object Array</span><br><span class="line">console.log(Object.prototype.toString.call(/regex-literal/i)); //object RegExp</span><br></pre></td></tr></table></figure>

<h3 id="封装对象包装"><a href="#封装对象包装" class="headerlink" title="封装对象包装"></a>封装对象包装</h3><p>封装对象扮演者十分重要的角色。由于基本值没有.length和 .toString这样的属性和方法，需要通过封装对象才能访问。不过由于Javascript已经可以自动判断添加封装，我们就可以不需要再封装一遍了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var a = <span class="string">"abc"</span>;</span><br><span class="line">console.log( a.length ); //3</span><br><span class="line">console.log( a.toUpperCase() ); //ABC</span><br></pre></td></tr></table></figure>

<h3 id="拆封"><a href="#拆封" class="headerlink" title="拆封"></a>拆封</h3><p>如果想要得到封装对象中的基本类型值，需要使用valueOf()</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var a = new String( <span class="string">"abc"</span> );</span><br><span class="line">var b = new Number( 42 );</span><br><span class="line">var c = new Boolean( <span class="literal">true</span> );</span><br><span class="line"></span><br><span class="line">console.log( a.valueOf() );    //abc</span><br><span class="line">console.log( b.valueOf() );    //42</span><br><span class="line">console.log( c.valueOf() );    //<span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p><strong>隐式拆分</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var a = new String( <span class="string">"abc"</span> );</span><br><span class="line">var b = a + <span class="string">""</span>; //b的值为abc,此处为隐式拆分</span><br><span class="line"></span><br><span class="line">console.log( typeof a );    //object</span><br><span class="line">console.log( typeof b );    //string</span><br></pre></td></tr></table></figure>

<h2 id="第4章-强制类型转换"><a href="#第4章-强制类型转换" class="headerlink" title="第4章 强制类型转换"></a>第4章 强制类型转换</h2><h3 id="值类型转换"><a href="#值类型转换" class="headerlink" title="值类型转换"></a>值类型转换</h3><p>将值从一种类型转换为另一种类型通常称为类型转换。隐式的情况成为强制类型转换。</p>
<ol>
<li>显式强制类型转换<br>我们能从代码中看出哪些地方是显式类型转化的情况</li>
<li>隐式强制类型转换<br>我们无法直接看出的强制类型转换的情况<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var a = 42;</span><br><span class="line">var b = a + <span class="string">""</span>;    //隐式强制类型转换</span><br><span class="line">var c = String( a ); //显式强制类型转换</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="抽象值操作"><a href="#抽象值操作" class="headerlink" title="抽象值操作"></a>抽象值操作</h3><h4 id="ToString"><a href="#ToString" class="headerlink" title="ToString"></a>ToString</h4><p>ToString 负责处理非字符串到字符串的强制类型转换</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//1.07 连续乘以七个 1000</span><br><span class="line">var a = 1.07 * 1000 * 1000  * 1000  * 1000  * 1000  * 1000  * 1000;</span><br><span class="line">console.log( a.toString() );    //1.07e+21</span><br><span class="line"></span><br><span class="line">var b = [1,2,3];</span><br><span class="line">console.log( b.toString() );    //1,2,3</span><br></pre></td></tr></table></figure>
<p><strong>JSON字符串化</strong><br>工具函数JSON.stringify()再将JSON对象序列化为字符串时也用到了toString<br>toJSON()返回一个能够被字符串化的安全的JSON值。</p>
<h3 id="显式强制类型转换"><a href="#显式强制类型转换" class="headerlink" title="显式强制类型转换"></a>显式强制类型转换</h3><p>尽量使用显式强制类型转换，使代码可读性更高，更容易理解。<br>在Javascript社区中，一元运算 + 被普遍认为是显式强制类型转换，但不要经常使用，很容易是代码混乱</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var a = 42;</span><br><span class="line">var b = String( a );</span><br><span class="line"></span><br><span class="line">var c = <span class="string">"3.14"</span>;</span><br><span class="line">var d = +c;  //一元运算显式强制类型转换</span><br><span class="line"></span><br><span class="line">console.log( a );    //<span class="string">"42"</span></span><br><span class="line">console.log( d );    //3.14</span><br></pre></td></tr></table></figure>

<h3 id="隐式强制类型转换"><a href="#隐式强制类型转换" class="headerlink" title="隐式强制类型转换"></a>隐式强制类型转换</h3><h3 id="宽松相等和严格相等"><a href="#宽松相等和严格相等" class="headerlink" title="宽松相等和严格相等"></a>宽松相等和严格相等</h3><p>宽松相等（==）<br>严格相等（===）<br>之间有着重要的区别，特别是在判断条件上<br>区别： == 允许在相等比较中进行强制类型转换，而 === 不允许</p>
<h2 id="第5章-语法"><a href="#第5章-语法" class="headerlink" title="第5章 语法"></a>第5章 语法</h2><p>不要将“语句” 和 “表达式” 混为一谈。<br>语句是由短语组成，短语我们可以看作为表达式</p>
<h3 id="语句的结果值"><a href="#语句的结果值" class="headerlink" title="语句的结果值"></a>语句的结果值</h3><p>每个语句都有结果值，并且该值在目前的状况下无法传递给其他变量</p>
<h3 id="表达式的副作用"><a href="#表达式的副作用" class="headerlink" title="表达式的副作用"></a>表达式的副作用</h3><p>多出现在变量提升时，顺序上导致变量值被改变，或是一元算法的前后位置上。</p>
<h3 id="上下文规则"><a href="#上下文规则" class="headerlink" title="上下文规则"></a>上下文规则</h3><p>在Javascript语法规则中，有时候同样的语法在不同的情况下会有不同的解释</p>
<ol>
<li>大括号<br>1） 对象常量<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var a = &#123;</span><br><span class="line">  foo: bar()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
2) 标签<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  foo: bar()    //foo是bar()的标签 *了解即可*</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>代码块<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[] + &#123;&#125; //object 强制转换</span><br><span class="line">&#123;&#125; + [] //0 强制转换</span><br></pre></td></tr></table></figure></li>
<li>对象解构<br>在ES6开始，可以使用{…}进行解构赋值<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">getData</span></span>()&#123;</span><br><span class="line">  //..</span><br><span class="line">  <span class="built_in">return</span> &#123;</span><br><span class="line">    a: 42,</span><br><span class="line">    b: <span class="string">"foo"</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var &#123;a, b&#125; = getData(); </span><br><span class="line">console.log( a, b ); //42 <span class="string">"foo"</span></span><br></pre></td></tr></table></figure>
{a, b}就是解构赋值相当于<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var res = getData();</span><br><span class="line">var a = res.a;</span><br><span class="line">var b = res.b;</span><br></pre></td></tr></table></figure></li>
<li>else if 和可选代码块<br>Javascript本身没有 else if这种语句，但 else if 极为常见，能省掉一层代码缩进，所以很受青睐。</li>
</ol>
<h3 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h3><p>书里只简单的介绍了一下 &amp;&amp; 运算符优先于 ||,具体的优先级顺序需要去以下地址查询<br><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence" target="_blank" rel="noopener">Operator precedence</a></p>
<h4 id="短路"><a href="#短路" class="headerlink" title="短路"></a>短路</h4><p>对&amp;&amp;和||来说，如果从左边的操作能够得出结果，就可以忽略右边的操作数。我们将这种现象称为——短路 （执行最短路径）</p>
<h4 id="更强的绑定。"><a href="#更强的绑定。" class="headerlink" title="更强的绑定。"></a>更强的绑定。</h4><h3 id="自动分号"><a href="#自动分号" class="headerlink" title="自动分号"></a>自动分号</h3><p>有时Javascript会自动为代码补上缺失的分毫。</p>
<h3 id="错误"><a href="#错误" class="headerlink" title="错误"></a>错误</h3><h3 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h3>]]></content>
      <categories>
        <category>你不知道的JavaScript</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>nodejs</tag>
        <tag>js</tag>
        <tag>你不知道的JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【10】迭代(Iteration)</title>
    <url>/2018/02/22/%E5%AD%A6%E4%B9%A0stylus%E3%80%9010%E3%80%91/</url>
    <content><![CDATA[<h2 id="迭代-Iteration"><a href="#迭代-Iteration" class="headerlink" title="迭代(Iteration)"></a>迭代(Iteration)</h2><p>Stylus允许你通过for/in对表达式进行迭代形式如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> &lt;val-name&gt; [, &lt;key-name&gt;] <span class="keyword">in</span> &lt;expression&gt;</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body</span><br><span class="line">  <span class="keyword">for</span> num <span class="keyword">in</span> 1 2 3</span><br><span class="line">    foo num</span><br><span class="line">=&gt;</span><br><span class="line">body &#123;</span><br><span class="line">  foo: 1;</span><br><span class="line">  foo: 2;</span><br><span class="line">  foo: 3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<p>下面这个例子演示了如何使用<key-name>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body</span><br><span class="line">  fonts = Impact Arial sans-serif</span><br><span class="line">  <span class="keyword">for</span> font, i <span class="keyword">in</span> fonts</span><br><span class="line">    foo i font</span><br><span class="line">=&gt;</span><br><span class="line">body &#123;</span><br><span class="line">  foo: 0 Impact;</span><br><span class="line">  foo: 1 Arial;</span><br><span class="line">  foo: 2 sans-serif;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="混合书写-Mixins"><a href="#混合书写-Mixins" class="headerlink" title="混合书写(Mixins)"></a>混合书写(Mixins)</h3><p>我们可以在混写中使用循环实现更强大的功能，例如，我们可以把表达式对作为使用插值和循环的属性。<br>下面，我们定义 apply(), 利用所有的arguments，这样逗号分隔以及表达式列表都会支持。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apply(props)</span><br><span class="line">  props = arguments <span class="keyword">if</span> length(arguments) &gt; 1</span><br><span class="line">  <span class="keyword">for</span> prop <span class="keyword">in</span> props</span><br><span class="line">    &#123;prop[0]&#125; prop[1]</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  apply(one 1, two 2, three 3)</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  list = (one 1) (two 2) (three 3)</span><br><span class="line">  apply(list)</span><br></pre></td></tr></table></figure>

<h3 id="函数-Functions"><a href="#函数-Functions" class="headerlink" title="函数(Functions)"></a>函数(Functions)</h3><p>Stylus函数同样可以包含for循环。下面就是简单使用示例：<br>求和：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sum(nums)</span><br><span class="line">  sum = 0</span><br><span class="line">  <span class="keyword">for</span> n <span class="keyword">in</span> nums</span><br><span class="line">    sum += n</span><br><span class="line"></span><br><span class="line">sum(1 2 3)</span><br><span class="line">// =&gt; 6</span><br></pre></td></tr></table></figure>

<p>连接：</p>
<figure class="highlight plain"><figcaption><span>bash</span></figcaption><table><tr><td class="code"><pre><span class="line">join(delim, args)</span><br><span class="line">  buf &#x3D; &#39;&#39;</span><br><span class="line">  for arg, index in args</span><br><span class="line">    if index</span><br><span class="line">      buf +&#x3D; delim + arg</span><br><span class="line">    else</span><br><span class="line">      buf +&#x3D; arg</span><br><span class="line"></span><br><span class="line">join(&#39;, &#39;, foo bar baz)</span><br><span class="line">&#x2F;&#x2F; &#x3D;&gt; &quot;foo, bar, baz&quot;</span><br></pre></td></tr></table></figure>

<h3 id="后缀-Postfix"><a href="#后缀-Postfix" class="headerlink" title="后缀(Postfix)"></a>后缀(Postfix)</h3><p>就跟if/unless可以利用后面语句一样，for也可以。如下后缀解析的例子：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sum(nums)</span><br><span class="line">  sum = 0</span><br><span class="line">  sum += n <span class="keyword">for</span> n <span class="keyword">in</span> nums</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">join(delim, args)</span><br><span class="line">  buf = <span class="string">''</span></span><br><span class="line">  buf += i ? delim + arg : arg <span class="keyword">for</span> arg, i <span class="keyword">in</span> args</span><br></pre></td></tr></table></figure>
<p>我们也可以从循环返回，下例子就是n % 2 == 0为true的时候返回数值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">first-even(nums)</span><br><span class="line">  <span class="built_in">return</span> n <span class="keyword">if</span> n % 2 == 0 <span class="keyword">for</span> n <span class="keyword">in</span> nums</span><br><span class="line"></span><br><span class="line">first-even(1 3 5 5 6 3 2)</span><br><span class="line">// =&gt; 6</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【12】@MEDIA</title>
    <url>/2018/02/23/%E5%AD%A6%E4%B9%A0stylus%E3%80%9012%E3%80%91/</url>
    <content><![CDATA[<h2 id="MEDIA"><a href="#MEDIA" class="headerlink" title="@MEDIA"></a>@MEDIA</h2><p>@media工作原理和在常规CSS中一样，但是，要使用Stylus的块状符号。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@media <span class="built_in">print</span></span><br><span class="line">  <span class="comment">#header</span></span><br><span class="line">  <span class="comment">#footer</span></span><br><span class="line">    display none</span><br><span class="line">=&gt;</span><br><span class="line">@media <span class="built_in">print</span> &#123;</span><br><span class="line">  <span class="comment">#header,</span></span><br><span class="line">  <span class="comment">#footer &#123;</span></span><br><span class="line">    display: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<h2 id="媒体查询冒泡"><a href="#媒体查询冒泡" class="headerlink" title="媒体查询冒泡"></a>媒体查询冒泡</h2><p>媒体查询也可以嵌套，并且它们可以扩展到包含它们所使用的上下文。 例如：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.widget</span><br><span class="line">  padding 10px</span><br><span class="line"></span><br><span class="line">  @media screen and (min-width: 600px)</span><br><span class="line">    padding 20px</span><br><span class="line">=&gt;</span><br><span class="line">.widget &#123;</span><br><span class="line">  padding: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@media screen and (min-width: 600px) &#123;</span><br><span class="line">  .widget &#123;</span><br><span class="line">    padding: 20px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="嵌套媒体查询"><a href="#嵌套媒体查询" class="headerlink" title="嵌套媒体查询"></a>嵌套媒体查询</h2><p>可以将@medias嵌套到另一个中，并将它们合并为一个：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@media (max-width: 500px)</span><br><span class="line">  .foo</span><br><span class="line">    color: <span class="comment">#000</span></span><br><span class="line"></span><br><span class="line">  @media (min-width: 100px), (min-height: 200px)</span><br><span class="line">    .foo</span><br><span class="line">      color: <span class="comment">#100</span></span><br><span class="line">=&gt;</span><br><span class="line">@media (max-width: 500px) &#123;</span><br><span class="line">  .foo &#123;</span><br><span class="line">    color: <span class="comment">#000;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@media (max-width: 500px) and (min-width: 100px), (max-width: 500px) and (min-height: 200px) &#123;</span><br><span class="line">  .foo &#123;</span><br><span class="line">    color: <span class="comment">#100;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="插值和变量"><a href="#插值和变量" class="headerlink" title="插值和变量"></a>插值和变量</h2><p>你可以在媒体查询中使用插值和变量，因此可以执行如下操作：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = <span class="string">'width'</span></span><br><span class="line">bar = 30em</span><br><span class="line">@media (max-&#123;foo&#125;: bar)</span><br><span class="line">  body</span><br><span class="line">    color <span class="comment">#fff</span></span><br><span class="line">=&gt;</span><br><span class="line">@media (max-width: 30em) &#123;</span><br><span class="line">  body &#123;</span><br><span class="line">    color: <span class="comment">#fff;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>也可以使用MQ内部的表达式：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.foo</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> 1..4</span><br><span class="line">    @media (min-width: 2**(i+7)px)</span><br><span class="line">      width: 100px*i</span><br><span class="line">=&gt;</span><br><span class="line">@media (min-width: 256px) &#123;</span><br><span class="line">  .foo &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@media (min-width: 512px) &#123;</span><br><span class="line">  .foo &#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@media (min-width: 1024px) &#123;</span><br><span class="line">  .foo &#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@media (min-width: 2048px) &#123;</span><br><span class="line">  .foo &#123;</span><br><span class="line">    width: 400px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【13】@FONT-FACE</title>
    <url>/2018/02/27/%E5%AD%A6%E4%B9%A0stylus%E3%80%9013%E3%80%91/</url>
    <content><![CDATA[<h2 id="FONT-FACE"><a href="#FONT-FACE" class="headerlink" title="@FONT-FACE"></a>@FONT-FACE</h2><p>@font-face跟其在CSS中作用表现一样，在后面简单地添加个块状属性即可，类似下面：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@font-face</span><br><span class="line">  font-family Geo</span><br><span class="line">  font-style normal</span><br><span class="line">  src url(fonts/geo_sans_light/GensansLight.ttf)</span><br><span class="line"></span><br><span class="line">.ingeo</span><br><span class="line">  font-family Geo</span><br><span class="line"></span><br><span class="line">=&gt;</span><br><span class="line">@font-face &#123;</span><br><span class="line">   font-family: Geo;</span><br><span class="line">   font-style: normal;</span><br><span class="line">   src: url(<span class="string">"fonts/geo_sans_light/GensansLight.ttf"</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> .ingeo &#123;</span><br><span class="line">   font-family: Geo;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【1】介绍</title>
    <url>/2018/01/26/%E5%AD%A6%E4%B9%A0stylus/</url>
    <content><![CDATA[<h2 id="stylus介绍"><a href="#stylus介绍" class="headerlink" title="stylus介绍"></a>stylus介绍</h2><p><strong>stylus</strong> 是一个CSS的预处理框架，2010年产生，来自Node.js社区，主要用来给Node项目进行CSS预处理支持，所以 Stylus 是一种新型语言，可以创建健壮的、动态的、富有表现力的CSS。比较年轻，其本质上做的事情与 SASS/LESS 等类似，应该是有很多借鉴，所以近似脚本的方式去写CSS代码。</p>
<p><em>.styl</em> 是 <strong>stylus</strong> 的文件扩展名，支持多样性的CSS语法。</p>
<p><strong>参考文档</strong><br><a href="http://stylus-lang.com/" target="_blank" rel="noopener">官方API</a></p>
<a id="more"></a>

<p>首先我们通过修改Hexo的LandScape模板来学习 <strong>stylus</strong></p>
<ol>
<li><p>【找到.styl文件】打开根目录下的 themes/landscape/source/css目录，在这里我们可以看到很多的后缀名为.styl的文件。这就是stylus编写的CSS文件了。</p>
</li>
<li><p>【试着修改.styl文件】可以使用任意一款文本编辑器来修改 <em>.styl</em> 文件  </p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body</span><br><span class="line">  background: color-background</span><br><span class="line">  font: font-size font-sans</span><br><span class="line">  -webkit-text-size-adjust: 100%</span><br></pre></td></tr></table></figure>

<p><strong>stylus选择器</strong><br><strong>例1</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body</span><br><span class="line">  background: color-background</span><br><span class="line"></span><br><span class="line">  /* -- 相当于--</span><br><span class="line">这里面省略了&#123;花括号&#125;，省略了最后的;分号，一些场合冒号也可以省略如 color red 相当于color: red;</span><br><span class="line">   */</span><br><span class="line">body&#123;background: color-background;&#125;</span><br></pre></td></tr></table></figure>
<p>  我们做个试验，将所有文本设置为红色，为了不影响原有样式，我们在下面追加一行。<br>  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/*background: color-background 好在这个注释符号一直好用*/</span><br><span class="line">background red</span><br></pre></td></tr></table></figure><br>  返回到页面会看到以下状态<br>  <img src="/images/post/l3f_01.jpg" alt="修改背景" title="修改背景"></p>
<p>  <strong>例2</strong><br>  我们修改文章内连接鼠标放置时的颜色改变，默认是颜色无改变，加下划线<br>  <img src="/images/post/l3f_02.jpg" alt="修改hover" title="修改hover"><br>  我们打开themes/landscape/source/css/_partial 目录下的article.styl文件找到a 并添加color red<br>  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">a</span><br><span class="line">  color: color-link</span><br><span class="line">  text-decoration: none</span><br><span class="line">  &amp;:hover</span><br><span class="line">    text-decoration: underline</span><br><span class="line">    color red /*添加hover颜色*/</span><br></pre></td></tr></table></figure><br>  <img src="/images/post/l3f_03.jpg" alt="修改后效果" title="修改后效果"></p>
<p>  从上面的代码结构我们能够分析出以下几点</p>
<ol>
<li>缩进， 代替了以前的花括号</li>
<li>分组，选择器分组还是使用 <em>,</em> 号也可以使用换行</li>
<li>继承，使用&amp;为伪类添加属性</li>
</ol>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【14】@KEYFRAMES</title>
    <url>/2018/02/27/%E5%AD%A6%E4%B9%A0stylus%E3%80%9014%E3%80%91/</url>
    <content><![CDATA[<h2 id="KEYFRAMES"><a href="#KEYFRAMES" class="headerlink" title="@KEYFRAMES"></a>@KEYFRAMES</h2><p>Stylus支持@keyframes规则，当编译的时候转换成@-webkit-keyframes：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="variable">$keyframe</span>-name = pulse</span><br><span class="line">@keyframes &#123;<span class="variable">$keyframe</span>-name&#125;</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> 0..10</span><br><span class="line">    &#123;10% * i&#125;</span><br><span class="line">      opacity (i/10)</span><br><span class="line"></span><br><span class="line">  =&gt;</span><br><span class="line">  @keyframes pulse &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    opacity: 0;</span><br><span class="line">  &#125;</span><br><span class="line">  20% &#123;</span><br><span class="line">    opacity: 0.2;</span><br><span class="line">  &#125;</span><br><span class="line">  40% &#123;</span><br><span class="line">    opacity: 0.4;</span><br><span class="line">  &#125;</span><br><span class="line">  60% &#123;</span><br><span class="line">    opacity: 0.6;</span><br><span class="line">  &#125;</span><br><span class="line">  80% &#123;</span><br><span class="line">    opacity: 0.8;</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    opacity: 1;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<h3 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h3><p>使用@keyframes，通过vendors变量，会自动添加私有前缀(webkit moz official)。这意味着你可以子啊任意时候立即高效地做修改。<br>考虑下面的例子：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@keyframes foo &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    color: black</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    color: white</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这扩展到我们的三个默认供应商和官方语法：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@-moz-keyframes foo &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    color: <span class="comment">#000;</span></span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    color: <span class="comment">#fff;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@-webkit-keyframes foo &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    color: <span class="comment">#000;</span></span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    color: <span class="comment">#fff;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@-o-keyframes foo &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    color: <span class="comment">#000;</span></span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    color: <span class="comment">#fff;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes foo &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    color: <span class="comment">#000;</span></span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    color: <span class="comment">#fff;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果我们只想限制官方语法，只需更改vendor：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vendors = official</span><br><span class="line"></span><br><span class="line">@keyframes foo &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    color: black</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    color: white</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">=&gt;</span><br><span class="line">@keyframes foo &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    color: <span class="comment">#000;</span></span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    color: <span class="comment">#fff;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【15】其他 @-RULES</title>
    <url>/2018/02/28/%E5%AD%A6%E4%B9%A0stylus%E3%80%9015%E3%80%91/</url>
    <content><![CDATA[<h2 id="其他-RULES"><a href="#其他-RULES" class="headerlink" title="其他 @-RULES"></a>其他 @-RULES</h2><p>stylus对大多数CSS @规则都有支持，比如@viewport，@page，@host，@supports和其他：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@viewport</span><br><span class="line">  color: <span class="comment">#00f</span></span><br><span class="line"></span><br><span class="line">@supports (display: flex)</span><br><span class="line">  div</span><br><span class="line">    display: flex</span><br><span class="line"></span><br><span class="line">@page :blank</span><br><span class="line">  @top-center</span><br><span class="line">    content: none</span><br><span class="line">=&gt;</span><br><span class="line">@viewport &#123;</span><br><span class="line">  color: <span class="comment">#00f;</span></span><br><span class="line">&#125;</span><br><span class="line">@supports (display: flex) &#123;</span><br><span class="line">  div &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@page :blank &#123;</span><br><span class="line">  @top-center &#123;</span><br><span class="line">    content: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="未知规则"><a href="#未知规则" class="headerlink" title="未知规则"></a>未知规则</h2><p>stylus支持任何未知的@规则，因此它对为正式发布的规则很友好，因为CSS中的任何新规则都可以用Stylus的基于缩进的语法编写，并且可以完美呈现：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@foo</span><br><span class="line">  @bar</span><br><span class="line">    width: 10px</span><br><span class="line"></span><br><span class="line">    .baz</span><br><span class="line">      height: 10px</span><br><span class="line">=&gt;</span><br><span class="line">@foo &#123;</span><br><span class="line">  @bar &#123;</span><br><span class="line">    width: 10px;</span><br><span class="line">    .baz &#123;</span><br><span class="line">      height: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【17】@BLOCK</title>
    <url>/2018/03/01/%E5%AD%A6%E4%B9%A0stylus%E3%80%9017%E3%80%91/</url>
    <content><![CDATA[<h2 id="BLOCK"><a href="#BLOCK" class="headerlink" title="@BLOCK"></a>@BLOCK</h2><p>您可以将Stylus中的任何代码块分配给一个变量，然后调用它，作为参数传递或以任何其他方式重用。<br>要定义一个块，可以在分配符号之后用增加的缩进记下它：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo =</span><br><span class="line">  width: 20px</span><br><span class="line">  height: 20px</span><br></pre></td></tr></table></figure>
<p>或者在@block关键字中使用花括号语法：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = @block &#123;</span><br><span class="line">  width: 20px</span><br><span class="line">  height: 20px</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果你想在任何地方渲染这个块，你可以在插值中调用这个变量，所以</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.icon</span><br><span class="line">  &#123;foo&#125;</span><br><span class="line">=&gt;</span><br><span class="line">.icon &#123;</span><br><span class="line">  width: 20px;</span><br><span class="line">  height: 20px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>顺便说一句，你也可以使用传递给块mixin的块的方式相同。<br>现在，您只能将该变量作为其他变量传递并在插值内呈现。 将来我们会提供更多的处理方法。</p>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【19】CSS字面量(CSS Literal)</title>
    <url>/2018/03/02/%E5%AD%A6%E4%B9%A0stylus%E3%80%9019%E3%80%91/</url>
    <content><![CDATA[<h2 id="CSS字面量-CSS-Literal"><a href="#CSS字面量-CSS-Literal" class="headerlink" title="CSS字面量(CSS Literal)"></a>CSS字面量(CSS Literal)</h2><p>不管什么原因，如果遇到Stylus搞不定的特殊需求，你可以使用@css使其作为CSS字面量解决之。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@css &#123;</span><br><span class="line">  body &#123;</span><br><span class="line">    font: 14px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">=&gt;</span><br><span class="line">body &#123;</span><br><span class="line">  font: 14px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【11】@IMPORT 和 @REQUIRE</title>
    <url>/2018/02/22/%E5%AD%A6%E4%B9%A0stylus%E3%80%9011%E3%80%91/</url>
    <content><![CDATA[<h2 id="IMPORT-和-REQUIRE"><a href="#IMPORT-和-REQUIRE" class="headerlink" title="@IMPORT 和 @REQUIRE"></a>@IMPORT 和 @REQUIRE</h2><p>Stylus 支持CSS的关键字@import，以及动态导入其他Stylus表。</p>
<h3 id="关键字CSS"><a href="#关键字CSS" class="headerlink" title="关键字CSS"></a>关键字CSS</h3><p>任何.css扩展的文件名将作为关键字的值。例如：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@import <span class="string">"reset.css"</span></span><br><span class="line">=&gt;</span><br><span class="line">@import <span class="string">"reset.css"</span></span><br></pre></td></tr></table></figure>

<h3 id="导入Stylus"><a href="#导入Stylus" class="headerlink" title="导入Stylus"></a>导入Stylus</h3><p>免责声明：在@import所有的地方都使用stylus，也可以使用@require<br>当使用不带.css扩展名的@import时，它被假定使用stylus（例如@import”mixins/border-radius”）。<br>@import可以通过遍历目录来工作，并检查这个文件是否存在于其中任何一个目录中（类似于node的require.paths）。 此数组默认为单个路径，该路径是从文件名选项的dirname派生的。 因此，如果您的文件名是/tmp/testing/stylus/main.styl，那么导入将会在/tmp/testing/stylus/中查找。<br>@import也支持索引样式。 这意味着当你@import blueprint，它将解析成blueprint.styl或blueprint/index.styl。 这对于想要公开其所有功能的库非常有用，同时仍允许导入功能子集。<br>例如，一个常见的库结构：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./tablet</span><br><span class="line">  |-- index.styl</span><br><span class="line">  |-- vendor.styl</span><br><span class="line">  |-- buttons.styl</span><br><span class="line">  |-- images.styl</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>在下面的例子中，我们设置了路径选项来为Stylus提供额外的路径。 在./test.styl中，我们可以使用@import”mixins/border-radius”或@import”border-radius”（因为./mixins暴露给Stylus）。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Module dependencies.依赖模块</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">var stylus = require(<span class="string">'../'</span>)</span><br><span class="line">  , str = require(<span class="string">'fs'</span>).readFileSync(__dirname + <span class="string">'/test.styl'</span>, <span class="string">'utf8'</span>);</span><br><span class="line"></span><br><span class="line">var paths = [</span><br><span class="line">    __dirname</span><br><span class="line">  , __dirname + <span class="string">'/mixins'</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">stylus(str)</span><br><span class="line">  .<span class="built_in">set</span>(<span class="string">'filename'</span>, __dirname + <span class="string">'/test.styl'</span>)</span><br><span class="line">  .<span class="built_in">set</span>(<span class="string">'paths'</span>, paths)</span><br><span class="line">  .render(<span class="keyword">function</span>(err, css)&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) throw err;</span><br><span class="line">    console.log(css);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Require"><a href="#Require" class="headerlink" title="Require"></a>Require</h3><p>@import之后，Stylus也推出了@require。 它几乎以相同的方式工作，除了只导入任何给定文件一次。</p>
<h3 id="块级导入（Block-level-import）"><a href="#块级导入（Block-level-import）" class="headerlink" title="块级导入（Block-level import）"></a>块级导入（Block-level import）</h3><p>Stylus支持块级导入。 这意味着你不仅可以在根级别使用@import，而且可以嵌套在其他选择器或规则中。<br>代码bar.styl：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.bar</span><br><span class="line">  width: 10px;</span><br></pre></td></tr></table></figure>
<p>然后你可以像这样在foo.styl里面导入它：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.foo</span><br><span class="line">  @import <span class="string">'bar.styl'</span></span><br><span class="line"></span><br><span class="line">@media screen and (min-width: 640px)</span><br><span class="line">  @import <span class="string">'bar.styl'</span></span><br></pre></td></tr></table></figure>
<p>你会得到这个编译好的CSS结果：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.foo .bar &#123;</span><br><span class="line">  width: 10px;</span><br><span class="line">&#125;</span><br><span class="line">@media screen and (min-width: 640px) &#123;</span><br><span class="line">  .bar &#123;</span><br><span class="line">    width: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="文件通配符-File-globbing"><a href="#文件通配符-File-globbing" class="headerlink" title="文件通配符(File globbing)"></a>文件通配符(File globbing)</h3><p>Stylus支持通配符。 有了它，你可以使用文件掩码导入许多文件：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@import <span class="string">'product/*'</span></span><br></pre></td></tr></table></figure>
<p>这将从这个结构的目录中导入所有的Stylus表：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./product</span><br><span class="line">  |-- body.styl</span><br><span class="line">  |-- foot.styl</span><br><span class="line">  |-- head.styl</span><br></pre></td></tr></table></figure>
<p>通配符也适用于@require 所以如果你有一个./product/index.styl这个内容：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@require <span class="string">'head'</span></span><br><span class="line">@require <span class="string">'body'</span></span><br><span class="line">@require <span class="string">'foot'</span></span><br></pre></td></tr></table></figure>
<p>那么@require’product/*’将只包含一次单个表。</p>
<h3 id="解析导入中的相关URL"><a href="#解析导入中的相关URL" class="headerlink" title="解析导入中的相关URL"></a>解析导入中的相关URL</h3><p>默认情况下，Stylus不能解析导入的.styl文件中的url，所以如果你碰巧有一个带有@import“bar/bar.styl”的foo.styl，它含有url(“baz.png”)，它在得到的CSS中也会是url(“baz.png”)。<br>但是你可以通过使用–resolve-url（或者只是-r）CLI选项在你的结果CSS中获取url(“bar/baz.png”)来改变这种行为。</p>
<h3 id="JavaScript导入API"><a href="#JavaScript导入API" class="headerlink" title="JavaScript导入API"></a>JavaScript导入API</h3><p>当使用.import(path)方法，这些导入是被推迟的，直到赋值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var stylus = require(<span class="string">'../'</span>)</span><br><span class="line">  , str = require(<span class="string">'fs'</span>).readFileSync(__dirname + <span class="string">'/test.styl'</span>, <span class="string">'utf8'</span>);</span><br><span class="line"></span><br><span class="line">stylus(str)</span><br><span class="line">  .<span class="built_in">set</span>(<span class="string">'filename'</span>, __dirname + <span class="string">'/test.styl'</span>)</span><br><span class="line">  .import(<span class="string">'mixins/vendor'</span>)</span><br><span class="line">  .render(<span class="keyword">function</span>(err, css)&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) throw err;</span><br><span class="line">  console.log(css);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>下面的代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@import <span class="string">'mixins/vendor'</span></span><br><span class="line">=&gt;</span><br><span class="line"> .import(<span class="string">'mixins/vendor'</span>)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【16】继承 @EXTEND</title>
    <url>/2018/03/01/%E5%AD%A6%E4%B9%A0stylus%E3%80%9016%E3%80%91/</url>
    <content><![CDATA[<h2 id="继承-EXTEND"><a href="#继承-EXTEND" class="headerlink" title="继承 @EXTEND"></a>继承 @EXTEND</h2><p>Stylus的@extend指令受SASS实现的启发，基本一致，除了些轻微差异。此功能大大简化了继承其他语义规则集的语义规则集的维护。<br>混入的“继承”<br>尽管你可以使用混入实现类似效果，但会导致重复的CSS. 典型的模式式定义如下的几个类名，然后归结到一个元素中，例如”warning message”.<br>该技术实现是没什么问题，但是维护就比较麻烦了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">message,</span><br><span class="line">.warning &#123;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  border: 1px solid <span class="comment">#eee;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.warning &#123;</span><br><span class="line">  color: <span class="comment">#E2E21E;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="使用-extend"><a href="#使用-extend" class="headerlink" title="使用@extend"></a>使用<strong>@extend</strong></h3><p>使用<strong>@extend</strong>得到同样的输出，只要把对应的选择器传给@extend即可。然后.warning选择器就会继承已经存在的.message规则。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.message &#123;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  border: 1px solid <span class="comment">#eee;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.warning &#123;</span><br><span class="line">  @extend .message;</span><br><span class="line">  color: <span class="comment">#E2E21E;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>儿是个更复杂的例子，演示了<strong>@extend</strong>如何级联。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">red = <span class="comment">#E33E1E</span></span><br><span class="line">yellow = <span class="comment">#E2E21E</span></span><br><span class="line"></span><br><span class="line">.message</span><br><span class="line">  padding: 10px</span><br><span class="line">  font: 14px Helvetica</span><br><span class="line">  border: 1px solid <span class="comment">#eee</span></span><br><span class="line"></span><br><span class="line">.warning</span><br><span class="line">  @extends .message</span><br><span class="line">  border-color: yellow</span><br><span class="line">  background: yellow + 70%</span><br><span class="line"></span><br><span class="line">.error</span><br><span class="line">  @extends .message</span><br><span class="line">  border-color: red</span><br><span class="line">  background: red + 70%</span><br><span class="line"></span><br><span class="line">.fatal</span><br><span class="line">  @extends .error</span><br><span class="line">  font-weight: bold</span><br><span class="line">  color: red</span><br><span class="line">=&gt;</span><br><span class="line">.message,</span><br><span class="line">.warning,</span><br><span class="line">.error,</span><br><span class="line">.fatal &#123;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  font: 14px Helvetica;</span><br><span class="line">  border: 1px solid <span class="comment">#eee;</span></span><br><span class="line">&#125;</span><br><span class="line">.warning &#123;</span><br><span class="line">  border-color: <span class="comment">#e2e21e;</span></span><br><span class="line">  background: <span class="comment">#f6f6bc;</span></span><br><span class="line">&#125;</span><br><span class="line">.error,</span><br><span class="line">.fatal &#123;</span><br><span class="line">  border-color: <span class="comment">#e33e1e;</span></span><br><span class="line">  background: <span class="comment">#f7c5bc;</span></span><br><span class="line">&#125;</span><br><span class="line">.fatal &#123;</span><br><span class="line">  font-weight: bold;</span><br><span class="line">  color: <span class="comment">#e33e1e;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>目前Stylus与SASS不同之处在于SASS不允许<strong>@extend</strong>嵌套选择器。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">form</span><br><span class="line">  button</span><br><span class="line">    padding: 10px</span><br><span class="line"></span><br><span class="line">a.button</span><br><span class="line">  @extend form button</span><br><span class="line">Syntax error: Can<span class="string">'t extend form button: can'</span>t extend nested selectors</span><br><span class="line">// 解析错误： 无法继承自 button: 不能继承嵌套选择器</span><br><span class="line">        on line 6 of standard input</span><br><span class="line">  Use --trace <span class="keyword">for</span> backtrace.</span><br></pre></td></tr></table></figure>
<p>Stylus中，只要选择器匹配，就可以生效：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">form</span><br><span class="line"> input[<span class="built_in">type</span>=text]</span><br><span class="line">   padding: 5px</span><br><span class="line">   border: 1px solid <span class="comment">#eee</span></span><br><span class="line">   color: <span class="comment">#ddd</span></span><br><span class="line"></span><br><span class="line">textarea</span><br><span class="line"> @extends form input[<span class="built_in">type</span>=text]</span><br><span class="line"> padding: 10px</span><br><span class="line">=&gt;</span><br><span class="line">form input[<span class="built_in">type</span>=text],</span><br><span class="line">form textarea &#123;</span><br><span class="line">  padding: 5px;</span><br><span class="line">  border: 1px solid <span class="comment">#eee;</span></span><br><span class="line">  color: <span class="comment">#ddd;</span></span><br><span class="line">&#125;</span><br><span class="line">textarea &#123;</span><br><span class="line">  padding: 10px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="扩展多个选择器"><a href="#扩展多个选择器" class="headerlink" title="扩展多个选择器"></a>扩展多个选择器</h3><p>stylus允许一次扩展多个选择器，只需用逗号将其分开：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.a</span><br><span class="line">  color: red</span><br><span class="line"></span><br><span class="line">.b</span><br><span class="line">  width: 100px</span><br><span class="line"></span><br><span class="line">.c</span><br><span class="line">  @extend .a, .b</span><br><span class="line">  height: 200px</span><br><span class="line">=&gt;</span><br><span class="line">.a,</span><br><span class="line">.c &#123;</span><br><span class="line">  color: <span class="comment">#f00;</span></span><br><span class="line">&#125;</span><br><span class="line">.b,</span><br><span class="line">.c &#123;</span><br><span class="line">  width: 100px;</span><br><span class="line">&#125;</span><br><span class="line">.c &#123;</span><br><span class="line">  height: 200px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>请注意，如果选择器未扩展，它将不会出现在生成的CSS中，因此这是创建可扩展代码库的强大方法。 虽然您可以通过mixin插入代码，但是每次使用它们时都会插入相同的代码，而扩展占位符会为您提供紧凑的输出。</p>
<h3 id="可选扩展"><a href="#可选扩展" class="headerlink" title="可选扩展"></a>可选扩展</h3><p>有时，根据上下文能够扩展可能存在或不存在的内容这会很有用。 可以通过 <em>!</em> 后缀任意选择器来实现此目的：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="variable">$specialDesign</span></span><br><span class="line">  color: <span class="comment">#FFF</span></span><br><span class="line"></span><br><span class="line">.btn</span><br><span class="line">  @extend .design !optional, <span class="variable">$specialDesign</span> !optional</span><br><span class="line">=&gt;</span><br><span class="line">.btn &#123;</span><br><span class="line">  color: <span class="comment">#fff;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【21】字符转码(Char Escaping)</title>
    <url>/2018/03/05/%E5%AD%A6%E4%B9%A0stylus%E3%80%9021%E3%80%91/</url>
    <content><![CDATA[<h2 id="字符转码-Char-Escaping"><a href="#字符转码-Char-Escaping" class="headerlink" title="字符转码(Char Escaping)"></a>字符转码(Char Escaping)</h2><p>Stylus可以字符转码。这可以让字符变成标识符，或是渲染成字面量。</p>
<p>例如：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body</span><br><span class="line">  padding 1 \+ 2</span><br><span class="line">=&gt;</span><br><span class="line">body &#123;</span><br><span class="line">  padding: 1 + 2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意Stylus中/当作为属性使用的时候需要用括号括起来：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body</span><br><span class="line">  font 14px/1.4</span><br><span class="line">  font (14px/1.4)</span><br><span class="line">=&gt;</span><br><span class="line">body &#123;</span><br><span class="line">  font: 14px/1.4;</span><br><span class="line">  font: 10px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【18】URL()</title>
    <url>/2018/03/02/%E5%AD%A6%E4%B9%A0stylus%E3%80%9018%E3%80%91/</url>
    <content><![CDATA[<h2 id="URL"><a href="#URL" class="headerlink" title="URL()"></a>URL()</h2><p>内联Data URI图像<br>Stylus捆绑了一个可选函数，名叫url()，其替换了字面上的url()调用（且使用base64 Data URIs有条件地内联它们）。</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>通过require(‘stylus’).url该函数本身是可用的，其接受一个options对象，当看到url()时候，返回Stylus内部调用的函数。<br>.define(name, callback)方法指定了一个可被调用的JavaScript函数。在这种情况下，因为我们图片在./css/images中，我们可以忽视paths选项（默认情况下，会查找相关要呈现的图像文件）。如果愿意，该行为时可以改变的。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">stylus(str)</span><br><span class="line">  .<span class="built_in">set</span>(<span class="string">'filename'</span>, __dirname + <span class="string">'/css/test.styl'</span>)</span><br><span class="line">  .define(<span class="string">'url'</span>, stylus.url())</span><br><span class="line">  .render(<span class="keyword">function</span>(err, css)&#123;</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>例如，想象图片在./public/images, 我们想要使用url(images/tobi.png), 我们可以传递paths公共目录。这样，它就成为了向上查找进程的一部分。<br>同样，如果我们想替换为url(tobi.png), 我们可以传递paths: [__dirname + ‘/public/images’].</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">stylus(str)</span><br><span class="line">  .<span class="built_in">set</span>(<span class="string">'filename'</span>, __dirname + <span class="string">'/css/test.styl'</span>)</span><br><span class="line">  .define(<span class="string">'url'</span>, stylus.url(&#123; paths: [__dirname + <span class="string">'/public'</span>] &#125;))</span><br><span class="line">  .render(<span class="keyword">function</span>(err, css)&#123;</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="选项-Options"><a href="#选项-Options" class="headerlink" title="选项(Options)"></a>选项(Options)</h3><p>limit 大小默认限制30Kb(30000)<br>paths 图像解析路径</p>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【23】错误报告(Error Reporting)</title>
    <url>/2018/03/06/%E5%AD%A6%E4%B9%A0stylus%E3%80%9023%E3%80%91/</url>
    <content><![CDATA[<h2 id="错误报告-Error-Reporting"><a href="#错误报告-Error-Reporting" class="headerlink" title="错误报告(Error Reporting)"></a>错误报告(Error Reporting)</h2><p>Stylus内置梦幻般的错误报告，针对语法、解析以及计算错误，完整的堆栈跟踪，行号和文件名。</p>
<h3 id="解析错误"><a href="#解析错误" class="headerlink" title="解析错误"></a>解析错误</h3><p>解析错误例子：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body</span><br><span class="line">  form input</span><br><span class="line">    == padding 5px</span><br><span class="line">=&gt;</span><br><span class="line">ParseError: test.styl:3:16</span><br><span class="line">  1| body</span><br><span class="line">  2|    form input</span><br><span class="line">  3|      == padding 5px</span><br><span class="line">---------------------^</span><br><span class="line">  4|</span><br><span class="line"></span><br><span class="line">illegal unary <span class="string">"=="</span>, missing left-hand operand</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="计算错误"><a href="#计算错误" class="headerlink" title="计算错误"></a>计算错误</h3><p>这种“运行”或计算错误类似于传递字符串给border-radius()，而不是单位值</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ensure(val, <span class="built_in">type</span>)</span><br><span class="line">  unless val is a <span class="built_in">type</span></span><br><span class="line">    error(<span class="string">'expected a '</span> + <span class="built_in">type</span> + <span class="string">', but got '</span> + typeof(val))</span><br><span class="line"></span><br><span class="line">border-radius(n)</span><br><span class="line">  ensure(n, <span class="string">'unit'</span>)</span><br><span class="line">  -webkit-border-radius n</span><br><span class="line">  -moz-border-radius n</span><br><span class="line">  border-radius n</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  border-radius <span class="string">'5px'</span></span><br><span class="line">=&gt;</span><br><span class="line">Error: test.styl:3:62</span><br><span class="line">  1| ensure(val, <span class="built_in">type</span>)</span><br><span class="line">  2|     unless val is a <span class="built_in">type</span></span><br><span class="line">  3|       error(<span class="string">'expected a '</span> + <span class="built_in">type</span> + <span class="string">', but got '</span> + typeof(val))</span><br><span class="line">-------------------------------------------------------------------^</span><br><span class="line">  4|</span><br><span class="line">  5| border-radius(n)</span><br><span class="line">  6|   ensure(n, <span class="string">'unit'</span>)</span><br><span class="line"></span><br><span class="line">expected a unit, but got string</span><br><span class="line">    at ensure() (test.styl:2:17)</span><br><span class="line">    at border-radius() (test.styl:6:16)</span><br><span class="line">    at <span class="string">"body"</span> (test.styl:10:18)</span><br></pre></td></tr></table></figure>





]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【24】连接中间件(Connect Middleware)</title>
    <url>/2018/03/06/%E5%AD%A6%E4%B9%A0stylus%E3%80%9024%E3%80%91/</url>
    <content><![CDATA[<h2 id="连接中间件-Connect-Middleware"><a href="#连接中间件-Connect-Middleware" class="headerlink" title="连接中间件(Connect Middleware)"></a>连接中间件(Connect Middleware)</h2><p>有了连接中间件，无论Stylus片段什么时候改变，这些片段都能够自动编译。</p>
<h3 id="stylus-middleware-options"><a href="#stylus-middleware-options" class="headerlink" title="stylus.middleware(options)"></a>stylus.middleware(options)</h3><p>选项<br>返回给定options下的连接中间件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">`serve`     从 `dest` 提供stylus文件 [<span class="literal">true</span>]</span><br><span class="line">`force`     总是重新编译</span><br><span class="line">`src`       资源目录用来查找 .styl 文件</span><br><span class="line">`dest`      `src`默认为undefined时，用来输出 .css 文件的目标目录</span><br><span class="line">`compile`   自定义编译函数，接受参数`(str, path)`.</span><br><span class="line">`compress`  是否输出的 .css 文件要被压缩</span><br><span class="line">`firebug`   生成的CSS中发出调试信息，可被Firebug插件FireStylus使用</span><br><span class="line">`linenos`   生成的CSS中发出注解，表明响应的stylus行</span><br><span class="line">`sourcemap` 以sourcemaps v3格式生成源映射</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><p>从./public提供.styl文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var app = connect();</span><br><span class="line">app.middleware(__dirname + <span class="string">'/public'</span>);</span><br></pre></td></tr></table></figure>
<p>改变src以及dest项来修改.styl文件哪里被加载，哪里被保存。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var app = connect();</span><br><span class="line"></span><br><span class="line">app.middleware(&#123;</span><br><span class="line">  src: __dirname + <span class="string">'/stylesheets'</span>,</span><br><span class="line">  dest: __dirname + <span class="string">'/public'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>这里我们建立自定义的编译函数，这样，我们就能设置compress项，或是定义附加的函数。<br>默认情况下，编译函数是简单地设置filename以及渲染CSS. 在下面这个例子中，我们压缩输出内容，使用”nib”库插件，以及自动导入。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> compile(str, path) &#123;</span><br><span class="line">  <span class="built_in">return</span> stylus(str)</span><br><span class="line">    .<span class="built_in">set</span>(<span class="string">'filename'</span>, path)</span><br><span class="line">    .<span class="built_in">set</span>(<span class="string">'compress'</span>, <span class="literal">true</span>)</span><br><span class="line">    .use(nib())</span><br><span class="line">    .import(<span class="string">'nib'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>作为选项传递应该像这样：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var app = connect();</span><br><span class="line"></span><br><span class="line">app.middleware(&#123;</span><br><span class="line">    src: __dirname</span><br><span class="line">  , dest: __dirname + <span class="string">'/public'</span></span><br><span class="line">  , compile: compile</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【25】自检API(Introspection API)</title>
    <url>/2018/03/12/%E5%AD%A6%E4%B9%A0stylus%E3%80%9025%E3%80%91/</url>
    <content><![CDATA[<h2 id="自检API-Introspection-API"><a href="#自检API-Introspection-API" class="headerlink" title="自检API(Introspection API)"></a>自检API(Introspection API)</h2><p>Stylus支持自我检测的API, 这允许混写以及函数反应调用者的相关性。</p>
<h3 id="混入-mixin"><a href="#混入-mixin" class="headerlink" title="混入(mixin)"></a>混入(mixin)</h3><p>mixin这个局部变量在函数体内自动赋值。如果调用的函数在根级别，则mixin包含字符串root, 如果其他情况，则是block, 如果调用函数有返回值，最终为false.<br>下面这个例子中，我们定义reset(), 根据其是混入了根部，还是混入块状域，还是混入返回值中，来修改其值，并作为foo属性的值呈现：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">reset()</span><br><span class="line">  <span class="keyword">if</span> mixin == <span class="string">'root'</span></span><br><span class="line">    got</span><br><span class="line">      root <span class="literal">true</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> mixin</span><br><span class="line">    got <span class="string">'a mixin'</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="string">'not a mixin'</span></span><br><span class="line"></span><br><span class="line">reset()</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  reset()</span><br><span class="line">  foo reset()</span><br><span class="line"></span><br><span class="line">=&gt;</span><br><span class="line">got &#123;</span><br><span class="line">  root: <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">  foo: <span class="string">"not a mixin"</span>;</span><br><span class="line">  got: <span class="string">"a mixin"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【22】可执行性(EXECUTABLE)</title>
    <url>/2018/03/05/%E5%AD%A6%E4%B9%A0stylus%E3%80%9022%E3%80%91/</url>
    <content><![CDATA[<h2 id="可执行性-EXECUTABLE"><a href="#可执行性-EXECUTABLE" class="headerlink" title="可执行性(EXECUTABLE)"></a>可执行性(EXECUTABLE)</h2><p>正因有stylus可执行性，Stylus才能将自身转换成CSS.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Usage: stylus [options] [<span class="built_in">command</span>] [&lt; <span class="keyword">in</span> [&gt; out]]</span><br><span class="line">              [file|dir ...]</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line"></span><br><span class="line">  <span class="built_in">help</span> [&lt;<span class="built_in">type</span>&gt;:]&lt;prop&gt; Opens <span class="built_in">help</span> info at MDC <span class="keyword">for</span> &lt;prop&gt; <span class="keyword">in</span></span><br><span class="line">                       your default browser. Optionally</span><br><span class="line">                       searches other resources of &lt;<span class="built_in">type</span>&gt;:</span><br><span class="line">                       safari opera w3c ms caniuse quirksmode</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line"></span><br><span class="line">  -i, --interactive       Start interactive REPL</span><br><span class="line">  -u, --use &lt;path&gt;        Utilize the Stylus plugin at &lt;path&gt;</span><br><span class="line">  -U, --inline            Utilize image inlining via data URI support</span><br><span class="line">  -w, --watch             Watch file(s) <span class="keyword">for</span> changes and re-compile</span><br><span class="line">  -o, --out &lt;dir&gt;         Output to &lt;dir&gt; when passing files</span><br><span class="line">  -C, --css &lt;src&gt; [dest]  Convert CSS input to Stylus</span><br><span class="line">  -I, --include &lt;path&gt;    Add &lt;path&gt; to lookup paths</span><br><span class="line">  -c, --compress          Compress CSS output</span><br><span class="line">  -d, --compare           Display input along with output</span><br><span class="line">  -f, --firebug           Emits debug infos <span class="keyword">in</span> the generated CSS that</span><br><span class="line">                          can be used by the FireStylus Firebug plugin</span><br><span class="line">  -l, --line-numbers      Emits comments <span class="keyword">in</span> the generated CSS</span><br><span class="line">                          indicating the corresponding Stylus line</span><br><span class="line">  -m, --sourcemap         Generates a sourcemap <span class="keyword">in</span> sourcemaps v3 format</span><br><span class="line">  --sourcemap-inline      Inlines sourcemap with full <span class="built_in">source</span> text <span class="keyword">in</span> base64 format</span><br><span class="line">  --sourcemap-root &lt;url&gt;  <span class="string">"sourceRoot"</span> property of the generated sourcemap</span><br><span class="line">  --sourcemap-base &lt;path&gt; Base &lt;path&gt; from <span class="built_in">which</span> sourcemap and all sources are relative</span><br><span class="line">  -P, --prefix [prefix]   Prefix all css classes</span><br><span class="line">  -p, --<span class="built_in">print</span>             Print out the compiled CSS</span><br><span class="line">  --import &lt;file&gt;         Import stylus &lt;file&gt;</span><br><span class="line">  --include-css           Include regular CSS on @import</span><br><span class="line">  -D, --deps              Display dependencies of the compiled file</span><br><span class="line">  --<span class="built_in">disable</span>-cache         Disable caching</span><br><span class="line">  --hoist-atrules         Move @import and @charset to the top</span><br><span class="line">  -r, --resolve-url       Resolve relative urls inside imports</span><br><span class="line">  --resolve-url-nocheck   Like --resolve-url but without file existence check</span><br><span class="line">  -V, --version           Display the version of Stylus</span><br><span class="line">  -h, --<span class="built_in">help</span>              Display <span class="built_in">help</span> information</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="STDIO编译范例"><a href="#STDIO编译范例" class="headerlink" title="STDIO编译范例"></a>STDIO编译范例</h3><p>stylus读取自stdin输出到stdout, 因此，如下例：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus --compress &lt; some.styl &gt; some.css</span><br></pre></td></tr></table></figure>
<p>在终端机上尝试Stylus，书写下面的内容，然后为<strong>EOF</strong>按下CTRL-D：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus</span><br><span class="line">body</span><br><span class="line">  color red</span><br><span class="line">  font 14px Arial, sans-serif</span><br></pre></td></tr></table></figure>

<h3 id="编译文件范例"><a href="#编译文件范例" class="headerlink" title="编译文件范例"></a>编译文件范例</h3><p>stylus亦接受文件和目录。例如，一个目录名为css将在同一目录编译并输出.css文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus css</span><br></pre></td></tr></table></figure>
<p>下面的将会输出到./public/stylesheets:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus css --out public/stylesheets</span><br></pre></td></tr></table></figure>
<p>或一些文件：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus one.styl two.styl</span><br></pre></td></tr></table></figure>
<p>为了开发的目的，你可以使用linenos选项发出指令在生成的CSS中显示Stylus文件名以及行数。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus --line-numbers &lt;path&gt;</span><br></pre></td></tr></table></figure>
<p>或是firebug选项，如果你想使用firebug的<a href="https://github.com/stylus/stylus/blob/master/docs/firebug.md" target="_blank" rel="noopener">FireStylus扩展</a>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus --firebug &lt;path&gt;</span><br></pre></td></tr></table></figure>

<h3 id="类前缀"><a href="#类前缀" class="headerlink" title="类前缀"></a>类前缀</h3><p>stylus可执行文件为您提供了一种方法，使用给定[prefix]的–prefix选项为所有生成的样式添加前缀，</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus --prefix foo-</span><br></pre></td></tr></table></figure>
<p>这个代码使用后</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.bar</span><br><span class="line">  width: 10px</span><br><span class="line">=&gt;</span><br><span class="line">.foo-bar &#123;</span><br><span class="line">  width: 10px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>所有类都会被添加前缀：插值，扩展等。</p>
<h3 id="转换CSS"><a href="#转换CSS" class="headerlink" title="转换CSS"></a>转换CSS</h3><p>如果你想把CSS转换成简洁的Stylus语法，可以使用–css标志。<br>通过标准输入输出：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus --css &lt; test.css &gt; test.styl</span><br></pre></td></tr></table></figure>
<p>输出基本名一致的.styl文件。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus --css test.css</span><br></pre></td></tr></table></figure>
<p>输出特定的目标：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus --css test.css /tmp/out.styl</span><br></pre></td></tr></table></figure>

<h3 id="CSS属性的帮助"><a href="#CSS属性的帮助" class="headerlink" title="CSS属性的帮助"></a>CSS属性的帮助</h3><p>在OS X上，stylus help <prop>会打开你默认浏览器并显示给定的<prop>属性的帮助文档。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus <span class="built_in">help</span> box-shadow</span><br></pre></td></tr></table></figure>

<h3 id="壳层交互"><a href="#壳层交互" class="headerlink" title="壳层交互"></a>壳层交互</h3><p>Stylus REPL (Read-Eval-Print-Loop)或“壳层交互(Interactive Shell)”允许你直接在终端机上把玩Stylus的表达式。<br>注意只有表达式可以生效，而不是选择器之类。为了简单，我们添加-i或–interactive标志：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus -i</span><br><span class="line">&gt; color = white</span><br><span class="line">=&gt; <span class="comment">#fff</span></span><br><span class="line">&gt; color - rgb(200,50,0)</span><br><span class="line">=&gt; <span class="comment">#37cdff</span></span><br><span class="line">&gt; color</span><br><span class="line">=&gt; <span class="comment">#fff</span></span><br><span class="line">&gt; color -= rgb(200,50,0)</span><br><span class="line">=&gt; <span class="comment">#37cdff</span></span><br><span class="line">&gt; color</span><br><span class="line">=&gt; <span class="comment">#37cdff</span></span><br><span class="line">&gt; rgba(color, 0.5)</span><br><span class="line">=&gt; rgba(55,205,255,0.5)</span><br></pre></td></tr></table></figure>

<h3 id="解析导入中的相关URL"><a href="#解析导入中的相关URL" class="headerlink" title="解析导入中的相关URL"></a>解析导入中的相关URL</h3><p>默认情况下，Stylus不会解析导入的.styl文件中的url，所以如果你碰巧有一个带有@import”bar/bar.styl”的foo.styl，它有一个url(“baz.png”)，它在得到的CSS中也会是url(“baz.png”)。<br>但是你可以通过使用–resolve-url（或者只是-r）选项来获得你的结果CSS中的url(“bar/baz.png”)来改变这种行为。列出依赖关系<br>您可以使用–deps（或者只是-D）标志来获取编译文件的依赖关系列表。<br>例如，假设我们有test.styl：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@import <span class="string">'foo'</span></span><br><span class="line">@import <span class="string">'bar'</span></span><br><span class="line">And inside foo.styl:</span><br><span class="line"></span><br><span class="line">@import <span class="string">'baz'</span></span><br><span class="line">Running:</span><br><span class="line"></span><br><span class="line">$ stylus --deps test.styl</span><br><span class="line">Will give us list of the imports paths:</span><br><span class="line"></span><br><span class="line">foo.styl</span><br><span class="line">baz.styl</span><br><span class="line">bar.styl</span><br></pre></td></tr></table></figure>
<p>请注意，目前这不适用于动态生成的路径。</p>
<p>利用插件<br>本例我们将使用nibStylus插件来说明它的CLI使用。<br>假设我们有如下的Stylus, 其导入nib并使用nib的linear-gradient()方法：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@import <span class="string">'nib'</span></span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  background: linear-gradient(20px top, white, black)</span><br></pre></td></tr></table></figure>
<p>我们是使用stylus(1)通过标准输入输出试图渲染的第一个东西可能就像下面这样：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus &lt; test.styl</span><br></pre></td></tr></table></figure>
<p>这可能会生成如下的错误，因为Stylus不知道去哪里找到nib.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Error: stdin:3</span><br><span class="line">   1|</span><br><span class="line">   2|</span><br><span class="line"> &gt; 3| @import <span class="string">'nib'</span></span><br><span class="line">   4|</span><br><span class="line">   5| body</span><br><span class="line">   6|   background: linear-gradient(20px top, white, black)</span><br></pre></td></tr></table></figure>
<p>对于简单应用Stylus API们的插件，我们可以添加查找路径。通过使用–include或-I标志：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus &lt; test.styl --include ../nib/lib</span><br></pre></td></tr></table></figure>
<p>现在生成内容如下。您可能注意到了，gradient-data-uri()以及create-gradient-image()以字面量形式输出了。这是因为，当插件提供JavaScript API的时候，光暴露插件的路径是不够的。但是，如果我们仅仅想要的是纯粹Stylus nib函数，则足够了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">  background: url(gradient-data-uri(create-gradient-image(20px, top)));</span><br><span class="line">  background: -webkit-gradient(linear, left top, left bottom, color-stop(0, <span class="comment">#fff), color-stop(1, #000));</span></span><br><span class="line">  background: -webkit-linear-gradient(top, <span class="comment">#fff 0%, #000 100%);</span></span><br><span class="line">  background: -moz-linear-gradient(top, <span class="comment">#fff 0%, #000 100%);</span></span><br><span class="line">  background: linear-gradient(top, <span class="comment">#fff 0%, #000 100%);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>因此，我们需要做的是使用–use或-u标志。其会找寻node模块（有或者没有.js扩展名）路径，这里的require()模块或调用style.use(fn())来暴露该插件（定义js函数等）。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus &lt; test.styl --use ../nib/lib/nib</span><br><span class="line">=&gt;</span><br><span class="line">body &#123;</span><br><span class="line">  background: url(<span class="string">"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAUCAYAAABMDlehAAAABmJLR0QA/wD/AP+gvaeTAAAAI0lEQVQImWP4+fPnf6bPnz8zMH358oUBwkIjKJBgYGNj+w8Aphk4blt0EcMAAAAASUVORK5CYII="</span>);</span><br><span class="line">  background: -webkit-gradient(linear, left top, left bottom, color-stop(0, <span class="comment">#fff), color-stop(1, #000));</span></span><br><span class="line">  background: -webkit-linear-gradient(top, <span class="comment">#fff 0%, #000 100%);</span></span><br><span class="line">  background: -moz-linear-gradient(top, <span class="comment">#fff 0%, #000 100%);</span></span><br><span class="line">  background: linear-gradient(top, <span class="comment">#fff 0%, #000 100%);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果您需要将参数传递给插件，请使用–with选项。 - 评估任何有效的javascript表达式并将其值传递给插件。 例如：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ stylus &lt; test.styl --use ../node_modules/autoprefixer-stylus --with <span class="string">"&#123; browsers: ['ie 7', 'ie 8'] &#125;"</span></span><br></pre></td></tr></table></figure>








]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【20】CSS样式解析(CSS Style Syntax)</title>
    <url>/2018/03/05/%E5%AD%A6%E4%B9%A0stylus%E3%80%9020%E3%80%91/</url>
    <content><![CDATA[<h2 id="CSS样式解析-CSS-Style-Syntax"><a href="#CSS样式解析-CSS-Style-Syntax" class="headerlink" title="CSS样式解析(CSS Style Syntax)"></a>CSS样式解析(CSS Style Syntax)</h2><p>Stylus完全支持常规的CSS样式解析，这意味着你无需寻求其它解析器，或指定特别的文件使用特别的样式。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">border-radius()</span><br><span class="line">  -webkit-border-radius arguments</span><br><span class="line">  -moz-border-radius arguments</span><br><span class="line">  border-radius arguments</span><br><span class="line"></span><br><span class="line">body a</span><br><span class="line">  font 12px/1.4 <span class="string">"Lucida Grande"</span>, Arial, sans-serif</span><br><span class="line">  background black</span><br><span class="line">  color <span class="comment">#ccc</span></span><br><span class="line"></span><br><span class="line">form input</span><br><span class="line">  padding 5px</span><br><span class="line">  border 1px solid</span><br><span class="line">  border-radius 5px</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>因为括号，冒号及分号都是可选的，因此上面的例子我们可以按照正常的CSS书写：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">border-<span class="function"><span class="title">radius</span></span>() &#123;</span><br><span class="line">  -webkit-border-radius: arguments;</span><br><span class="line">  -moz-border-radius: arguments;</span><br><span class="line">  border-radius: arguments;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">body a &#123;</span><br><span class="line">  font: 12px/1.4 <span class="string">"Lucida Grande"</span>, Arial, sans-serif;</span><br><span class="line">  background: black;</span><br><span class="line">  color: <span class="comment">#ccc;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">form input &#123;</span><br><span class="line">  padding: 5px;</span><br><span class="line">  border: 1px solid;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>因为我们可以混合和匹配的两个变体，因此下面也是有效的：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">border-radius()</span><br><span class="line">  -webkit-border-radius: arguments;</span><br><span class="line">  -moz-border-radius: arguments;</span><br><span class="line">  border-radius: arguments;</span><br><span class="line"></span><br><span class="line">body a &#123;</span><br><span class="line">  font: 12px/1.4 <span class="string">"Lucida Grande"</span>, Arial, sans-serif;</span><br><span class="line">  background: black;</span><br><span class="line">  color: <span class="comment">#ccc;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">form input</span><br><span class="line">  padding: 5px;</span><br><span class="line">  border: 1px solid;</span><br><span class="line">  border-radius: 5px;</span><br></pre></td></tr></table></figure>
<p>Stylus支持的变量，函数，混写以及其他特征也可以使之按预期工作：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">main-color = white</span><br><span class="line">main-hover-color = black</span><br><span class="line"></span><br><span class="line">body a &#123;</span><br><span class="line">  color: main-color;</span><br><span class="line">  &amp;:hover &#123; color: main-hover-color; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">body a &#123; color: main-color; &amp;:hover &#123; color: main-hover-color; &#125;&#125;</span><br></pre></td></tr></table></figure>
<p>此规则有一些注意事项：因为这两种风格可以混合和匹配，一些缩进规则仍然适用。所以，虽然不是每一个普通的CSS样式零修改都起作用，此功能仍然允许那些喜欢CSS语法的同学们继续这样做，同时又可以利用Stylus的强大功能。</p>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【2】变量</title>
    <url>/2018/01/30/%E5%AD%A6%E4%B9%A0stylus%E3%80%902%E3%80%91/</url>
    <content><![CDATA[<p><strong>使用变量</strong><br>我们还是以举例开始学习</p>
<p>我们打开 <em>themes/landscape/source/css</em> 找到 <em>_variables.styl</em> 文件并打开<br>会发现很多如下代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// Fonts</span><br><span class="line">font-sans = -apple-system, <span class="string">"Microsoft YaHei"</span> BlinkMacSystemFont,</span><br><span class="line">    <span class="string">"Segoe UI"</span>, <span class="string">"Roboto"</span>, <span class="string">"Oxygen"</span>, <span class="string">"Ubuntu"</span>, <span class="string">"Cantarell"</span>,</span><br><span class="line">    <span class="string">"Fira Sans"</span>, <span class="string">"Droid Sans"</span>, <span class="string">"Helvetica Neue"</span>,</span><br><span class="line">    sans-serif</span><br><span class="line">font-serif = Georgia, <span class="string">"Times New Roman"</span>, serif</span><br><span class="line">font-mono = <span class="string">"Source Code Pro"</span>, Consolas, Monaco, Menlo, Consolas, monospace</span><br><span class="line">font-icon = FontAwesome</span><br><span class="line">font-icon-path = <span class="string">"fonts/fontawesome-webfont"</span></span><br><span class="line">font-icon-version = <span class="string">"4.0.3"</span></span><br><span class="line">font-size = 14px</span><br><span class="line">line-height = 1.6em</span><br><span class="line">line-height-title = 1.1em</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>这里其实把相应的CSS属性值赋值给了一个变量<br>使用的时候也很简单，直接调用即可。如下代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body</span><br><span class="line">    font: font-size font-sans</span><br><span class="line">=&gt;转化成正常css的话就是</span><br><span class="line">body&#123;</span><br><span class="line">    font: 14px -apple-system, <span class="string">"Microsoft YaHei"</span> BlinkMacSystemFont,</span><br><span class="line">        <span class="string">"Segoe UI"</span>, <span class="string">"Roboto"</span>, <span class="string">"Oxygen"</span>, <span class="string">"Ubuntu"</span>, <span class="string">"Cantarell"</span>,</span><br><span class="line">        <span class="string">"Fira Sans"</span>, <span class="string">"Droid Sans"</span>, <span class="string">"Helvetica Neue"</span>,</span><br><span class="line">        sans-serif;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>*可以不用声明变量，直接使用 <em>@</em> 来读取该属性的值也可以。如以下例子</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">body</span><br><span class="line">    width 940px</span><br><span class="line">    position absolute</span><br><span class="line">    left 50%</span><br><span class="line">    margin -(@width / 2)</span><br></pre></td></tr></table></figure>

<p><strong>动态属性</strong><br>使用 <em>{花括号}</em> 能方便私有前缀的添加如下例，它可以批量修改属性名称</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">attribute(atrs, args)</span><br><span class="line">  -webkit-&#123;atrs&#125; args</span><br><span class="line">  -moz-&#123;atrs&#125; args</span><br><span class="line">  &#123;atrs&#125; args</span><br><span class="line"></span><br><span class="line">  border-radius()</span><br><span class="line">    attribute(<span class="string">'border-radius'</span>, arguments)</span><br><span class="line"></span><br><span class="line">  button</span><br><span class="line">    border-radius 2px</span><br><span class="line"></span><br><span class="line">=&gt;相当于</span><br><span class="line">button&#123;</span><br><span class="line">    -webkit-border-radius: 2px;</span><br><span class="line">    -moz-border-radius: 2px;</span><br><span class="line">    border-radius: 2px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>{花括号}</em> 也可以用在属性值上如下例</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">table</span><br><span class="line">  <span class="keyword">for</span> row <span class="keyword">in</span> 1 2 3 4 5</span><br><span class="line">    tr:nth-child(&#123;row&#125;)</span><br><span class="line">      height: 10px * row</span><br><span class="line">=&gt;相当于</span><br><span class="line">table tr:nth-child(1) &#123;</span><br><span class="line">  height: 10px;</span><br><span class="line">&#125;</span><br><span class="line">table tr:nth-child(2) &#123;</span><br><span class="line">  height: 20px;</span><br><span class="line">&#125;</span><br><span class="line">table tr:nth-child(3) &#123;</span><br><span class="line">  height: 30px;</span><br><span class="line">&#125;</span><br><span class="line">table tr:nth-child(4) &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">&#125;</span><br><span class="line">table tr:nth-child(5) &#123;</span><br><span class="line">  height: 50px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【4】Stylus的方法及函数</title>
    <url>/2018/02/05/%E5%AD%A6%E4%B9%A0stylus%E3%80%904%E3%80%91/</url>
    <content><![CDATA[<p><strong>方法</strong><br>在 <strong>stylus</strong> 中可以直接定义函数方法，不需要使用 <em>function</em><br>下面是一个最简单的返回值的方法</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">add(a, b)</span><br><span class="line">  a + b</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  padding add(10px, 5)</span><br><span class="line">=&gt;</span><br><span class="line">body&#123;padding: 15px;&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>

<p><strong>参数</strong><br>在 <strong>stylus</strong> 中我们可以设置超级参数<br>例如</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">add(a, b = a)</span><br><span class="line">  a + b</span><br><span class="line"></span><br><span class="line">add(10, 5)</span><br><span class="line">// =&gt; 15</span><br><span class="line"></span><br><span class="line">add(10)</span><br><span class="line">// =&gt; 20</span><br></pre></td></tr></table></figure>
<p><strong>stylus</strong> 也可以使用函数作为参数进行调用<br>例如</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">add(a, b = unit(a, px))</span><br><span class="line">  a + b</span><br><span class="line"></span><br><span class="line">/* unit()为stylus的内置方法，其作用为将参数变为指定单位 */</span><br><span class="line">add(a, b = a)</span><br><span class="line">  a = unit(a, px)   //将a的单位变为px</span><br><span class="line">  b = unit(b, px)  //将b的单位变为px</span><br><span class="line">  a + b</span><br><span class="line"></span><br><span class="line">add(15%, 10deg)</span><br><span class="line">// =&gt; 25px</span><br></pre></td></tr></table></figure>

<p><strong>数组</strong><br>例如</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/*<span class="comment">#1*/</span></span><br><span class="line">sizes = 15px 10px</span><br><span class="line"></span><br><span class="line">sizes[0]</span><br><span class="line">// =&gt; 15px</span><br><span class="line"></span><br><span class="line">/*<span class="comment">#2*/</span></span><br><span class="line">sizes()</span><br><span class="line"> 15px 10px</span><br><span class="line"></span><br><span class="line">sizes()[0]</span><br><span class="line">// =&gt; 15px</span><br></pre></td></tr></table></figure>

<p><strong>条件判断</strong><br>我们判断val是否是字符串或缩进。如下，使用yes和no代替true和false.</p>
<p>例如</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">stringish(val)</span><br><span class="line">  <span class="keyword">if</span> val is a <span class="string">'string'</span> or val is a <span class="string">'ident'</span></span><br><span class="line">    yes</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    no</span><br><span class="line"></span><br><span class="line">stringish(<span class="string">'yay'</span>) == yes</span><br><span class="line">// =&gt; <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">stringish(yay) == yes</span><br><span class="line">// =&gt; <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">stringish(0) == no</span><br><span class="line">// =&gt; <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">compare(a, b)</span><br><span class="line">  <span class="keyword">if</span> a &gt; b</span><br><span class="line">    higher</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> a &lt; b</span><br><span class="line">    lower</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    equal</span><br><span class="line"></span><br><span class="line">compare(5, 2)</span><br><span class="line">// =&gt; higher</span><br><span class="line"></span><br><span class="line">compare(1, 5)</span><br><span class="line">// =&gt; lower</span><br><span class="line"></span><br><span class="line">compare(10, 10)</span><br><span class="line">// =&gt; equal</span><br></pre></td></tr></table></figure>

<p><strong>别名</strong><br>别名的声明很简单，直接赋值给新的变量即可</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">plus = add</span><br><span class="line"></span><br><span class="line">plus(1, 2)</span><br><span class="line">// =&gt; 3</span><br></pre></td></tr></table></figure>

<p><strong>函数参数</strong><br>我们在其他编程语言中也经常遇到，将函数作为参数的情况</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">invoke(a, b, fn)</span><br><span class="line">  fn(a, b)</span><br><span class="line"></span><br><span class="line">add(a, b)</span><br><span class="line">  a + b</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  padding invoke(5, 10, add)</span><br><span class="line">  padding invoke(5, 10, sub)</span><br><span class="line"></span><br><span class="line">=&gt;</span><br><span class="line">body &#123;</span><br><span class="line">  padding: 15;</span><br><span class="line">  padding: -5;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【3】</title>
    <url>/2018/02/01/%E5%AD%A6%E4%B9%A0stylus%E3%80%903%E3%80%91/</url>
    <content><![CDATA[<p><strong>使用运算符号</strong><br>和其他语言一样 <strong>stylus</strong> 也有运算符号，<br>最常用的 + - * / % 等等<br>逻辑运算符号 !, ==, !=, &gt;=, &gt;, &lt;=, &lt;等等<br>在 <strong>stylus</strong> 中都可以使用。而且 <strong>stylus</strong> 提供很多新的运算符号。</p>
<a id="more"></a>
<p>看下面的例子，这里面基本将所有的运算符号使用了一遍，大家可以参考使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">margin 15px + 5px  =&gt; margin: 20px; /*加*/</span><br><span class="line">margin 15px - 5px =&gt; margin: 10px; /*减*/</span><br><span class="line">margin 15px * 5px =&gt; margin: 75px; /*乘*/</span><br><span class="line">margin 15px / 5px =&gt; margin: 3px; /*除*/</span><br><span class="line">margin 15 % 5px =&gt; margin: 0px; /*求余*/</span><br><span class="line">!15px =&gt; <span class="literal">false</span>  /*否定*/</span><br><span class="line">!!15px =&gt; <span class="literal">true</span> /*双否定*/</span><br><span class="line">15px == 15px =&gt; <span class="literal">true</span> /*并且*/</span><br><span class="line">15px and 14px =&gt; <span class="literal">false</span> /*并且*/</span><br><span class="line">2 ** 8 =&gt; 256 /*指数*/</span><br><span class="line">10px &gt; 5px =&gt; <span class="literal">true</span> /*判断*/</span><br><span class="line">2 &amp;&amp; 3  =&gt; 3</span><br><span class="line">0 || 2 =&gt; 2</span><br><span class="line">0 &amp;&amp; 2 =&gt; 0</span><br></pre></td></tr></table></figure>

<p><strong>Mixins混入</strong><br>感觉混入和函数的定义是一样的，但用处不同。Mixins混入作为状态调用，而非表达调用<br>我们使用官网的一条例子可以来学习一下。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">border-radius(n)</span><br><span class="line">  -webkit-border-radius n</span><br><span class="line">  -moz-border-radius n</span><br><span class="line">  border-radius n</span><br><span class="line"></span><br><span class="line">form input[<span class="built_in">type</span>=button]</span><br><span class="line">  border-radius(5px)</span><br><span class="line"></span><br><span class="line">=&gt;</span><br><span class="line">form input[<span class="built_in">type</span>=button] &#123;</span><br><span class="line">  -webkit-border-radius: 5px;</span><br><span class="line">  -moz-border-radius: 5px;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>使用Mixins混入可以省略括号。</em><br>经常被使用的还有透明的处理，以下代码可以用作参考</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">support-for-ie ?= <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">    opacity(n)</span><br><span class="line">      opacity n</span><br><span class="line">      <span class="keyword">if</span> support-for-ie</span><br><span class="line">        filter unquote(<span class="string">'progid:DXImageTransform.Microsoft.Alpha(Opacity='</span> + round(n * 100) + <span class="string">')'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#logo</span></span><br><span class="line">      &amp;:hover</span><br><span class="line">        opacity 0.5</span><br><span class="line">=&gt;</span><br><span class="line"><span class="comment">#logo:hover &#123;</span></span><br><span class="line">      opacity: 0.5;</span><br><span class="line">      filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=50);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><strong>父级引用</strong><br>Mixins混入可以使用字符&amp;引用父级,</p>
<p>例如要用stripe(even, odd)创建一个条纹表格。even和odd均提供了默认颜色值，每行也指定了background-color属性。我们可以在tr嵌套中使用&amp;来引用tr，以提供even颜色。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">stripe(even = <span class="comment">#fff, odd = #eee)</span></span><br><span class="line"> tr</span><br><span class="line">   background-color odd</span><br><span class="line">   &amp;.even</span><br><span class="line">   &amp;:nth-child(even)</span><br><span class="line">       background-color even</span><br><span class="line">然后，利用混合书写，如下：</span><br><span class="line"></span><br><span class="line">table</span><br><span class="line">  stripe()</span><br><span class="line">  td</span><br><span class="line">    padding 4px 10px</span><br><span class="line"></span><br><span class="line">table<span class="comment">#users</span></span><br><span class="line">  stripe(<span class="comment">#303030, #494848)</span></span><br><span class="line">  td</span><br><span class="line">    color white</span><br></pre></td></tr></table></figure>

<p>另外，stripe()的定义无需父引用：</p>
<pre><code class="bash">stripe(even = <span class="comment">#fff, odd = #eee)</span>
  tr
    background-color odd
  tr.even
  tr:nth-child(even)
    background-color even</code></pre>
<p>如果你愿意，你可以把stripe()当作属性调用。</p>
<p>stripe #fff #000<br>Mixins混入中使用Mixins混入<br>自然，Mixins混入可以利用其它Mixins混入，建立在它们自己的属性和选择器上。</p>
<p>例如，下面我们创建内联comma-list()（通过inline-list()）以及逗号分隔的无序列表。</p>
<pre><code class="bash">inline-list()
  li
    display inline

comma-list()
  inline-list()
  li
    &amp;:after
      content <span class="string">', '</span>
    &amp;:last-child:after
      content <span class="string">''</span>

ul
  comma-list()
渲染：

ul li:after {
  content: <span class="string">", "</span>;
}
ul li:last-child:after {
  content: <span class="string">""</span>;
}
ul li {
  display: inline;
}</code></pre>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【26】JavaScript API</title>
    <url>/2018/03/12/%E5%AD%A6%E4%B9%A0stylus%E3%80%9026%E3%80%91/</url>
    <content><![CDATA[<h2 id="JavaScript-API"><a href="#JavaScript-API" class="headerlink" title="JavaScript API"></a>JavaScript API</h2><p>require模块，用给定的Stylus代码字符串调用render()，以及（可选的）optional对象。<br>传递filename参数可以利用Stylus框架提供更好的错误报告。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var stylus = require(<span class="string">'stylus'</span>);</span><br><span class="line"></span><br><span class="line">stylus.render(str, &#123; filename: <span class="string">'nesting.css'</span> &#125;, <span class="keyword">function</span>(err, css)&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) throw err;</span><br><span class="line">  console.log(css);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>我们可以用更渐进的方式实现做一样的事：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var stylus = require(<span class="string">'stylus'</span>);</span><br><span class="line"></span><br><span class="line">stylus(str)</span><br><span class="line">.<span class="built_in">set</span>(<span class="string">'filename'</span>, <span class="string">'nesting.css'</span>)</span><br><span class="line">.render(<span class="keyword">function</span>(err, css)&#123;</span><br><span class="line">  // logic</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="set-setting-value"><a href="#set-setting-value" class="headerlink" title=".set(setting, value)"></a>.set(setting, value)</h3><p>应用诸如filename的设置，或导入paths:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.<span class="built_in">set</span>(<span class="string">'filename'</span>, __dirname + <span class="string">'/test.styl'</span>)</span><br><span class="line">.<span class="built_in">set</span>(<span class="string">'paths'</span>, [__dirname, __dirname + <span class="string">'/mixins'</span>])</span><br></pre></td></tr></table></figure>

<h3 id="include-path"><a href="#include-path" class="headerlink" title=".include(path)"></a>.include(path)</h3><p>渐进替换.set(‘paths’,…)的就是.include(). 当其他Stylus库（已暴露路径）暴露的时候，这个是理想的选择。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">stylus(str)</span><br><span class="line">  .include(require(<span class="string">'nib'</span>).path)</span><br><span class="line">  .include(process.env.HOME + <span class="string">'/mixins'</span>)</span><br><span class="line">  .render(...)</span><br></pre></td></tr></table></figure>

<h3 id="import-path"><a href="#import-path" class="headerlink" title=".import(path)"></a>.import(path)</h3><p>推迟给定path导入，直到计算被执行。下面这个例子基本上跟在Stylus片段中执行@import ‘mixins/vendor’一样：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var stylus = require(<span class="string">'../'</span>)</span><br><span class="line">  , str = require(<span class="string">'fs'</span>).readFileSync(__dirname + <span class="string">'/test.styl'</span>, <span class="string">'utf8'</span>);</span><br><span class="line"></span><br><span class="line">stylus(str)</span><br><span class="line">  .<span class="built_in">set</span>(<span class="string">'filename'</span>, __dirname + <span class="string">'/test.styl'</span>)</span><br><span class="line">  .import(<span class="string">'mixins/vendor'</span>)</span><br><span class="line">  .render(<span class="keyword">function</span>(err, css)&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) throw err;</span><br><span class="line">  console.log(css);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="define-name-node"><a href="#define-name-node" class="headerlink" title=".define(name, node)"></a>.define(name, node)</h3><p>通过传递一个Node，我们可以定义一个全局变量。当库（该库依赖于其它库可用性）里面暴露某些条件特征的时候，这个就很有用。例如Nib扩展库条件支持node-canvas, 提供图片生成。<br>但这并不是一直可用的，因此Nib可以定义：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.define(<span class="string">'has-canvas'</span>, stylus.nodes.false);</span><br><span class="line">.define(<span class="string">'some-setting'</span>, new stylus.nodes.String(<span class="string">'some value'</span>));</span><br></pre></td></tr></table></figure>
<p>如果可能，Stylus也会转换JavaScript值为Stylus值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.define(<span class="string">'string'</span>, <span class="string">'some string'</span>)</span><br><span class="line">.define(<span class="string">'number'</span>, 15.5)</span><br><span class="line">.define(<span class="string">'some-bool'</span>, <span class="literal">true</span>)</span><br><span class="line">.define(<span class="string">'list'</span>, [1,2,3])</span><br><span class="line">.define(<span class="string">'list'</span>, [1,2,[3,4,[5,6]]])</span><br><span class="line">.define(<span class="string">'list'</span>, &#123; foo: <span class="string">'bar'</span>, bar: <span class="string">'baz'</span> &#125;)</span><br><span class="line">.define(<span class="string">'families'</span>, [<span class="string">'Helvetica Neue'</span>, <span class="string">'Helvetica'</span>, <span class="string">'sans-serif'</span>])</span><br></pre></td></tr></table></figure>
<p>下面是一些规则应用在js函数返回值上：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.define(<span class="string">'get-list'</span>, <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">  <span class="built_in">return</span> [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>];</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="define-name-fn"><a href="#define-name-fn" class="headerlink" title=".define(name, fn)"></a>.define(name, fn)</h3><p>该方法允许你未Stylus提供JavaScript定义的函数。正如想到JavaScript用C++绑定。当有一些事情无法用Stylus完成的时候，就在JavaScript中定义它。<br>下面这个例子，我们定义了4个函数：add(), sub(), image-width(), image-height(). 这些函数必须返回一个Node, 通过stylus.nodes该构造以及其它nodes都可以了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var stylus = require(<span class="string">'../'</span>)</span><br><span class="line">  , nodes = stylus.nodes</span><br><span class="line">  , utils = stylus.utils</span><br><span class="line">  , fs = require(<span class="string">'fs'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> add(a, b) &#123;</span><br><span class="line">  <span class="built_in">return</span> a.operate(<span class="string">'+'</span>, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> sub(a, b) &#123;</span><br><span class="line">  <span class="built_in">return</span> a.operate(<span class="string">'-'</span>, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> imageDimensions(img) &#123;</span><br><span class="line">  // 宣告 node (img) 是一个 String 节点, </span><br><span class="line">  // 为错误报告传递参数名</span><br><span class="line">  utils.assertType(img, <span class="string">'string'</span>, <span class="string">'img'</span>);</span><br><span class="line">  var path = img.val;</span><br><span class="line"></span><br><span class="line">  // 得到尺寸有必要取得字节数</span><br><span class="line">  // 如果这是真的，你会每种格式都处理下，</span><br><span class="line">  // 而不是读取整个图片 :)</span><br><span class="line">  var data = fs.readFileSync(__dirname + <span class="string">'/'</span> + path);</span><br><span class="line"></span><br><span class="line">  // GIF</span><br><span class="line">  // 当然，你可以支持更多 :)</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">'GIF'</span> == data.slice(0, 3).toString()) &#123;</span><br><span class="line">    var w = data.slice(6, 8)</span><br><span class="line">      , h = data.slice(8, 10);</span><br><span class="line">    w = w[1] &lt;&lt; 8 | w[0];</span><br><span class="line">    h = h[1] &lt;&lt; 8 | h[0];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">return</span> [w, h];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> imageWidth(img) &#123;</span><br><span class="line">  <span class="built_in">return</span> new nodes.Unit(imageDimensions(img)[0]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> imageHeight(img) &#123;</span><br><span class="line">  <span class="built_in">return</span> new nodes.Unit(imageDimensions(img)[1]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stylus(str)</span><br><span class="line">  .<span class="built_in">set</span>(<span class="string">'filename'</span>, <span class="string">'js-functions.styl'</span>)</span><br><span class="line">  .define(<span class="string">'add'</span>, add)</span><br><span class="line">  .define(<span class="string">'sub'</span>, sub)</span><br><span class="line">  .define(<span class="string">'image-width'</span>, imageWidth)</span><br><span class="line">  .define(<span class="string">'image-height'</span>, imageHeight)</span><br><span class="line">  .render(<span class="keyword">function</span>(err, css)&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) throw err;</span><br><span class="line">    console.log(css);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<p>为了进一步的参考（直到本文档全部结束），请看下面的文件：</p>
<p>lib/nodes/*<br>lib/utils.js</p>
<h3 id="use-fn"><a href="#use-fn" class="headerlink" title=".use(fn)"></a>.use(fn)</h3><p>当被调用时，给定fn被渲染器调用，允许所有上面的方法被使用。这允许插件轻易地暴露自己，定义函数，路径等</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var mylib = <span class="keyword">function</span>(style)&#123;</span><br><span class="line">  style.define(<span class="string">'add'</span>, add);</span><br><span class="line">  style.define(<span class="string">'sub'</span>, sub);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">stylus(str)</span><br><span class="line">  .use(mylib)</span><br><span class="line">  .render(...)</span><br></pre></td></tr></table></figure>
<p>当使用选项调用render()方法时，可以给use选项提供一个函数或一组函数，以便与渲染器一起调用。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">stylus.render(str, &#123; use: mylib &#125;, <span class="keyword">function</span>(err, css)&#123;</span><br><span class="line">  <span class="keyword">if</span> (err) throw err;</span><br><span class="line">  console.log(css);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="deps"><a href="#deps" class="headerlink" title=".deps()"></a>.deps()</h3><p>返回依赖项数组（导入文件）：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">stylus(<span class="string">'@import "a"; @import "b"'</span>)</span><br><span class="line">  .deps();</span><br><span class="line"></span><br><span class="line">// =&gt; [<span class="string">'a.styl'</span>, <span class="string">'b.styl'</span>]</span><br></pre></td></tr></table></figure>
<p>也可以查看 –deps CLI flag.</p>
<h3 id="stylus-resolver-options"><a href="#stylus-resolver-options" class="headerlink" title="stylus.resolver([options])"></a>stylus.resolver([options])</h3><p>可选的内置函数可用于解析导入文件中的相关URL：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">stylus(str)</span><br><span class="line">  .define(<span class="string">'url'</span>, stylus.resolver())</span><br><span class="line">  .render(<span class="keyword">function</span>(err, css) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<p>也可以查看 –resolve-url CLI flag.</p>
<p>Options:</p>
<p>paths additional resolution path(s)<br>nocheck don’t check file existence</p>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【6】Rest参数（Rest Params）</title>
    <url>/2018/02/11/%E5%AD%A6%E4%B9%A0stylus%E3%80%906%E3%80%91/</url>
    <content><![CDATA[<h2 id="Rest参数"><a href="#Rest参数" class="headerlink" title="Rest参数"></a>Rest参数</h2><p><strong>Stylus</strong> 支持name…形式的其余参数。这些参数可以传递给 <a href="/2018/02/01/学习stylus【3】/">混入</a> 或<a href="/2018/02/05/学习stylus【4】/">函数</a>的参数们。这在处理浏览器私有属性，如-moz或-webkit的时候很管用。<br>下面这个例子中，所有的参数们(1px, 2px, …)都被一个args参数给简单处理了：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">box-shadow(args...)</span><br><span class="line">   -webkit-box-shadow args</span><br><span class="line">   -moz-box-shadow args</span><br><span class="line">   box-shadow args</span><br><span class="line"></span><br><span class="line"> <span class="comment">#login</span></span><br><span class="line">   box-shadow 1px 2px 5px <span class="comment">#eee</span></span><br><span class="line"></span><br><span class="line">   =&gt;</span><br><span class="line">   <span class="comment">#login &#123;</span></span><br><span class="line">    -webkit-box-shadow: 1px 2px 5px <span class="comment">#eee;</span></span><br><span class="line">    -moz-box-shadow: 1px 2px 5px <span class="comment">#eee;</span></span><br><span class="line">    box-shadow: 1px 2px 5px <span class="comment">#eee;</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>如果我们想查看一个特定的参数，比如x-offset，我们可以简单地使用args[0]。 或者，我们可能希望重新定义混入mixin：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">box-shadow(offset-x, args...)</span><br><span class="line">  got-offset-x offset-x</span><br><span class="line">  -webkit-box-shadow offset-x args</span><br><span class="line">  -moz-box-shadow offset-x args</span><br><span class="line">  box-shadow offset-x args</span><br><span class="line"></span><br><span class="line"><span class="comment">#login</span></span><br><span class="line">  box-shadow 1px 2px 5px <span class="comment">#eee</span></span><br><span class="line"></span><br><span class="line">  =&gt;</span><br><span class="line">  <span class="comment">#login &#123;</span></span><br><span class="line">    got-offset-x: 1px;</span><br><span class="line">    -webkit-box-shadow: 1px 2px 5px <span class="comment">#eee;</span></span><br><span class="line">    -moz-box-shadow: 1px 2px 5px <span class="comment">#eee;</span></span><br><span class="line">    box-shadow: 1px 2px 5px <span class="comment">#eee;</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><p>arguments变量可以实现表达式的精确传递，包括逗号等等。这可以弥补args…参数的一些不足，见下面的例子：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">box-shadow(args...)</span><br><span class="line">  -webkit-box-shadow args</span><br><span class="line">  -moz-box-shadow args</span><br><span class="line">  box-shadow args</span><br><span class="line"></span><br><span class="line"><span class="comment">#login</span></span><br><span class="line">  box-shadow <span class="comment">#ddd 1px 1px, #eee 2px 2px</span></span><br><span class="line"></span><br><span class="line">=&gt;</span><br><span class="line"><span class="comment">#login &#123;</span></span><br><span class="line">  -webkit-box-shadow: <span class="comment">#ddd 1px 1px #eee 2px 2px;</span></span><br><span class="line">  -moz-box-shadow: <span class="comment">#ddd 1px 1px #eee 2px 2px;</span></span><br><span class="line">  box-shadow: <span class="comment">#ddd 1px 1px #eee 2px 2px;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>逗号给忽略了。我们现在使用arguments重新定义这个混合书写。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">box-shadow()</span><br><span class="line">  -webkit-box-shadow arguments</span><br><span class="line">  -moz-box-shadow arguments</span><br><span class="line">  box-shadow arguments</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  box-shadow <span class="comment">#ddd 1px 1px, #eee 2px 2px</span></span><br><span class="line"></span><br><span class="line">=&gt;</span><br><span class="line">body &#123;</span><br><span class="line">  -webkit-box-shadow: <span class="comment">#ddd 1px 1px, #eee 2px 2px;</span></span><br><span class="line">  -moz-box-shadow: <span class="comment">#ddd 1px 1px, #eee 2px 2px;</span></span><br><span class="line">  box-shadow: <span class="comment">#ddd 1px 1px, #eee 2px 2px;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【7】注释(Comments)</title>
    <url>/2018/02/12/%E5%AD%A6%E4%B9%A0stylus%E3%80%907%E3%80%91/</url>
    <content><![CDATA[<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><p>Stylus支持三种注释，单行注释，多行注释，以及多行缓冲注释。</p>
<h3 id="单行注释"><a href="#单行注释" class="headerlink" title="单行注释"></a>单行注释</h3><p>跟JavaScript一样，双斜杠，CSS中不输出。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// 我是注释!</span><br><span class="line">body</span><br><span class="line">  padding 5px // 蛋疼的padding</span><br></pre></td></tr></table></figure>

<h3 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a>多行注释</h3><p>多行注释看起来有点像CSS的常规注释。然而，它们只有在compress选项未启用的时候才会被输出。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/*</span><br><span class="line"> * 给定数值合体</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">add(a, b)</span><br><span class="line">  a + b</span><br></pre></td></tr></table></figure>

<h3 id="多行缓冲注释"><a href="#多行缓冲注释" class="headerlink" title="多行缓冲注释"></a>多行缓冲注释</h3><p>跟多行注释类似，不同之处在于开始的时候，这里是/*!. 这个相当于告诉Stylus压缩的时候这段无视直接输出。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/*!</span><br><span class="line"> * 给定数值合体</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">add(a, b)</span><br><span class="line">  a + b</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【8】条件式</title>
    <url>/2018/02/12/%E5%AD%A6%E4%B9%A0stylus%E3%80%908%E3%80%91/</url>
    <content><![CDATA[<h2 id="条件式"><a href="#条件式" class="headerlink" title="条件式"></a>条件式</h2><p>条件提供控制流，否则就是静态语言了，提供有条件的导入，混合，函数等。 下面的例子是简单的例子，不推荐:)</p>
<h3 id="if-else-if-else"><a href="#if-else-if-else" class="headerlink" title="if / else if / else"></a><em>if / else if / else</em></h3><p>跟一般的语言一致，if表达式满足(true)的时候执行后面语句块，否则，继续后面的else if或else.<br>下面这个例子，根据overload的条件，决定是使用padding还是margin.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">overload-padding = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> overload-padding</span><br><span class="line">  padding(y, x)</span><br><span class="line">    margin y x</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  padding 5px 10px</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>其他例子：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">box(x, y, margin = <span class="literal">false</span>)</span><br><span class="line">  padding y x</span><br><span class="line">  <span class="keyword">if</span> margin</span><br><span class="line">    margin y x</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  box(5px, 10px, <span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
<p>其他条件工具 box()：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">box(x, y, margin-only = <span class="literal">false</span>)</span><br><span class="line">  <span class="keyword">if</span> margin-only</span><br><span class="line">    margin y x</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    padding y x</span><br></pre></td></tr></table></figure>
<h3 id="unless"><a href="#unless" class="headerlink" title="unless"></a><em>unless</em></h3><p>熟悉Ruby程序语言的用户应该都知道unless条件，其基本上与if相反，本质上是(!(expr)).<br>下面这个例子中，如果disable-padding-override是undefined或false, padding将被干掉，显示margin代替之。但是，如果是true, padding将会如期继续输出padding 5px 10px.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">disable</span>-padding-override = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">unless <span class="built_in">disable</span>-padding-override is defined and <span class="built_in">disable</span>-padding-override</span><br><span class="line">  padding(x, y)</span><br><span class="line">    margin y x</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  padding 5px 10px</span><br></pre></td></tr></table></figure>

<h3 id="后缀条件"><a href="#后缀条件" class="headerlink" title="后缀条件"></a><em>后缀条件</em></h3><p>Stylus支持后缀条件，这就意味着if和unless可以当作操作符；当右边表达式为真的时候执行左边的操作对象。<br>例如，我们定义negative()来执行一些基本的检查。下面我们使用块式条件：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">negative(n)</span><br><span class="line">  unless n is a <span class="string">'unit'</span></span><br><span class="line">    error(<span class="string">'无效数值'</span>)</span><br><span class="line">  <span class="keyword">if</span> n &lt; 0</span><br><span class="line">    yes</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    no</span><br></pre></td></tr></table></figure>
<p>接下来，我们利用后缀条件让我们的方法简洁。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">negative(n)</span><br><span class="line">  error(<span class="string">'无效数值'</span>) unless n is a <span class="string">'unit'</span></span><br><span class="line">  <span class="built_in">return</span> yes <span class="keyword">if</span> n &lt; 0</span><br><span class="line">  no</span><br></pre></td></tr></table></figure>
<p>当然，我们可以更进一步。如这个n &lt; 0 ? yes : no可以用布尔代替：n &lt; 0.<br>后缀条件适用于大多数的单行语句。如，@import, @charset, 混合书写等。当然，下面所示的属性也是可以的：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pad(types = margin padding, n = 5px)</span><br><span class="line">  padding unit(n, px) <span class="keyword">if</span> padding <span class="keyword">in</span> types</span><br><span class="line">  margin unit(n, px) <span class="keyword">if</span> margin <span class="keyword">in</span> types</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  pad()</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  pad(margin)</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  apply-mixins = <span class="literal">true</span></span><br><span class="line">  pad(padding, 10) <span class="keyword">if</span> apply-mixins</span><br><span class="line">=&gt;</span><br><span class="line">body &#123;</span><br><span class="line">  padding: 5px;</span><br><span class="line">  margin: 5px;</span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">  margin: 5px;</span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">  padding: 10px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【5】Stylue内置方法</title>
    <url>/2018/02/06/%E5%AD%A6%E4%B9%A0stylus%E3%80%905%E3%80%91/</url>
    <content><![CDATA[<p><strong>Stylue内置方法</strong><br><em>red(color)</em><br>返回color中的红色比重</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">red(<span class="comment">#c00)  =&gt; 204</span></span><br></pre></td></tr></table></figure>

<p><em>green(color)</em><br>返回color中的绿色比重。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">green(<span class="comment">#c00)  =&gt; 204</span></span><br></pre></td></tr></table></figure>

<p><em>blue(color)</em><br>返回color中的蓝色比重。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">blue(<span class="comment">#c00)  =&gt; 204</span></span><br></pre></td></tr></table></figure>

<p><em>alpha(color)</em><br>返回color中的透明度比重</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">alpha(<span class="comment">#fff)</span></span><br><span class="line">// =&gt; 1</span><br><span class="line"></span><br><span class="line">alpha(rgba(0,0,0,0.3))</span><br><span class="line">// =&gt; 0.3</span><br></pre></td></tr></table></figure>

<p><em>dark(color)</em><br>检查color是否是暗色。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dark(black)</span><br><span class="line">// =&gt; <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">dark(<span class="comment">#005716)</span></span><br><span class="line">// =&gt; <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">dark(white)</span><br><span class="line">// =&gt; <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>

<p><em>light(color)</em><br>检查color是否是亮色。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">light(black)</span><br><span class="line">// =&gt; <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">light(white)</span><br><span class="line">// =&gt; <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">light(<span class="comment">#00FF40)</span></span><br><span class="line">// =&gt; <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><em>hue(color)</em><br>返回给定color的色调。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hue(hsla(50deg, 100%, 80%))</span><br><span class="line">// =&gt; 50deg</span><br></pre></td></tr></table></figure>

<p><em>saturation(color)</em><br>返回给定color的饱和度。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">saturation(hsla(50deg, 100%, 80%))</span><br><span class="line">// =&gt; 100%</span><br></pre></td></tr></table></figure>

<p><em>lightness(color)</em><br>返回给定color的亮度。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lightness(hsla(50deg, 100%, 80%))</span><br><span class="line">// =&gt; 80%</span><br></pre></td></tr></table></figure>

<p><em>push(expr, args…)</em><br>后面推送给定的args给expr.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nums = 1 2</span><br><span class="line">push(nums, 3, 4, 5)</span><br><span class="line"></span><br><span class="line">nums</span><br><span class="line">// =&gt; 1 2 3 4 5</span><br><span class="line">别名为append().</span><br></pre></td></tr></table></figure>

<p><em>pop(expr)</em><br>从表达式的尾部抽取第一个值</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nums = 4 5 3 2 1</span><br><span class="line">num = pop(nums)</span><br><span class="line"></span><br><span class="line">nums</span><br><span class="line">// =&gt; 4 5 3 2</span><br><span class="line">num</span><br><span class="line">// =&gt; 1</span><br></pre></td></tr></table></figure>

<p><em>shift(expr)</em><br>从表达式的前部抽取第一个值</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nums = 4 5 3 2 1</span><br><span class="line">num = <span class="built_in">shift</span>(nums)</span><br><span class="line"></span><br><span class="line">nums</span><br><span class="line">// =&gt; 5 3 2 1</span><br><span class="line">num</span><br><span class="line">// =&gt; 4</span><br></pre></td></tr></table></figure>

<p><em>unshift(expr, args…)</em><br>起始位置插入给定的args给expr.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nums = 4 5</span><br><span class="line">unshift(nums, 3, 2, 1)</span><br><span class="line"></span><br><span class="line">nums</span><br><span class="line">// =&gt; 1 2 3 4 5</span><br><span class="line">别名为prepend().</span><br></pre></td></tr></table></figure>

<p><em>index(list, value)</em><br>返回列表中值的索引（从零开始）。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">list = 1 2 3</span><br><span class="line"></span><br><span class="line">index(list, 2)</span><br><span class="line">// =&gt; 1</span><br><span class="line"></span><br><span class="line">index(1px solid red, red)</span><br><span class="line">// =&gt; 2</span><br></pre></td></tr></table></figure>

<p><em>keys(pairs)</em><br>返回给定pairs中的键。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pairs = (one 1) (two 2) (three 3)</span><br><span class="line">keys(pairs)</span><br><span class="line">// =&gt; one two three</span><br></pre></td></tr></table></figure>

<p><em>values(pairs)</em><br>返回给定pairs中的值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pairs = (one 1) (two 2) (three 3)</span><br><span class="line">values(pairs)</span><br><span class="line">// =&gt; 1 2 3</span><br></pre></td></tr></table></figure>

<p><em>list-separator(list)</em><br>返回给定列表的分隔符。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">list1 = a b c</span><br><span class="line"> list-separator(list1)</span><br><span class="line"> // =&gt; <span class="string">' '</span></span><br><span class="line"></span><br><span class="line"> list2 = a, b, c</span><br><span class="line"> list-separator(list2)</span><br><span class="line"> // =&gt; <span class="string">','</span></span><br></pre></td></tr></table></figure>

<p><em>typeof(node)</em><br>字符串形式返回node类型。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">type</span>(12)</span><br><span class="line">// =&gt; <span class="string">'unit'</span></span><br><span class="line"></span><br><span class="line">typeof(12)</span><br><span class="line">// =&gt; <span class="string">'unit'</span></span><br><span class="line"></span><br><span class="line">typeof(<span class="comment">#fff)</span></span><br><span class="line">// =&gt; <span class="string">'rgba'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">type</span>-of(<span class="comment">#fff)</span></span><br><span class="line">// =&gt; <span class="string">'rgba'</span></span><br><span class="line">别名有<span class="built_in">type</span>-of和<span class="built_in">type</span>.</span><br></pre></td></tr></table></figure>

<p><em>unit(unit[, type])</em><br>返回unit类型的字符串或空字符串，或者赋予type值而无需单位转换。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">unit(10)</span><br><span class="line">// =&gt; <span class="string">''</span></span><br><span class="line"></span><br><span class="line">unit(15in)</span><br><span class="line">// =&gt; <span class="string">'in'</span></span><br><span class="line"></span><br><span class="line">unit(15%, <span class="string">'px'</span>)</span><br><span class="line">// =&gt; 15px</span><br><span class="line"></span><br><span class="line">unit(15%, px)</span><br><span class="line">// =&gt; 15px</span><br></pre></td></tr></table></figure>

<p><em>percentage(num)</em><br>将数字转换为百分比。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">percentage(.5)</span><br><span class="line">// =&gt; 50%</span><br><span class="line"></span><br><span class="line">percentage(4 / 100)</span><br><span class="line">// =&gt; 4%</span><br></pre></td></tr></table></figure>

<p><em>match(pattern, string)</em><br>检测string是否匹配给定的pattern.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">match(<span class="string">'^foo(bar)?'</span>, foo)</span><br><span class="line">match(<span class="string">'^foo(bar)?'</span>, foobar)</span><br><span class="line">// =&gt; <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">match(<span class="string">'^foo(bar)?'</span>, <span class="string">'foo'</span>)</span><br><span class="line">match(<span class="string">'^foo(bar)?'</span>, <span class="string">'foobar'</span>)</span><br><span class="line">// =&gt; <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">match(<span class="string">'^foo(bar)?'</span>, <span class="string">'bar'</span>)</span><br><span class="line">// =&gt; <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p><em>abs(unit)</em><br>绝对值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">abs(-5px)</span><br><span class="line">// =&gt; 5px</span><br><span class="line"></span><br><span class="line">abs(5px)</span><br><span class="line">// =&gt; 5px</span><br></pre></td></tr></table></figure>

<p><em>ceil(unit)</em><br>向上取整。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ceil(5.5in)</span><br><span class="line">// =&gt; 6in</span><br></pre></td></tr></table></figure>

<p><em>floor(unit)</em><br>向下取整。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">floor(5.6px)</span><br><span class="line">// =&gt; 5px</span><br></pre></td></tr></table></figure>

<p><em>round(unit)</em><br>四舍五入取整。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">round(5.5px)</span><br><span class="line">// =&gt; 6px</span><br><span class="line"></span><br><span class="line">round(5.4px)</span><br><span class="line">// =&gt; 5px</span><br></pre></td></tr></table></figure>

<p><em>sin(angle)</em><br>返回给定角度的正弦值。 如果角度以度为单位，如45度，则视为度数，否则视为弧度。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sin(30deg)</span><br><span class="line">// =&gt; 0.5</span><br><span class="line"></span><br><span class="line">sin(3*PI/4)</span><br><span class="line">// =&gt; 0.707106781</span><br></pre></td></tr></table></figure>

<p><em>cos(angle)</em><br>返回给定角度的余弦值。 如果角度以度为单位，如45度，则视为度数，否则视为弧度。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cos(180deg)</span><br><span class="line">// =&gt; -1</span><br></pre></td></tr></table></figure>

<p><em>tan(angle)</em><br>返回给定角度的切线值。 如果角度以度为单位，如45度，则视为度数，否则视为弧度。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tan(45deg)</span><br><span class="line">// =&gt; 1</span><br><span class="line"></span><br><span class="line">tan(90deg)</span><br><span class="line">// =&gt; Infinity</span><br></pre></td></tr></table></figure>

<p><em>min(a, b)</em><br>取较小值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">min(1, 5)</span><br><span class="line">// =&gt; 1</span><br></pre></td></tr></table></figure>

<p><em>max(a, b)</em><br>取较大值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">max(1, 5)</span><br><span class="line">// =&gt; 5</span><br></pre></td></tr></table></figure>

<p><em>even(unit)</em><br>是否为偶数。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">even(6px)</span><br><span class="line">// =&gt; <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><em>odd(unit)</em><br>是否为奇数。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">odd(5mm)</span><br><span class="line">// =&gt; <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><em>sum(nums)</em><br>求和。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sum(1 2 3)</span><br><span class="line">// =&gt; 6</span><br></pre></td></tr></table></figure>

<p><em>avg(nums)</em><br>求平均数。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">avg(1 2 3)</span><br><span class="line">// =&gt; 2</span><br></pre></td></tr></table></figure>

<p><em>range(start, stop[, step])</em><br>按给定步骤返回从开始到结束（包含）的单位列表。 如果step参数省略，则默认为1.该步骤不能为零。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">range(1, 6)</span><br><span class="line">// equals to `1..6`</span><br><span class="line">// 1 2 3 4 5 6</span><br><span class="line"></span><br><span class="line">range(1, 6, 2)</span><br><span class="line">// 1 3 5</span><br><span class="line"></span><br><span class="line">range(-6, -1, 2)</span><br><span class="line">// -6 -4 -2</span><br><span class="line"></span><br><span class="line">range(1px, 3px, 0.5px)</span><br><span class="line">// 1px 1.5px 2px 2.5px 3px</span><br></pre></td></tr></table></figure>
<p>它经常用于for循环：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(10px, 50px, 10)</span><br><span class="line">  .col-&#123;i&#125;</span><br><span class="line">    width: i</span><br><span class="line">=&gt;</span><br><span class="line">.col-10 &#123;</span><br><span class="line">  width: 10px;</span><br><span class="line">&#125;</span><br><span class="line">.col-20 &#123;</span><br><span class="line">  width: 20px;</span><br><span class="line">&#125;</span><br><span class="line">.col-30 &#123;</span><br><span class="line">  width: 30px;</span><br><span class="line">&#125;</span><br><span class="line">.col-40 &#123;</span><br><span class="line">  width: 40px;</span><br><span class="line">&#125;</span><br><span class="line">.col-50 &#123;</span><br><span class="line">  width: 50px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>base-convert(num, base, width)</em><br>将num转为相应进制（base）的结果，用零填充宽度（默认宽度为2）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">base-convert(1, 10, 3)</span><br><span class="line">// =&gt; 001</span><br><span class="line"></span><br><span class="line">base-convert(14, 16, 1)</span><br><span class="line">// =&gt; e</span><br><span class="line"></span><br><span class="line">base-convert(42, 2)</span><br><span class="line">// =&gt; 101010</span><br></pre></td></tr></table></figure>

<p><em>replace(pattern, replacement, val)</em><br>返回被replacement替换过pattern部分的val结果，说白了就是替换。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">replace(i, e, <span class="string">'griin'</span>)</span><br><span class="line">// =&gt; <span class="string">'green'</span></span><br><span class="line"></span><br><span class="line">replace(i, e, griin)</span><br><span class="line">// =&gt; <span class="comment">#008000</span></span><br></pre></td></tr></table></figure>

<p><em>join(delim, vals…)</em><br>给定vals使用delim连接。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">join(<span class="string">' '</span>, 1 2 3)</span><br><span class="line">// =&gt; <span class="string">"1 2 3"</span></span><br><span class="line"></span><br><span class="line">join(<span class="string">','</span>, 1 2 3)</span><br><span class="line">// =&gt; <span class="string">"1,2,3"</span></span><br><span class="line"></span><br><span class="line">join(<span class="string">', '</span>, foo bar baz)</span><br><span class="line">// =&gt; <span class="string">"foo, bar, baz"</span></span><br><span class="line"></span><br><span class="line">join(<span class="string">', '</span>, foo, bar, baz)</span><br><span class="line">// =&gt; <span class="string">"foo, bar, baz"</span></span><br><span class="line"></span><br><span class="line">join(<span class="string">', '</span>, 1 2, 3 4, 5 6)</span><br><span class="line">// =&gt; <span class="string">"1 2, 3 4, 5 6"</span></span><br></pre></td></tr></table></figure>

<p><em>split(delim, val)</em><br>通过将字符串分隔为子串来将字符串/标识分解为字符串数组。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">split(_, bar1_bar2_bar3)</span><br><span class="line">// =&gt; bar1 bar2 bar3</span><br><span class="line"></span><br><span class="line">split(_, <span class="string">'bar1_bar2_bar3'</span>)</span><br><span class="line">// =&gt; <span class="string">'bar1'</span> <span class="string">'bar2'</span> <span class="string">'bar3'</span></span><br></pre></td></tr></table></figure>

<p><em>substr(val, start, length)</em><br>返回从指定位置开始的指定字符数的字符串。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">substr(ident, 1, 2)</span><br><span class="line">// =&gt; de</span><br><span class="line"></span><br><span class="line">substr(<span class="string">'string'</span>, 1, 2)</span><br><span class="line">// =&gt; <span class="string">'tr'</span></span><br><span class="line"></span><br><span class="line">val = dredd</span><br><span class="line">substr(substr(val, 1), 0, 3)</span><br><span class="line">// =&gt; <span class="comment">#f00</span></span><br></pre></td></tr></table></figure>

<p><em>slice(val, start[, end])</em><br>提取一个字符串/列表的一部分，并返回一个新的字符串/列表。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">slice(‘lorem’ ‘ipsum’ ‘dolor’, 1, 2) slice(‘lorem’ ‘ipsum’ ‘dolor’, 1, -1) // =&gt; ‘ipsum’</span><br><span class="line">slice(‘lorem ipsum’, 1, 5) // =&gt; ‘orem’ slice(rredd, 1, -1) // =&gt; <span class="comment">#f00</span></span><br><span class="line">slice(1px solid black, 1) // =&gt; solid <span class="comment">#000</span></span><br></pre></td></tr></table></figure>

<p><em>hsla(color | h,s,l,a)</em><br>转换给定color为HSLA节点，或h,s,l,a比重值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hsla(10deg, 50%, 30%, 0.5)</span><br><span class="line">// =&gt; HSLA</span><br><span class="line"></span><br><span class="line">hsla(<span class="comment">#ffcc00)</span></span><br><span class="line">// =&gt; HSLA</span><br></pre></td></tr></table></figure>

<p><em>hsl(color | h,s,l)</em><br>转换给定color为HSLA节点，或h,s,l比重值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hsla(10, 50, 30)</span><br><span class="line">// =&gt; HSLA</span><br><span class="line"></span><br><span class="line">hsla(<span class="comment">#ffcc00)</span></span><br><span class="line">// =&gt; HSLA</span><br></pre></td></tr></table></figure>

<p><em>rgba(color | r,g,b,a)</em><br>从r,g,b,a通道返回RGBA, 或提供color来调整透明度。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rgba(255,0,0,0.5)</span><br><span class="line">// =&gt; rgba(255,0,0,0.5)</span><br><span class="line"></span><br><span class="line">rgba(255,0,0,1)</span><br><span class="line">// =&gt; <span class="comment">#ff0000</span></span><br><span class="line"></span><br><span class="line">rgba(<span class="comment">#ffcc00, 0.5)</span></span><br><span class="line">// rgba(255,204,0,0.5)</span><br><span class="line">另外，stylus支持<span class="comment">#rgba以及#rrggbbaa符号。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#fc08</span></span><br><span class="line">// =&gt; rgba(255,204,0,0.5)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ffcc00ee</span></span><br><span class="line">// =&gt; rgba(255,204,0,0.9)</span><br></pre></td></tr></table></figure>

<p><em>rgb(color | r,g,b)</em><br>从r,g,b通道返回RGBA或生成一个RGBA节点。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rgb(255,204,0)</span><br><span class="line">// =&gt; <span class="comment">#ffcc00</span></span><br><span class="line"></span><br><span class="line">rgb(<span class="comment">#fff)</span></span><br><span class="line">// =&gt; <span class="comment">#fff</span></span><br></pre></td></tr></table></figure>

<p><em>blend(top[, bottom])</em><br>使用正常混合将给定的顶部颜色混合在底部颜色上。 底部参数是可选的，默认为#fff。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">blend(rgba(<span class="comment">#FFF, 0.5), #000)</span></span><br><span class="line">// =&gt; <span class="comment">#808080</span></span><br><span class="line"></span><br><span class="line">blend(rgba(<span class="comment">#FFDE00,.42), #19C261)</span></span><br><span class="line">// =&gt; <span class="comment">#7ace38</span></span><br><span class="line"></span><br><span class="line">blend(rgba(lime, 0.5), rgba(red, 0.25))</span><br><span class="line">// =&gt; rgba(128,128,0,0.625)</span><br></pre></td></tr></table></figure>

<p><em>lighten(color, amount)</em><br>给定color增亮amount值。该方法单位敏感，例如，支持百分比，如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lighten(<span class="comment">#2c2c2c, 30)</span></span><br><span class="line">// =&gt; <span class="comment">#787878</span></span><br><span class="line"></span><br><span class="line">lighten(<span class="comment">#2c2c2c, 30%)</span></span><br><span class="line">// =&gt; <span class="comment">#393939</span></span><br></pre></td></tr></table></figure>

<p><em>darken(color, amount)</em><br>给定color变暗amount值。该方法单位敏感，例如，支持百分比，如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">darken(<span class="comment">#D62828, 30)</span></span><br><span class="line">// =&gt; <span class="comment">#551010</span></span><br><span class="line"></span><br><span class="line">darken(<span class="comment">#D62828, 30%)</span></span><br><span class="line">// =&gt; <span class="comment">#961c1c</span></span><br></pre></td></tr></table></figure>

<p><em>desaturate(color, amount)</em><br>给定color饱和度减小amount.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">desaturate(<span class="comment">#f00, 40%)</span></span><br><span class="line">// =&gt; <span class="comment">#c33</span></span><br></pre></td></tr></table></figure>
<p><em>saturate(color, amount)</em><br>给定color饱和度增加amount.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">saturate(<span class="comment">#c33, 40%)</span></span><br><span class="line">// =&gt; <span class="comment">#f00</span></span><br></pre></td></tr></table></figure>

<p><em>complement(color)</em><br>补色。 等于旋转色调180度。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">complement(<span class="comment">#fd0cc7)</span></span><br><span class="line">// =&gt; <span class="comment">#0cfd42</span></span><br></pre></td></tr></table></figure>

<p><em>invert(color)</em><br>颜色反相。红绿蓝颜色反转，透明度不变。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">invert(<span class="comment">#d62828)</span></span><br><span class="line">// =&gt; <span class="comment">#29d7d7</span></span><br></pre></td></tr></table></figure>

<p><em>spin(color, amount)</em><br>以角度旋转给定颜色的色调。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">spin(<span class="comment">#ff0000, 90deg)</span></span><br><span class="line">// =&gt; <span class="comment">#80ff00</span></span><br></pre></td></tr></table></figure>

<p><em>grayscale(color)</em><br>给出给定颜色的灰度等价颜色。 相当于100％去饱和。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grayscale(<span class="comment">#fd0cc7)</span></span><br><span class="line">// =&gt; <span class="comment">#0cfd42</span></span><br></pre></td></tr></table></figure>

<p><em>mix(color1, color2[, amount])</em><br>按给定量混合两种颜色。参数都是可选的，默认为50％。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mix(<span class="comment">#000, #fff, 30%)</span></span><br><span class="line">// =&gt; <span class="comment">#b2b2b2</span></span><br></pre></td></tr></table></figure>

<p><em>tint(color, amount)</em><br>将给定的颜色与白色混合。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tint(<span class="comment">#fd0cc7,66%)</span></span><br><span class="line">// =&gt; <span class="comment">#feaceb</span></span><br></pre></td></tr></table></figure>
<p><em>shade(color, amount)</em><br>将给定的颜色与黑色混合。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">shade(<span class="comment">#fd0cc7,66%)</span></span><br><span class="line">// =&gt; <span class="comment">#560443</span></span><br></pre></td></tr></table></figure>

<p><em>luminosity(color)</em><br>返回给定颜色的相对亮度。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">luminosity(white)</span><br><span class="line">// =&gt; 1</span><br><span class="line"></span><br><span class="line">luminosity(<span class="comment">#000)</span></span><br><span class="line">// =&gt; 0</span><br><span class="line"></span><br><span class="line">luminosity(red)</span><br><span class="line">// =&gt; 0.2126</span><br></pre></td></tr></table></figure>

<p><em>contrast(top[, bottom])</em><br>基于Lea Verou提供的基于“对比度”工具的脚本，返回顶部和底部颜色之间的对比度比率对象。<br>第二个参数是可选的，默认为#fff。<br>返回对象中的主键是比例，它的最小值和最大值与底部颜色透明时的比例不同。 在这种情况下，错误也包含一个错误余量。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">contrast(<span class="comment">#000, #fff).ratio</span></span><br><span class="line">=&gt; 21</span><br><span class="line">contrast(<span class="comment">#000, rgba(#FFF, 0.5))</span></span><br><span class="line">=&gt; &#123; <span class="string">"ratio"</span>: <span class="string">"13.15;"</span>, <span class="string">"error"</span>: <span class="string">"-7.85"</span>, <span class="string">"min"</span>: <span class="string">"5.3"</span>, <span class="string">"max"</span>: <span class="string">"21"</span> &#125;</span><br></pre></td></tr></table></figure>
<p><em>transparentify(top[, bottom, alpha])</em><br>返回给定顶部颜色的透明版本，就好像它是在给定的底部颜色上混合（或者最接近它，如果可能的话）。<br>第二个参数是可选的，默认为#fff。<br>第三个参数是可选的，并覆盖自动检测的alpha。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">transparentify(<span class="comment">#808080)</span></span><br><span class="line">=&gt; rgba(0,0,0,0.5)</span><br><span class="line"></span><br><span class="line">transparentify(<span class="comment">#414141, #000)</span></span><br><span class="line">=&gt; rgba(255,255,255,0.25)</span><br><span class="line"></span><br><span class="line">transparentify(<span class="comment">#91974C, #F34949, 0.5)</span></span><br><span class="line">=&gt; rgba(47,229,79,0.5)</span><br></pre></td></tr></table></figure>

<p><em>unquote(str | ident)</em><br>给定str引号去除，返回Literal节点。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">unquote(<span class="string">"sans-serif"</span>)</span><br><span class="line">// =&gt; sans-serif</span><br><span class="line"></span><br><span class="line">unquote(sans-serif)</span><br><span class="line">// =&gt; sans-serif</span><br><span class="line"></span><br><span class="line">unquote(<span class="string">'1px / 2px'</span>)</span><br><span class="line">// =&gt; 1px / 2px</span><br></pre></td></tr></table></figure>

<p><em>convert(str)</em><br>像unquote()，但尝试将给定的内容转换为Stylus节点。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">unit = convert(<span class="string">'40px'</span>)</span><br><span class="line">typeof(unit)</span><br><span class="line">// =&gt; <span class="string">'unit'</span></span><br><span class="line"></span><br><span class="line">color = convert(<span class="string">'#fff'</span>)</span><br><span class="line">typeof(color)</span><br><span class="line">// =&gt; <span class="string">'rgba'</span></span><br><span class="line"></span><br><span class="line">foo = convert(<span class="string">'foo'</span>)</span><br><span class="line">typeof(foo)</span><br><span class="line">// =&gt; <span class="string">'ident'</span></span><br></pre></td></tr></table></figure>

<p>s(fmt, …)<br>s()方法类似于unquote()，不过后者返回的是Literal节点，而这里起接受一个格式化的字符串，非常像C语言的sprintf(). 目前，唯一标识符是%s.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">s(<span class="string">'bar()'</span>);</span><br><span class="line">// =&gt; bar()</span><br><span class="line"></span><br><span class="line">s(<span class="string">'bar(%s)'</span>, <span class="string">'baz'</span>);</span><br><span class="line">// =&gt; bar(<span class="string">"baz"</span>)</span><br><span class="line"></span><br><span class="line">s(<span class="string">'bar(%s)'</span>, baz);</span><br><span class="line">// =&gt; bar(baz)</span><br><span class="line"></span><br><span class="line">s(<span class="string">'bar(%s)'</span>, 15px);</span><br><span class="line">// =&gt; bar(15px)</span><br><span class="line"></span><br><span class="line">s(<span class="string">'rgba(%s, %s, %s, 0.5)'</span>, 255, 100, 50);</span><br><span class="line">// =&gt; rgba(255, 100, 50, 0.5)</span><br><span class="line"></span><br><span class="line">s(<span class="string">'bar(%Z)'</span>, 15px);</span><br><span class="line">// =&gt; bar(%Z)</span><br><span class="line"></span><br><span class="line">s(<span class="string">'bar(%s, %s)'</span>, 15px);</span><br><span class="line">// =&gt; bar(15px, null)</span><br></pre></td></tr></table></figure>
<p>为表现一致检测这个%字符串操作符。</p>
<p><em>basename(path[, ext])</em><br>返回路径的基本名称，（可选）删除扩展名。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">basename(<span class="string">'images/foo.png'</span>)</span><br><span class="line">// =&gt; <span class="string">"foo.png"</span></span><br><span class="line"></span><br><span class="line">basename(<span class="string">'images/foo.png'</span>, <span class="string">'.png'</span>)</span><br><span class="line">// =&gt; <span class="string">"foo"</span></span><br></pre></td></tr></table></figure>

<p><em>dirname(path)</em><br>返回路径的文件夹名称</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dirname(<span class="string">'images/foo.png'</span>)</span><br><span class="line">// =&gt; <span class="string">"images"</span></span><br></pre></td></tr></table></figure>

<p><em>extname(path)</em><br>返回包含点的路径的文件扩展名。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">extname(<span class="string">'images/foo.png'</span>)</span><br><span class="line">// =&gt; <span class="string">".png"</span></span><br></pre></td></tr></table></figure>

<p><em>pathjoin(…)</em><br>加入执行路径。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pathjoin(<span class="string">'images'</span>, <span class="string">'foo.png'</span>)</span><br><span class="line">// =&gt; <span class="string">"images/foo.png"</span></span><br><span class="line"></span><br><span class="line">path = <span class="string">'images/foo.png'</span></span><br><span class="line">ext = extname(path)</span><br><span class="line">pathjoin(dirname(path), basename(path, ext) + _thumb + ext)</span><br><span class="line">// =&gt; <span class="string">'images/foo_thumb.png'</span></span><br></pre></td></tr></table></figure>

<p><em>called-from property</em><br>所谓的从属性包含了以相反的顺序调用当前函数的函数列表（第一项是最深的函数）。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo()</span><br><span class="line">  bar()</span><br><span class="line"></span><br><span class="line">bar()</span><br><span class="line">  baz()</span><br><span class="line"></span><br><span class="line">baz()</span><br><span class="line">  <span class="built_in">return</span> called-from</span><br><span class="line"></span><br><span class="line">foo()</span><br><span class="line">// =&gt; bar foo</span><br></pre></td></tr></table></figure>

<p><em>current-media()</em><br>current-media()函数返回当前块的@media规则的字符串，如果块上面没有@media，则返回空。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@media only screen and (min-width: 1024px)</span><br><span class="line">  current-media()</span><br><span class="line">// =&gt; <span class="string">'@media (only screen and (min-width: (1024px)))'</span></span><br></pre></td></tr></table></figure>

<p><em>+cache(keys…)</em><br>+cache是一个非常强大的内置函数，允许您创建自己的“高速缓存”混合。<br>“Cachable mixin”就是在第一次调用时将其内容应用于给定的选择器，但是会在第二次调用时使用相同的参数来扩展第一个调用的选择器。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">size(<span class="variable">$width</span>, <span class="variable">$height</span> = <span class="variable">$width</span>)</span><br><span class="line">  +cache(<span class="string">'w'</span> + <span class="variable">$width</span>)</span><br><span class="line">    width: <span class="variable">$width</span></span><br><span class="line">  +cache(<span class="string">'h'</span> + <span class="variable">$height</span>)</span><br><span class="line">    height: <span class="variable">$height</span></span><br><span class="line"></span><br><span class="line">.a</span><br><span class="line">  size: 10px 20px</span><br><span class="line">.b</span><br><span class="line">  size: 10px 2em</span><br><span class="line">.c</span><br><span class="line">  size: 1px 2em</span><br><span class="line"></span><br><span class="line">=&gt;</span><br><span class="line"></span><br><span class="line">.a,</span><br><span class="line">.b &#123;</span><br><span class="line">  width: 10px;</span><br><span class="line">&#125;</span><br><span class="line">.a &#123;</span><br><span class="line">  height: 20px;</span><br><span class="line">&#125;</span><br><span class="line">.b,</span><br><span class="line">.c &#123;</span><br><span class="line">  height: 2em;</span><br><span class="line">&#125;</span><br><span class="line">.c &#123;</span><br><span class="line">  width: 1px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>+prefix-classes(prefix)</em><br>可以使用 +prefix-classes为任何一个类添加前缀</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">+prefix-classes(<span class="string">'foo-'</span>)</span><br><span class="line">  .bar</span><br><span class="line">    width: 10px</span><br><span class="line"></span><br><span class="line">=&gt;</span><br><span class="line"></span><br><span class="line">.foo-bar &#123;</span><br><span class="line">  width: 10px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>lookup(name)</em><br>允许查找具有给定名称的变量，作为字符串传递。 如果变量未定义，则返回null。<br>当需要使用动态生成的名称获取变量的值时非常有用：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">font-size-1 = 10px</span><br><span class="line">font-size-2 = 20px</span><br><span class="line">font-size-3 = 30px</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> 1..3</span><br><span class="line">  .text-&#123;i&#125;</span><br><span class="line">    font-size: lookup(<span class="string">'font-size-'</span> + i)</span><br><span class="line"></span><br><span class="line">=&gt;</span><br><span class="line"></span><br><span class="line">.text-1 &#123;</span><br><span class="line">  font-size: 10px;</span><br><span class="line">&#125;</span><br><span class="line">.text-2 &#123;</span><br><span class="line">  font-size: 20px;</span><br><span class="line">&#125;</span><br><span class="line">.text-3 &#123;</span><br><span class="line">  font-size: 30px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>define(name, expr[, global])</em><br>允许创建或覆盖具有给定名称的变量，作为字符串传递到当前范围（如果全局为true，则为全局范围）。<br>这个bif可以用在你希望插入变量名的情况下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">prefix = <span class="string">'border'</span></span><br><span class="line">border = &#123; color: <span class="comment">#000, length: 1px, style: solid &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> prop, val <span class="keyword">in</span> border</span><br><span class="line">  define(prefix + <span class="string">'-'</span> + prop, val)</span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  border: border-length border-style border-color</span><br><span class="line"></span><br><span class="line">=&gt;</span><br><span class="line"></span><br><span class="line">body &#123;</span><br><span class="line">  border: 1px solid <span class="comment">#000;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><em>operate(op, left, right)</em><br>在left和right操作对象上执行给定的op.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">op = <span class="string">'+'</span></span><br><span class="line">operate(op, 15, 5)</span><br><span class="line">// =&gt; 20</span><br></pre></td></tr></table></figure>

<p><em>length([expr])</em><br>括号表达式扮演元组，length()方法返回该表达式的长度。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">length((1 2 3 4))</span><br><span class="line">// =&gt; 4</span><br><span class="line"></span><br><span class="line">length((1 2))</span><br><span class="line">// =&gt; 2</span><br><span class="line"></span><br><span class="line">length((1))</span><br><span class="line">// =&gt; 1</span><br><span class="line"></span><br><span class="line">length(())</span><br><span class="line">// =&gt; 0</span><br><span class="line"></span><br><span class="line">length(1 2 3)</span><br><span class="line">// =&gt; 3</span><br><span class="line"></span><br><span class="line">length(1)</span><br><span class="line">// =&gt; 1</span><br><span class="line"></span><br><span class="line">length()</span><br><span class="line">// =&gt; 0</span><br></pre></td></tr></table></figure>

<p><em>selector()</em><br>返回当前编译的选择器, 适用于&amp;子选择器。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.foo</span><br><span class="line">  selector()</span><br><span class="line">// =&gt; <span class="string">'.foo'</span></span><br><span class="line"></span><br><span class="line">.foo</span><br><span class="line">  &amp;:hover</span><br><span class="line">    selector()</span><br><span class="line">// <span class="string">'.foo:hover'</span></span><br></pre></td></tr></table></figure>

<p><em>selector-exists(selector)</em><br>根据提供的选择器是否存在返回ture或false、</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.foo</span><br><span class="line">  color red</span><br><span class="line"></span><br><span class="line">  a</span><br><span class="line">    font-size 12px</span><br><span class="line"></span><br><span class="line">selector-exists(<span class="string">'.foo'</span>) // <span class="literal">true</span></span><br><span class="line">selector-exists(<span class="string">'.foo a'</span>) // <span class="literal">true</span></span><br><span class="line">selector-exists(<span class="string">'.foo li'</span>) // <span class="literal">false</span></span><br><span class="line">selector-exists(<span class="string">'.bar'</span>) // <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">.foo</span><br><span class="line">  color red</span><br><span class="line"></span><br><span class="line">  a</span><br><span class="line">    font-size 12px</span><br><span class="line"></span><br><span class="line">  selector-exists(<span class="string">'a'</span>) // <span class="literal">false</span></span><br><span class="line">  selector-exists(selector() + <span class="string">' a'</span>) // <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><em>warn(msg)</em><br>使用给定的error警告，并不退出。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">warn(<span class="string">"oh noes!"</span>)</span><br></pre></td></tr></table></figure>

<p><em>error(msg)</em><br>伴随着给定的错误msg退出。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">add(a, b)</span><br><span class="line">  unless a is a <span class="string">'unit'</span> and b is a <span class="string">'unit'</span></span><br><span class="line">    error(<span class="string">'add() expects units'</span>)</span><br><span class="line">  a + b</span><br></pre></td></tr></table></figure>

<p><em>last(expr)</em><br>返回给定expr的最后一个值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nums = 1 2 3</span><br><span class="line">last(nums)</span><br><span class="line">last(1 2 3)</span><br><span class="line">// =&gt; 3</span><br><span class="line"></span><br><span class="line">list = (one 1) (two 2) (three 3)</span><br><span class="line">last(list)</span><br><span class="line">// =&gt; (three 3)</span><br></pre></td></tr></table></figure>

<p><em>p(expr)</em><br>检查给定的expr.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fonts = Arial, sans-serif</span><br><span class="line">p(<span class="string">'test'</span>)</span><br><span class="line">p(123)</span><br><span class="line">p((1 2 3))</span><br><span class="line">p(fonts)</span><br><span class="line">p(<span class="comment">#fff)</span></span><br><span class="line">p(rgba(0,0,0,0.2))</span><br><span class="line"></span><br><span class="line">add(a, b)</span><br><span class="line">  a + b</span><br><span class="line"></span><br><span class="line">p(add)</span><br><span class="line">=&gt;</span><br><span class="line"></span><br><span class="line">inspect: <span class="string">"test"</span></span><br><span class="line">inspect: 123</span><br><span class="line">inspect: 1 2 3</span><br><span class="line">inspect: Arial, sans-serif</span><br><span class="line">inspect: <span class="comment">#fff</span></span><br><span class="line">inspect: rgba(0,0,0,0.2)</span><br><span class="line">inspect: add(a, b)</span><br></pre></td></tr></table></figure>

<p><em>opposite-position(positions)</em><br>返回给定positions相反内容。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">opposite-position(right)</span><br><span class="line">// =&gt; left</span><br><span class="line"></span><br><span class="line">opposite-position(top left)</span><br><span class="line">// =&gt; bottom right</span><br><span class="line"></span><br><span class="line">opposite-position(<span class="string">'top'</span> <span class="string">'left'</span>)</span><br><span class="line">// =&gt; bottom right</span><br></pre></td></tr></table></figure>

<p><em>image-size(path)</em><br>返回指定path图片的width和height. 向上查找路径的方法和@import一样，paths设置的时候改变。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">width(img)</span><br><span class="line">  <span class="built_in">return</span> image-size(img)[0]</span><br><span class="line"></span><br><span class="line">height(img)</span><br><span class="line">  <span class="built_in">return</span> image-size(img)[1]</span><br><span class="line"></span><br><span class="line">image-size(<span class="string">'tux.png'</span>)</span><br><span class="line">// =&gt; 405px 250px</span><br><span class="line"></span><br><span class="line">image-size(<span class="string">'tux.png'</span>)[0] == width(<span class="string">'tux.png'</span>)</span><br><span class="line">// =&gt; <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><em>embedurl(path[, encoding])</em><br>以编码（可用编码：base64（默认值）和utf8）编码的url（）文字返回内联图像。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">background: embedurl(<span class="string">'logo.png'</span>)</span><br><span class="line">// =&gt; background: url(<span class="string">"data:image/png;base64,…"</span>)</span><br><span class="line"></span><br><span class="line">background: embedurl(<span class="string">'logo.svg'</span>, <span class="string">'utf8'</span>)</span><br><span class="line">// =&gt; background: url(<span class="string">"data:image/svg+xml;charset=utf-8,…"</span>)</span><br></pre></td></tr></table></figure>

<p><em>add-property(name, expr)</em><br>添加属性名称，将给定的expr添加到最近的块中。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">*json(path[, options])*</span><br><span class="line">将.json文件转换为stylus变量或对象。 嵌套变量对象键用连字符（ - ）连接。</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"small"</span>: <span class="string">"screen and (max-width:400px)"</span>,</span><br><span class="line">    <span class="string">"tablet"</span>: &#123;</span><br><span class="line">        <span class="string">"landscape"</span>: <span class="string">"screen and (min-width:600px) and (orientation:landscape)"</span>,</span><br><span class="line">        <span class="string">"portrait"</span>: <span class="string">"screen and (min-width:600px) and (orientation:portrait)"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">json(<span class="string">'media-queries.json'</span>)</span><br><span class="line"></span><br><span class="line">@media small</span><br><span class="line">// =&gt; @media screen and (max-width:400px)</span><br><span class="line"></span><br><span class="line">@media tablet-landscape</span><br><span class="line">// =&gt; @media screen and (min-width:600px) and (orientation:landscape)</span><br><span class="line"></span><br><span class="line">vars = json(<span class="string">'vars.json'</span>, &#123; <span class="built_in">hash</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">body</span><br><span class="line">  width: vars.width</span><br><span class="line"></span><br><span class="line">vars = json(<span class="string">'vars.json'</span>, &#123; <span class="built_in">hash</span>: <span class="literal">true</span>, leave-strings: <span class="literal">true</span> &#125;)</span><br><span class="line">typeof(vars.icon)</span><br><span class="line">// =&gt; <span class="string">'string'</span></span><br><span class="line"></span><br><span class="line">// don<span class="string">'t throw an error if the JSON file doesn'</span>t exist</span><br><span class="line">optional = json(<span class="string">'optional.json'</span>, &#123; <span class="built_in">hash</span>: <span class="literal">true</span>, optional: <span class="literal">true</span> &#125;)</span><br><span class="line">typeof(optional)</span><br><span class="line">// =&gt; <span class="string">'null'</span></span><br></pre></td></tr></table></figure>

<p><em>use(path)</em><br>你可以在’.styl’文件中用use()函数在给定的路径上使用任何给定的js-plugin，就像这样：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">use(<span class="string">"plugins/add.js"</span>)</span><br><span class="line"></span><br><span class="line">width add(10, 100)</span><br><span class="line">// =&gt; width: 110</span><br></pre></td></tr></table></figure>
<p>而在这种情况下add.js插件看起来是这样的：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var plugin = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">  <span class="built_in">return</span> <span class="keyword">function</span>(style)&#123;</span><br><span class="line">    style.define(<span class="string">'add'</span>, <span class="keyword">function</span>(a, b) &#123;</span><br><span class="line">      <span class="built_in">return</span> a.operate(<span class="string">'+'</span>, b);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">module.exports = plugin;</span><br></pre></td></tr></table></figure>
<p>如果您想返回任何Stylus对象，如RGBA，Ident或Unit，则可以使用提供的Stylus节点，如下所示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var plugin = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">  <span class="built_in">return</span> <span class="keyword">function</span>(style)&#123;</span><br><span class="line">    var nodes = this.nodes;</span><br><span class="line">    style.define(<span class="string">'something'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">      <span class="built_in">return</span> new nodes.Ident(<span class="string">'foobar'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">module.exports = plugin;</span><br></pre></td></tr></table></figure>
<p>您可以使用散列对象作为可选的第二个参数传递任何选项：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">use(<span class="string">"plugins/add.js"</span>, &#123; foo: bar &#125;)</span><br></pre></td></tr></table></figure>

<p><em>Undefined Functions</em><br>未定义的函数将以文字形式输出，例如，我们可以在我们的css中调用rgba-stop(50％,#fff)，并按照您的预期输出。 我们也可以在帮助者中使用它。<br>在下面的例子中，我们简单地定义函数stop()，它返回文字rgba-stop()调用。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">stop(pos, rgba)</span><br><span class="line">  rgba-stop(pos, rgba)</span><br><span class="line"></span><br><span class="line">stop(50%, orange)</span><br><span class="line">// =&gt; rgba-stop(50%, <span class="comment">#ffa500)</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【9】哈希（Hashes）</title>
    <url>/2018/02/14/%E5%AD%A6%E4%B9%A0stylus%E3%80%909%E3%80%91/</url>
    <content><![CDATA[<h2 id="哈希"><a href="#哈希" class="headerlink" title="哈希"></a>哈希</h2><p>在 <em>Stylus</em> 的0.39.0版添加了对哈希的支持</p>
<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>你可以使用大括号和逗号将键和值定义一个哈希对象：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = &#123;</span><br><span class="line">  bar: baz,</span><br><span class="line">  baz: raz</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Key值应该是合法的标识或字符串：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = &#123;</span><br><span class="line">  bar: baz,</span><br><span class="line">  <span class="string">'baz'</span>: raz,</span><br><span class="line">  <span class="string">'0'</span>: raz</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当你已经有hash后，你就可以使用括号和字符串来设置它的值：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = &#123;&#125;</span><br><span class="line">foo[<span class="string">'bar'</span>] = baz</span><br><span class="line">foo[<span class="string">'baz'</span>] = raz</span><br></pre></td></tr></table></figure>
<p>注意，你不能使用变量或插值在大括号定义，你可以在括号中使用变量：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = &#123;&#125;</span><br><span class="line">bar = <span class="string">'baz'</span></span><br><span class="line">foo[bar] = raz</span><br><span class="line"></span><br><span class="line">foo.baz</span><br><span class="line">// =&gt; raz</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="取值"><a href="#取值" class="headerlink" title="取值"></a>取值</h3><p>为了从哈希值中检索值，您可以使用点进行连接：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = &#123; bar: <span class="string">"baz"</span> &#125;</span><br><span class="line"></span><br><span class="line">foo.bar</span><br><span class="line">// =&gt; <span class="string">"baz"</span></span><br></pre></td></tr></table></figure>
<p>或者使用中括号</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = &#123; <span class="string">"%"</span>: 10 &#125;</span><br><span class="line">baz = <span class="string">"%"</span></span><br><span class="line"></span><br><span class="line">foo[baz]</span><br><span class="line">// =&gt; 10</span><br></pre></td></tr></table></figure>
<p>你也可使用点 和 中括号的组合</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = &#123;</span><br><span class="line">  bar: &#123;</span><br><span class="line">    baz: &#123;</span><br><span class="line">      raz: 10px</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">qux = <span class="string">"raz"</span></span><br><span class="line">foo[<span class="string">"bar"</span>].baz[qux]</span><br><span class="line">// =&gt; 10px</span><br></pre></td></tr></table></figure>

<h3 id="插值"><a href="#插值" class="headerlink" title="插值"></a>插值</h3><p>哈希内插值用于将哈希值的内容输出为CSS：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = &#123;</span><br><span class="line">  width: 10px,</span><br><span class="line">  height: 20px,</span><br><span class="line">  <span class="string">'&amp;:hover'</span>: &#123;</span><br><span class="line">    padding: 0</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.bar</span><br><span class="line">  &#123;foo&#125;</span><br><span class="line"></span><br><span class="line">// =&gt; .bar &#123;</span><br><span class="line">//      width: 10px;</span><br><span class="line">//      height: 20px;</span><br><span class="line">//    &#125;</span><br><span class="line">//    .bar:hover &#123;</span><br><span class="line">//      padding: 0;</span><br><span class="line">//    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>你可以使用其他的方法运用在哈希上，比如说 length()</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = &#123; bar: <span class="string">'a'</span>, baz: <span class="string">'b'</span> &#125;</span><br><span class="line"></span><br><span class="line">length(foo)</span><br><span class="line">// =&gt; 2</span><br></pre></td></tr></table></figure>

<p>你也可以遍历哈希与其键值：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = &#123; width: 10px, height: 20px &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> foo</span><br><span class="line">  &#123;key&#125;: value</span><br><span class="line"></span><br><span class="line">// =&gt; width: 10px;</span><br><span class="line">//    height: 20px;</span><br></pre></td></tr></table></figure>
<p>你也可以检查哈希值里是否有相应的键值</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = &#123; bar: 10px&#125;</span><br><span class="line"></span><br><span class="line">bar <span class="keyword">in</span> foo</span><br><span class="line">// =&gt; <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">baz <span class="keyword">in</span> foo</span><br><span class="line">// =&gt; <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p>你能通过相应的方法获取哈希值的键或值</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo = &#123; bar: <span class="string">'a'</span>, baz: <span class="string">'b'</span> &#125;</span><br><span class="line"></span><br><span class="line">keys(foo)</span><br><span class="line">// =&gt; <span class="string">'bar'</span> <span class="string">'baz'</span></span><br><span class="line"></span><br><span class="line">values(foo)</span><br><span class="line">// =&gt; <span class="string">'a'</span> <span class="string">'b'</span></span><br></pre></td></tr></table></figure>

<p>你也可以使用相应的方法删除键值</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">obj = &#123; foo: 1, bar: 2 &#125;</span><br><span class="line">remove(obj, <span class="string">'foo'</span>)</span><br><span class="line">// =&gt; &#123;<span class="string">"bar"</span>:<span class="string">"(2)"</span>&#125;</span><br></pre></td></tr></table></figure>
<p>你能使用 merge (aliased as extend)合并哈希值:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">obj = &#123;</span><br><span class="line">  foo: <span class="string">'foo'</span></span><br><span class="line">  bar: <span class="string">'bar'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj2 = &#123;</span><br><span class="line">  baz: <span class="string">'baz'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">merge(obj, obj2)</span><br><span class="line">// =&gt; &#123;<span class="string">"foo"</span>:<span class="string">"('foo')"</span>,<span class="string">"bar"</span>:<span class="string">"('bar')"</span>,<span class="string">"baz"</span>:<span class="string">"('baz')"</span>&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>算法图解</title>
    <url>/2020/01/07/%E7%AE%97%E6%B3%95%E5%9B%BE%E8%A7%A3/</url>
    <content><![CDATA[<h1 id="算法图解"><a href="#算法图解" class="headerlink" title="算法图解"></a>算法图解</h1><p>======================================</p>
<h2 id="算法简介"><a href="#算法简介" class="headerlink" title="算法简介"></a>算法简介</h2><h3 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h3><h4 id="二分查找能解决什么问题？"><a href="#二分查找能解决什么问题？" class="headerlink" title="二分查找能解决什么问题？"></a>二分查找能解决什么问题？</h4><p>在<strong>有序</strong>的元素列表中快速的找到指定元素位置。使用二分查找可以将查找步骤减少到 $log_2n$ 步</p>
<h4 id="二分查找的原理"><a href="#二分查找的原理" class="headerlink" title="二分查找的原理"></a>二分查找的原理</h4><p>通过猜测中间的数字，从而每次都将余下的数字排除一半，从而减少查找的次数</p>
<a id="more"></a>

<h4 id="对应JS代码"><a href="#对应JS代码" class="headerlink" title="对应JS代码"></a>对应JS代码</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var binary_search = <span class="keyword">function</span>(list, item)&#123;</span><br><span class="line">    var low = 0;</span><br><span class="line">    var high = list.length - 1;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(low &lt;= high)&#123;</span><br><span class="line">        var mid = Math.ceil((low + high)/2); //二分查找的关键点</span><br><span class="line">        var guess = list[mid];</span><br><span class="line">        <span class="keyword">if</span>(guess == item)&#123;</span><br><span class="line">            <span class="built_in">return</span> mid;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(guess &gt; item)&#123;</span><br><span class="line">            high = mid - 1;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            low = mid + 1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> <span class="string">"none"</span>;</span><br><span class="line">&#125;</span><br><span class="line">console.time(<span class="string">"时间"</span>);   //测试运行时间</span><br><span class="line">my_list = [1,3,5,7,9,11,13,15,17,19];</span><br><span class="line"></span><br><span class="line">$(<span class="string">'div'</span>).text(binary_search(my_list, 17));</span><br><span class="line">console.timeEnd(<span class="string">"时间"</span>);</span><br></pre></td></tr></table></figure>

<h4 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h4><ul>
<li>假设一个包含128个名字的有序列表，你要是用二分查找在其中查找一个名字，请问最多需要几步才能找到  （7步）</li>
<li>上面列表的长度翻倍后，最多需要几步？ （8步）</li>
</ul>
<h3 id="大O表示法"><a href="#大O表示法" class="headerlink" title="大O表示法"></a>大O表示法</h3><p>大O表示法是一种特殊的表示法，指出了算法的速度有多快。大O表示法指出了算法有多快，需要执行的操作数。</p>
<h4 id="一些常见的大O运行时间"><a href="#一些常见的大O运行时间" class="headerlink" title="一些常见的大O运行时间"></a>一些常见的大O运行时间</h4><ul>
<li>$O(log,n)$，也叫对数时间，这样的算法包括二分查找。</li>
<li>$O(n)$，也叫线性时间，这样的算法包括简单查找。</li>
<li>$O(n * log n)$，这样的算法包括快速排序。 一种速度较快的排序方法</li>
<li>$O(n^2 )$，这样的算法包括选择排序。 一种速度较慢的排序方法</li>
<li>$O(n!)$，这样的算法包括接下来将介绍的旅行商问题的解决方案。 一种非常慢的算法</li>
</ul>
<p>使用这几种算法绘制一个16格的网格需要的时间如下：<br><img src="/images/post/%E7%AE%97%E6%B3%95%E5%9B%BE%E8%A7%A301.png" alt="大O表示法" title="大O表示法"></p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><ul>
<li>二分查找的速度比简单查找快的多。</li>
<li>$O(log,n)$比$O(n)$快。需要搜索的元素越多，前者比后者就快得越多。</li>
<li>算法运行时间并不以秒为单位。</li>
<li>算法运行时间是从其增速的角度度量的。</li>
<li>算法运行时间用大O表示法表示</li>
</ul>
<h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h2><h3 id="数组与链表的区别"><a href="#数组与链表的区别" class="headerlink" title="数组与链表的区别"></a>数组与链表的区别</h3><h4 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h4><ul>
<li>链表中的元素可以存储再内存的任何地方</li>
<li>链表的每个元素都存储了下一个元素的地址</li>
<li>链表的优势在于插入元素方面。</li>
<li>链表的读取速度很慢</li>
<li>链表更适合中间插入数据（只需要修改他前面的元素指向的地址）</li>
<li>链表更适合删除元素</li>
</ul>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><ul>
<li>数组中的内存必须是相连的。</li>
<li>数组的效率很高。</li>
<li>数组对内存的使用效率较低</li>
</ul>
<p><img src="/images/post/%E7%AE%97%E6%B3%95%E5%9B%BE%E8%A7%A302.png" alt="数组和链表的读取插入运行时间" title="数组和链表的读取插入运行时间"><br><img src="/images/post/%E7%AE%97%E6%B3%95%E5%9B%BE%E8%A7%A303.png" alt="数组和链表操作运行时间" title="数组和链表操作运行时间"></p>
<h3 id="选择排序-1"><a href="#选择排序-1" class="headerlink" title="选择排序"></a>选择排序</h3><p>将混乱的排序，按照一定的顺序进行排序，排序所需要的总时间为 $O(n^2)$。</p>
<h4 id="选择排序应用"><a href="#选择排序应用" class="headerlink" title="选择排序应用"></a>选择排序应用</h4><ul>
<li>电话簿中的人名</li>
<li>旅行日期</li>
<li>电子邮件</li>
</ul>
<h4 id="选择排序的优缺点"><a href="#选择排序的优缺点" class="headerlink" title="选择排序的优缺点"></a>选择排序的优缺点</h4><p>虽然选择排序是一个灵巧的算法，但其速度不是很快，下章的快速排序速度更快，请运行时间为 $O(n,log,n)$。</p>
<h4 id="对应JS代码-1"><a href="#对应JS代码-1" class="headerlink" title="对应JS代码"></a>对应JS代码</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var findSmallest = <span class="keyword">function</span>(arr)&#123;</span><br><span class="line">    var smallest = arr[0];</span><br><span class="line">    var smallest_index = 0;</span><br><span class="line">    <span class="keyword">for</span>(var i = 0; i &lt; arr.length; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i] &lt; smallest)&#123;</span><br><span class="line">            smallest = arr[i];</span><br><span class="line">            smallest_index = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> smallest_index;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var selectionSort = <span class="keyword">function</span>(arr)&#123;</span><br><span class="line">    var newArr = [];</span><br><span class="line">    var arrL = arr.length;</span><br><span class="line">    <span class="keyword">for</span>(var i = 0; i&lt; arrL; i++)&#123;</span><br><span class="line">        var smallest = findSmallest(arr);</span><br><span class="line">        newArr.push(arr[smallest]);</span><br><span class="line">        arr.splice(smallest,1);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> newArr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(selectionSort([5,3,6,2,10]));</span><br></pre></td></tr></table></figure>

<h4 id="小结-1"><a href="#小结-1" class="headerlink" title="小结"></a>小结</h4><ul>
<li>计算机内存犹如一大堆抽屉</li>
<li>需要存储多个元素时，可以使用数组或链表</li>
<li>数组的元素都在一起</li>
<li>链表的元素是分开的，其中每个元素都存储了下一个元素的地址。</li>
<li>数组的读取速度很快</li>
<li>链表的插入和删除速度很快</li>
<li>在同一个数组中，所有元素的类型必须相同</li>
</ul>
<h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><h3 id="如何选择"><a href="#如何选择" class="headerlink" title="如何选择"></a>如何选择</h3><p>如果使用循环，程序的性能可能更高；如果使用递归，程序可能更容易理解。</p>
<h3 id="基线条件和递归条件"><a href="#基线条件和递归条件" class="headerlink" title="基线条件和递归条件"></a>基线条件和递归条件</h3><p>每个递归函数都有两部分：基线条件（base case）和递归条件（recursive case）。递归条件指的是函数调用自己，而基线条件则指的是函数不再调用自己，从而避免形成无限循环。</p>
<h3 id="对应js代码"><a href="#对应js代码" class="headerlink" title="对应js代码"></a>对应js代码</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var fact = <span class="keyword">function</span>(x)&#123;</span><br><span class="line">    <span class="keyword">if</span>(x == 1)&#123;</span><br><span class="line">        <span class="built_in">return</span> 1;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">return</span> x * fact(x-1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(fact(5));</span><br></pre></td></tr></table></figure>

<h3 id="小结-2"><a href="#小结-2" class="headerlink" title="小结"></a>小结</h3><ul>
<li>递归指的是调用自己的函数</li>
<li>每个递归函数都有两个条件：基线条件和递归条件</li>
<li>栈有两种操作：压入和弹出。</li>
<li>所有函数调用都进入调用栈。</li>
<li>调用栈可能很长，这将占用大量的内存。</li>
</ul>
<h2 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h2><h3 id="分而治之（divided-and-conquer-D＆C）"><a href="#分而治之（divided-and-conquer-D＆C）" class="headerlink" title="分而治之（divided and conquer,D＆C）"></a>分而治之（divided and conquer,D＆C）</h3><p><img src="/images/post/%E7%AE%97%E6%B3%95%E5%9B%BE%E8%A7%A304.png" alt="D&amp;C算法来分土地" title="D&amp;C算法来分土地"></p>
<p>① 找出基线条件，尽可能的简单<br>② 不断讲问题分界，或者说缩小规模，使其满足基线条件</p>
<h4 id="使用循环完成数组内数字相加js代码"><a href="#使用循环完成数组内数字相加js代码" class="headerlink" title="使用循环完成数组内数字相加js代码"></a>使用循环完成数组内数字相加js代码</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var arr = [2,4,6];</span><br><span class="line"><span class="keyword">function</span> sum(arr1)&#123;</span><br><span class="line">    var total = 0;</span><br><span class="line">    <span class="keyword">for</span>(var i=0; i&lt; arr.length; i++)&#123;</span><br><span class="line">        total = total + arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> total;</span><br><span class="line">&#125;</span><br><span class="line">console.log(sum(arr));</span><br></pre></td></tr></table></figure>

<h5 id="使用递归JS代码"><a href="#使用递归JS代码" class="headerlink" title="使用递归JS代码"></a>使用递归JS代码</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var arr = [2,4,6];</span><br><span class="line"><span class="keyword">function</span> sum(arr1)&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr1.length == 0)&#123;</span><br><span class="line">        <span class="built_in">return</span> 0;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">return</span> arr1[0] + sum(arr1.slice(1));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(sum(arr));</span><br></pre></td></tr></table></figure>

<h4 id="练习3-找出数组中最大的数字"><a href="#练习3-找出数组中最大的数字" class="headerlink" title="练习3 找出数组中最大的数字"></a>练习3 找出数组中最大的数字</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var arr = [1,3,5,7,9,11,13,15,17,19];</span><br><span class="line"><span class="keyword">function</span> compare(arr1)&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr1.length == 2)&#123;</span><br><span class="line">        <span class="built_in">return</span> arr1[0] &gt; arr1[1] ? arr1[0]:arr1[1];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        var sub_max = compare(arr1.slice(1));</span><br><span class="line">        <span class="keyword">if</span>(arr1[0] &gt; sub_max)&#123;</span><br><span class="line">            <span class="built_in">return</span> arr1[0];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">return</span> sub_max;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(compare(arr));</span><br></pre></td></tr></table></figure>

<h3 id="快速排序-1"><a href="#快速排序-1" class="headerlink" title="快速排序"></a>快速排序</h3><script type="text/javascript"
src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {inlineMath: [['$','$'], ['\(','\)']]}
});
</script>
]]></content>
      <tags>
        <tag>Javascript</tag>
        <tag>编程</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>学习stylus【27】SOURCEMAPS</title>
    <url>/2018/03/13/%E5%AD%A6%E4%B9%A0stylus%E3%80%9027%E3%80%91/</url>
    <content><![CDATA[<h2 id="SOURCEMAPS"><a href="#SOURCEMAPS" class="headerlink" title="SOURCEMAPS"></a>SOURCEMAPS</h2><p>Stylus支持基础的源地图 <a href="https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k" target="_blank" rel="noopener">Sourcemap v3 spec</a></p>
<h3 id="创建一个源地图"><a href="#创建一个源地图" class="headerlink" title="创建一个源地图"></a>创建一个源地图</h3><p>使用Stylus文件传递–sourcemap标志（或-m）。 这将创建一个style.css文件和一个style.css.map文件作为您的style.styl的兄弟文件，并将style.css底部的sourcemap链接放到您的sourcemap中。<br><em>stylus -m style.styl</em><br>您也可以在观看文件时运行此命令。 例如： <em>stylus -w -m style.styl</em>。 这会在每次保存时更新您的源映射。</p>
<h3 id="Javascript-API"><a href="#Javascript-API" class="headerlink" title="Javascript API"></a>Javascript API</h3><p>使用选项对象或布尔值设置sourcemap设置：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var stylus = require(<span class="string">'stylus'</span>);</span><br><span class="line"></span><br><span class="line">var style = stylus(str)</span><br><span class="line">  .<span class="built_in">set</span>(<span class="string">'filename'</span>, <span class="string">'file.styl'</span>)</span><br><span class="line">  .<span class="built_in">set</span>(<span class="string">'sourcemap'</span>, options);</span><br><span class="line"></span><br><span class="line">style.render(<span class="keyword">function</span>(err, css) &#123;</span><br><span class="line">  // generated sourcemap object</span><br><span class="line">  console.log(style.sourcemap);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h3><p><code>comment</code>     在生成的CSS中添加一个带<code>sourceMappingURL</code>的注释（默认值：<code>true</code>）<br><code>inline</code>      使用base64格式的全部源文本内联源图（默认：“false”）<br><code>sourceRoot</code>  生成的源映射的“sourceRoot”属性<br><code>basePath</code>    源图和所有源相对的基本路径（默认值：<code>.</code>）</p>
]]></content>
      <categories>
        <category>Stylus中文文档</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
        <tag>stylus</tag>
        <tag>学习Stylus</tag>
      </tags>
  </entry>
  <entry>
    <title>学着修改Hexo的Landscape模板</title>
    <url>/2018/02/14/%E5%AD%A6%E7%9D%80%E4%BF%AE%E6%94%B9Hexo%E7%9A%84Landscape%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<h2 id="Hexo-Landscape模板修改"><a href="#Hexo-Landscape模板修改" class="headerlink" title="Hexo Landscape模板修改"></a>Hexo Landscape模板修改</h2><h3 id="1-Landscape菜单的修改"><a href="#1-Landscape菜单的修改" class="headerlink" title="1. Landscape菜单的修改"></a>1. Landscape菜单的修改</h3><p><strong>themes/landscape/_config.yml</strong><br>使用Editor工具打开_config.yml文件，找到 <em>menu</em> ，下面就是你需要修改的菜单选项了。<br>输入格式</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">菜单名称: 链接地址</span><br></pre></td></tr></table></figure>

<h3 id="2-修改Read-More"><a href="#2-修改Read-More" class="headerlink" title="2. 修改Read More"></a>2. 修改Read More</h3><p><strong>themes/landscape/_config.yml</strong><br>使用Editor工具打开_config.yml文件，找到 <em>excerpt_link</em> ，下面就是你需要修改的菜单选项了。<br>输入格式</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">excerpt_link: <span class="string">'希望显示的文字'</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>

<h3 id="3-添加一个返回到顶部的按钮"><a href="#3-添加一个返回到顶部的按钮" class="headerlink" title="3. 添加一个返回到顶部的按钮"></a>3. 添加一个返回到顶部的按钮</h3><p>我们发现landscape模板本身不带返回顶部按钮，那我们自己制作一个好了<br><strong>1. themes/landscape/layout/_partial/footer.ejs</strong><br>使用Editor工具打开footer.ejs文件，在</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;footer id=<span class="string">"footer"</span>&gt;</span><br></pre></td></tr></table></figure>
<p>中添加以下代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"goBack"</span> onclick=<span class="string">"window.scrollTo('0','0')"</span>&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p><strong>2. themes/landscape/source/css/_partial/footer.styl</strong><br>使用Editor工具打开footer.styl文件，添加以下代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#footer .goBack</span></span><br><span class="line">  width 40px</span><br><span class="line">  height 30px</span><br><span class="line">  text-align center</span><br><span class="line">  background <span class="comment">#f1f1f1 url(images/scrolltop.png) no-repeat 0 0</span></span><br><span class="line">  position fixed</span><br><span class="line">  bottom 110px</span><br><span class="line">  cursor pointer</span><br><span class="line">  border 1px solid <span class="comment">#cdcdcd</span></span><br><span class="line">  border-radius 3px</span><br><span class="line">  right 0</span><br></pre></td></tr></table></figure>
<p>图片放入 <em>themes/landscape/source/css/images</em> 文件夹下，可以按照自己喜欢的返回图标进行相应的修改高宽</p>
<p>这样我们就创建了一个简单的返回顶部按钮，效果图如下<br><img src="/images/post/l3f_04.jpg" alt="返回顶部按钮" title="返回顶部按钮示例"><br><strong>注意</strong><br>修改.styl文件后，在使用 <em>hexo generate</em> 命令之前，先使用 <em>hexo clean</em> 否则会出现部署的时候样式不完整</p>
<h3 id="4-修改原有模板的字体"><a href="#4-修改原有模板的字体" class="headerlink" title="4. 修改原有模板的字体"></a>4. 修改原有模板的字体</h3><p>默认的字体很可能对英语系现实很漂亮，可是对中文来说，显得略粗，我们这次修改styl文件，将相应的字体变细<br>因为是内容页，所以我们先打开 <strong>themes/landscape/source/css/_partial/article.styl</strong> 文件<br>查找到以下代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.article-title</span><br></pre></td></tr></table></figure>
<p>将里面的 font-weight: bold 删除</p>
<p>接着找到以下代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.article-entry</span><br></pre></td></tr></table></figure>
<p>将其下面的</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">h1, h2, h3, h4, h5, h6</span><br><span class="line">  font-weight: bold</span><br></pre></td></tr></table></figure>
<p>删除<br>刷新你的页面，是不是清爽多了。</p>
<p>本次的内容还没有结束， 我们想要增加自己的自定义字体，该怎么办呢？这里面我们已SquadaOne字体为例</p>
<ol>
<li><p>打开 <strong>themes/landscape/source/css/style.styl</strong> 文件<br>在里面添加以下代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@font-face</span><br><span class="line">  font-family: SquadaOne</span><br><span class="line">  font-style: normal</span><br><span class="line">  font-weight: normal</span><br><span class="line">  src url(squadaone-path) format(<span class="string">"truetype"</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>打开 <strong>themes/landscape/source/css/_variables.styl</strong> 文件<br>在里面添加以下代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">squadaone-path = <span class="string">"fonts/SquadaOne-Regular.woff.ttf"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>复制SquadaOne的字体文件到 <strong>themes/landscape/source/css/fonts</strong> 文件夹下面</p>
</li>
<li><p>修改主页logo名称 打开 <strong>themes/landscape/source/css/_partial/header.styl</strong><br>找到 <em>#logo</em><br>在里面添加以下代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">font-family: SquadaOne</span><br></pre></td></tr></table></figure></li>
<li><p>最好hexo clean一下服务。我们看看现在的样子吧<br><img src="/images/post/l3f_05.png" alt="自定义字体" title="自定义字体"></p>
</li>
</ol>
<h3 id="5-修改你的share分享链接"><a href="#5-修改你的share分享链接" class="headerlink" title="5. 修改你的share分享链接"></a>5. 修改你的share分享链接</h3><p>我们发现默认的landscape模板的share地址是错误的，如何改成正确的呢，我们先打开根目录下的 <strong>_config.yml</strong><br>找到 <em>url:</em><br>并修改他的值为你自己的域名</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line">url: http://www.l3f.win</span><br><span class="line">root: /</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>themes</tag>
        <tag>Landscape</tag>
        <tag>Hexo</tag>
        <tag>返回顶部</tag>
      </tags>
  </entry>
  <entry>
    <title>Python 基础教程</title>
    <url>/2018/05/14/Python-base-01/</url>
    <content><![CDATA[<p><strong>前言</strong><br>Python: 一种解释型的，面向对象的，带有动态语义的高级程序设计语言。<br>由于IDLE所使用的字体导致我们程序的结果出现参差不齐，所以这里推荐使用<a href="https://pan.baidu.com/s/10Sou7obI3qGB24mKCywOPA" target="_blank" rel="noopener">Yahei Consolas Hybrid字体</a> 密码： qbgc。</p>
<h2 id="第1章-基础值是"><a href="#第1章-基础值是" class="headerlink" title="第1章 基础值是"></a>第1章 基础值是</h2><p>本章将介绍如何获得所需要的软件，及简单的算法。</p>
<h3 id="安装Python"><a href="#安装Python" class="headerlink" title="安装Python"></a>安装Python</h3><p><a href="https://www.python.org/downloads/" target="_blank" rel="noopener">下载地址</a></p>
<h4 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h4><p>windows的安装方法很简单，双击下载后的文件，按照提示进行安装即可。<br>成功后，我们就可以启动IDLE了，如下图，同时按F1键可以调出完整的Python文档。<br><img src="/images/post/python-01.jpg" alt="Python安装成功"></p>
<a id="more"></a>

<h4 id="Linux-和-UNIX"><a href="#Linux-和-UNIX" class="headerlink" title="Linux 和 UNIX"></a>Linux 和 UNIX</h4><p>默认会安装Python的解释器。所以一般可以不用特意去安装。<br><img src="/images/post/python-01-01.jpg" alt="查看Linux是否安装了Python"></p>
<p>如果没有安装可以使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt-get install python</span><br><span class="line">或</span><br><span class="line">yum install python</span><br></pre></td></tr></table></figure>

<p>来进行安装。</p>
<ol>
<li><p><strong>Python2</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span> <span class="string">"Hello, World!"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Python3</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">"Hello, World!"</span>)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="算法是什么？"><a href="#算法是什么？" class="headerlink" title="算法是什么？"></a>算法是什么？</h3><p>算法，是程序的另外一种悦耳的说法——详细描述如何做某事。如何完成一项任务的方法</p>
<h3 id="数字和表达式"><a href="#数字和表达式" class="headerlink" title="数字和表达式"></a>数字和表达式</h3><p>表达式是计算机程序的组成部分，他用于表示值。<br>交互式Python解释器可以当作非常强大的计算机使用。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt;2+2</span><br><span class="line">4</span><br><span class="line">&gt;&gt;&gt;53672+235253</span><br><span class="line">288925</span><br><span class="line">&gt;&gt;&gt;1/2  <span class="comment">#python2</span></span><br><span class="line">0</span><br><span class="line">&gt;&gt;&gt;1/2</span><br><span class="line">0.5  <span class="comment">#python3</span></span><br></pre></td></tr></table></figure>

<p>当整数相除的时候，会将小数点后面的结果省略掉，所以遇到这种情况的时候，可以使用实数进行相除或是让Python改变除法的执行方法</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt;from __future__ import division //希望python执行普通的除法</span><br></pre></td></tr></table></figure>

<h4 id="长整型数"><a href="#长整型数" class="headerlink" title="长整型数"></a>长整型数</h4><p>普通整数不能大于2147483647（也不能小于-2147483648），这个在新版的Python中已经不是很重要了。<br>在旧版本中，在长整型数的后面添加一个<code> L </code>即可。</p>
<h4 id="十六进制和八进制"><a href="#十六进制和八进制" class="headerlink" title="十六进制和八进制"></a>十六进制和八进制</h4><ol>
<li><p>十六进制</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt;0xAF</span><br><span class="line">175</span><br></pre></td></tr></table></figure></li>
<li><p>八进制</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt;010 <span class="comment">#python2</span></span><br><span class="line">8</span><br><span class="line">&gt;&gt;&gt;0o10 <span class="comment">#python3</span></span><br><span class="line">8</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>变量基本上就是代表（或者引用）某值的名字。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt;x=3</span><br><span class="line">&gt;&gt;&gt;x*2</span><br><span class="line">6</span><br></pre></td></tr></table></figure>

<h3 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h3><p>语句是使用关键字来组成命令，告诉Python需要做什么，语句可以有输出，也可以没有输出。</p>
<h3 id="获取用户输入"><a href="#获取用户输入" class="headerlink" title="获取用户输入"></a>获取用户输入</h3><p>非常有用的 <strong>input函数</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; input(<span class="string">"The meaning of line: "</span>)</span><br><span class="line">The meaning of line: 42</span><br><span class="line">42</span><br></pre></td></tr></table></figure>

<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>函数就像可以用来实现特定功能的小程序一样。函数可以做很多事情，我们也可以自定义函数<br>例如</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt;2**3</span><br><span class="line">8</span><br><span class="line">&gt;&gt;&gt;pow(2,3) <span class="comment">#pow就是幂函数</span></span><br><span class="line">8</span><br><span class="line">&gt;&gt;&gt; abs(-100) <span class="comment">#绝对值函数</span></span><br><span class="line">100</span><br><span class="line">&gt;&gt;&gt; round(3.1415926) <span class="comment">#取整函数（四舍五入）</span></span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; import math</span><br><span class="line">&gt;&gt;&gt; math.floor(3.962) <span class="comment">#取整函数，需引入math模块才可以使用</span></span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h3 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h3><p>可以把模块想象成导入到Python以增强其功能的扩展。需要使用import来导入模块。使用时使用 模块.函数 的格式来执行<br>为了能够不每次调用函数的时候，都要写模块的名字，可以使用 from 模块 import 函数 这种形式</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; from math import floor</span><br><span class="line">&gt;&gt;&gt; floor(3.9888)</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<p>不过为了管理的方便和以后代码的易读性，推荐使用 模块.函数 的格式。</p>
<h4 id="cmath-和复数"><a href="#cmath-和复数" class="headerlink" title="cmath 和复数"></a>cmath 和复数</h4><p>sqrt函数用于计算一个数字的平方根。如果数值为负数则会弹出错误提示</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; from math import sqrt</span><br><span class="line">&gt;&gt;&gt; sqrt(-1)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;pyshell#11&gt;"</span>, line 1, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    sqrt(-1)</span><br><span class="line">ValueError: math domain error</span><br></pre></td></tr></table></figure>

<p>如何解决这个问题呢，使用cmath</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import cmath</span><br><span class="line">&gt;&gt;&gt; cmath.sqrt(-1)</span><br><span class="line">1j  <span class="comment">#1j是个叙述，以j结尾</span></span><br></pre></td></tr></table></figure>

<h4 id="回到-future"><a href="#回到-future" class="headerlink" title="回到_future_"></a>回到_<em>future_</em></h4><p>__future__是个神奇的模块在后面的章节将详细说明。</p>
<h3 id="保存并执行程序"><a href="#保存并执行程序" class="headerlink" title="保存并执行程序"></a>保存并执行程序</h3><p>我们可以使用各种文本编辑器，如visual studio Code 或是 Atom 也可以是 EditPlus等等，也可以使用 IDLE python自带的编辑功能<br>在窗口选择 File → New File就会打开一个新窗口，而且没有交互式提示符，你可以在这里写入您的代码<br>并保存到你指定的文件夹。保存好后，你可以使用 Ctrl + F5来执行你的代码，在你第一个打开的IDLE中将会显示结果。</p>
<p><img src="/images/post/python-02.jpg" alt="使用IDLE来保存并执行程序"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># name = raw_input("What is your name")  python3 已经取消了raw_input, 通用Input</span></span><br><span class="line">name = input(<span class="string">"What is your name:"</span>)</span><br><span class="line"><span class="built_in">print</span>( <span class="string">"Hello. "</span> + name + <span class="string">"!"</span>)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">What is your name:winbug</span><br><span class="line">Hello. winbug!</span><br></pre></td></tr></table></figure>

<p>（<em>也不用担心raw_input 和 input 的区别了，再Python3中已经将两者统合了。</em>）</p>
<p>也可以在命令提示符（windows）和 终端 (Linux)下，直接使用 python + filename.py运行程序</p>
<h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><p>python下使用 <code>#</code> 进行注释，作为程序员，注释是非常有用的，它帮助程序员去理解程序代码</p>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>字符串一般用引号包围，需要转义的时候，使用转义符 \ 进行转义</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">name = input(<span class="string">"What is your name:"</span>)</span><br><span class="line"><span class="built_in">print</span>( <span class="string">"\"Hello. "</span> + name + <span class="string">"!\", I said that"</span>)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">What is your name:winbug</span><br><span class="line"><span class="string">"Hello. winbug!"</span>, I said that</span><br></pre></td></tr></table></figure>

<p>如何 <strong>拼接字符串</strong><br>在python里面，和Javascript的拼接方式相同，大家都是使用加号来拼接字符串</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x = <span class="string">"Hello. "</span></span><br><span class="line">y = <span class="string">"World!"</span></span><br><span class="line"><span class="built_in">print</span>( x + y )  <span class="comment">#Hello. World!</span></span><br></pre></td></tr></table></figure>

<p>学习 <strong>str函数 和 repr函数</strong><br>str函数，它会把值转换成为合理形式的字符串。<br>repr函数，它会创建一个字符串，它以合法的Python表达式的形式来表示值。<br>(<em>需要注意，再python3中长整型已经不需要在数字的后面加L了，否则会出错</em>)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x = <span class="string">"Hello, World!"</span></span><br><span class="line">y = 1000000000000000000000000000000000000000000</span><br><span class="line">z = str(x)</span><br><span class="line"><span class="built_in">print</span>(z)</span><br><span class="line">z= str(y)</span><br><span class="line"><span class="built_in">print</span>(z)</span><br><span class="line">z = repr(x)</span><br><span class="line"><span class="built_in">print</span>(z)</span><br><span class="line">z = repr(y)</span><br><span class="line"><span class="built_in">print</span>(z)</span><br></pre></td></tr></table></figure>

<p>(<em>需要注意，phthon3 之后已经可以不适用反引号来读取变量了</em>)</p>
<p><strong>长字符串</strong><br>使用三个引号，也可以使用反斜线进行转义</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">""</span><span class="string">"This is a very long string</span></span><br><span class="line"><span class="string">It continues here.</span></span><br><span class="line"><span class="string">And it's not over yet.</span></span><br><span class="line"><span class="string">'Hello, world!'"</span><span class="string">""</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"Hello, \</span></span><br><span class="line"><span class="string">world!\</span></span><br><span class="line"><span class="string">I am Chinese"</span>)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">This is a very long string</span><br><span class="line">It continues here.</span><br><span class="line">And it<span class="string">'s not over yet.</span></span><br><span class="line"><span class="string">'</span>Hello, world!<span class="string">'</span></span><br><span class="line"><span class="string">Hello, world!I am Chinese</span></span><br></pre></td></tr></table></figure>

<p><strong>原始字符串</strong><br>在普通字符串中，反斜线有特殊的作用，他会转义。<br>如换行符 \n 还有很多，在反斜线混入的情况下怎么办，可以使用双反斜线，或是在字符串前加个字母r</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">"This is a very long string\nIt continues here.\nAnd it's not over yet.\n'Hello, world!'"</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"C:\\windows\\info"</span>)</span><br><span class="line"><span class="built_in">print</span>(r<span class="string">"C:\192.168.0.121\backupHD\nikon\nikonplaza\psd\bj"</span>)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">This is a very long string</span><br><span class="line">It continues here.</span><br><span class="line">And it<span class="string">'s not over yet.</span></span><br><span class="line"><span class="string">'</span>Hello, world!<span class="string">'</span></span><br><span class="line"><span class="string">C:\windows\info</span></span><br><span class="line"><span class="string">C:\192.168.0.121\backupHD\nikon\nikonplaza\psd\bj</span></span><br></pre></td></tr></table></figure>

<p><strong>Unicode字符串</strong><br>为了表示更多的字符串，包括世界上大多数语言的特殊字符，需要使用Unicode字符串，在字符串的前面加个字母u</p>
<hr>
<h3 id="第1章的新函数"><a href="#第1章的新函数" class="headerlink" title="第1章的新函数"></a>第1章的新函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>abs(number)</td>
<td>返回数字的绝对值</td>
</tr>
<tr>
<td>cmath.sqrt(number)</td>
<td>返回平方根，也可以应用于负数</td>
</tr>
<tr>
<td>float(object)</td>
<td>将字符串和数字转换成为浮点数</td>
</tr>
<tr>
<td>help()</td>
<td>提供交互式帮助</td>
</tr>
<tr>
<td>input(prompt)</td>
<td>获取用户输入</td>
</tr>
<tr>
<td>int(object)</td>
<td>将字符串和数字转换为整数</td>
</tr>
<tr>
<td>long(object)</td>
<td>将字符串和数字转换为长整型数</td>
</tr>
<tr>
<td>math.ceil(number)</td>
<td>返回数的上入整数，返回值的类型为浮点数</td>
</tr>
<tr>
<td>math.floor(number)</td>
<td>返回数的下舍整数，返回值的类型为浮点数</td>
</tr>
<tr>
<td>math.sqrt(number)</td>
<td>返回平方根，不适用于负数</td>
</tr>
<tr>
<td>pow(x,y[, z])</td>
<td>返回x的y次幂</td>
</tr>
<tr>
<td>repr(object)</td>
<td>返回值的字符串表示形式</td>
</tr>
<tr>
<td>round(number[, ndigits])</td>
<td>根据给定的精度对数字进行四舍五入</td>
</tr>
<tr>
<td>str(object)</td>
<td>将值转换为字符串</td>
</tr>
</tbody></table>
<h2 id="第2章-列表和元组"><a href="#第2章-列表和元组" class="headerlink" title="第2章 列表和元组"></a>第2章 列表和元组</h2><p><strong>数据结构</strong><br>是通过某种方式组织在一起的数据元素的集合，这些数据元素可以是数字或者字符，甚至是其他数据结构。</p>
<h3 id="序列概览"><a href="#序列概览" class="headerlink" title="序列概览"></a>序列概览</h3><p>Python 包含6种内建的序列</p>
<ol>
<li>列表 ★</li>
<li>元组 ★</li>
<li>字符串 </li>
<li>Unicode字符串</li>
<li>buffer对象</li>
<li>xrange对象</li>
</ol>
<p>列表和元组的区别，列别可以修改，元组则不能。</p>
<h3 id="通用序列操作"><a href="#通用序列操作" class="headerlink" title="通用序列操作"></a>通用序列操作</h3><p>所有序列都可以进行，<strong>索引，分片，加，乘，检查某个元素是否属于序列的成员</strong>。python还提供了对序列长度，最大元素和最小元素的函数。</p>
<h4 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h4><p>所有序列都是有编号的，从0开始递增。* -1 * 代表从最后一个元素开始计数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">greeting = <span class="string">"Hello"</span>  <span class="comment">#字符串本身就是一个个字符组成。</span></span><br><span class="line"><span class="built_in">print</span>(greeting[0])</span><br><span class="line"><span class="built_in">print</span>(greeting[-1])</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">H</span><br><span class="line">o</span><br></pre></td></tr></table></figure>

<p>如果一个函数调用返回一个序列，那么可以直接对返回结果进行索引操作。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fouth = input(<span class="string">"Year: "</span>)[3]</span><br><span class="line"><span class="built_in">print</span>(fouth)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Year: 2018</span><br><span class="line">8</span><br></pre></td></tr></table></figure>

<p><strong>经典小程序</strong><br>输出日期</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">months = [</span><br><span class="line">  <span class="string">'January'</span>,</span><br><span class="line">  <span class="string">'February'</span>,</span><br><span class="line">  <span class="string">'March'</span>,</span><br><span class="line">  <span class="string">'April'</span>,</span><br><span class="line">  <span class="string">'May'</span>,</span><br><span class="line">  <span class="string">'June'</span>,</span><br><span class="line">  <span class="string">'July'</span>,</span><br><span class="line">  <span class="string">'August'</span>,</span><br><span class="line">  <span class="string">'September'</span>,</span><br><span class="line">  <span class="string">'October'</span>,</span><br><span class="line">  <span class="string">'November'</span>,</span><br><span class="line">  <span class="string">'December'</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">#以1~31的数字作为结尾的列表</span></span><br><span class="line">endings = [<span class="string">'st'</span>, <span class="string">'nd'</span>, <span class="string">'rd'</span>] + 17 * [<span class="string">'th'</span>] \</span><br><span class="line">              + [<span class="string">'st'</span>, <span class="string">'nd'</span>, <span class="string">'rd'</span>] + 7 * [<span class="string">'th'</span>] \</span><br><span class="line">              + [<span class="string">'st'</span>]</span><br><span class="line"></span><br><span class="line">year = input(<span class="string">'Year: '</span>)</span><br><span class="line">month = input(<span class="string">'Month(1-12): '</span>)</span><br><span class="line">day = input(<span class="string">'Day(1-31): '</span>)</span><br><span class="line"></span><br><span class="line">month_number = int(month)</span><br><span class="line">day_number = int(day)</span><br><span class="line"></span><br><span class="line"><span class="comment">#记得要将月份和天数减1，以获得正确的索引</span></span><br><span class="line">month_name = months[month_number - 1]</span><br><span class="line">ordinal = day + endings[day_number - 1]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(month_name + <span class="string">' '</span> + ordinal + <span class="string">'. '</span> + year)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Year: 2018</span><br><span class="line">Month(1-12): 5</span><br><span class="line">Day(1-31): 21</span><br><span class="line">May 21st. 2018</span><br></pre></td></tr></table></figure>

<h4 id="分片"><a href="#分片" class="headerlink" title="分片"></a>分片</h4><p>与使用索引来访问单个元素类似，可以使用分片操作来访问一定范围内的元素。分片通过冒号相隔的两个索引来实现。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tag = <span class="string">"&lt;a href='http://www.l3f.win'&gt;Python web site&lt;/a&gt;"</span></span><br><span class="line"><span class="built_in">print</span>(tag[9:27]) <span class="comment">#第1个索引的元素是包含在分片内的，而第2个则不包含在分片内</span></span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">http://www.l3f.win</span><br></pre></td></tr></table></figure>

<ol>
<li>优雅的捷径<br> 访问后3个元素 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9 ,10]</span><br><span class="line"><span class="built_in">print</span>(numbers[7:10])</span><br><span class="line"><span class="built_in">print</span>(numbers[-3:])</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[8, 9, 10]</span><br></pre></td></tr></table></figure></li>
<li>更大的步长<br> 分片的最后一个参数是步长，步长通常都是隐式设置的，默认值为1<br> 步长不可以为0，但是可以为负数，即从右到左提取元素。 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9 ,10]</span><br><span class="line"><span class="built_in">print</span>(numbers[0:10:2])</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[1, 3, 5, 7, 9]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(numbers[::-2])</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[10, 8, 6, 4, 2]</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="序列相加"><a href="#序列相加" class="headerlink" title="序列相加"></a>序列相加</h4><p>通过使用加号可以进行序列的连接操作：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">number = [1,2,3,4,5]</span><br><span class="line"><span class="built_in">print</span>(number + [6,7,8,9,10])</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span><br></pre></td></tr></table></figure>

<h4 id="乘法"><a href="#乘法" class="headerlink" title="乘法"></a>乘法</h4><p>用数字x乘以一个序列会生成新的序列，新的序列中，原来的序列将被重复x次</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">"python"</span> * 5)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">pythonpythonpythonpythonpythonssss</span><br></pre></td></tr></table></figure>

<p>初始化一个长度为10的列表，内容为空</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sequence = [None] * 10</span><br><span class="line"><span class="built_in">print</span>(sequence)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[None, None, None, None, None, None, None, None, None, None]</span><br></pre></td></tr></table></figure>

<p><strong>经典小程序</strong><br>创建一个带边框的文字</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sentence = input(<span class="string">"Sentence: "</span>)</span><br><span class="line">screen_width = 80</span><br><span class="line">text_width = len(sentence)</span><br><span class="line">box_width = text_width + 6</span><br><span class="line">left_margin = (screen_width - box_width) // 2</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'\n'</span> +</span><br><span class="line">        <span class="string">' '</span> * left_margin + <span class="string">'+'</span> + <span class="string">'-'</span> * (box_width - 2) + <span class="string">'+ \n'</span> + </span><br><span class="line">        <span class="string">' '</span> * left_margin + <span class="string">'|  '</span> + <span class="string">' '</span> * text_width +  <span class="string">'  |\n'</span> +</span><br><span class="line">        <span class="string">' '</span> * left_margin + <span class="string">'|  '</span> +  sentence + <span class="string">'  |\n'</span> +</span><br><span class="line">        <span class="string">' '</span> * left_margin + <span class="string">'|  '</span> + <span class="string">' '</span> * text_width +  <span class="string">'  | \n'</span> +</span><br><span class="line">        <span class="string">' '</span> * left_margin + <span class="string">'+'</span> + <span class="string">'-'</span> * (box_width - 2) + <span class="string">'+ \n'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="成员资格（是否存在元素）"><a href="#成员资格（是否存在元素）" class="headerlink" title="成员资格（是否存在元素）"></a>成员资格（是否存在元素）</h4><p>为了检查一个值是否在序列种，使用<code>in</code>运算符</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">permissions = <span class="string">'rw'</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'w'</span> <span class="keyword">in</span> permissions)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">True</span><br></pre></td></tr></table></figure>

<p><strong>简单用户认证</strong><br>通过序列来认证用户登录</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">database = [</span><br><span class="line">    [<span class="string">'albert'</span>, <span class="string">'1234'</span>],</span><br><span class="line">    [<span class="string">'winbug'</span>,<span class="string">'0000'</span>],</span><br><span class="line">    [<span class="string">'jone'</span>,<span class="string">'2345'</span>]</span><br><span class="line">    ]</span><br><span class="line">username = input(<span class="string">'User name: '</span>)</span><br><span class="line">password = input(<span class="string">"Pin code:"</span>)</span><br><span class="line"><span class="keyword">if</span> [username, password] <span class="keyword">in</span> database : <span class="built_in">print</span>(<span class="string">'Access Granted'</span>)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">User name: winbug</span><br><span class="line">Pin code:0000</span><br><span class="line">Access Granted</span><br></pre></td></tr></table></figure>

<h4 id="长度，最小值，最大值"><a href="#长度，最小值，最大值" class="headerlink" title="长度，最小值，最大值"></a>长度，最小值，最大值</h4><p>内建函数len, min, max非常有用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">number = [100, 34, 678]</span><br><span class="line"><span class="built_in">print</span>(len(number))  <span class="comment">#序列长度</span></span><br><span class="line"><span class="built_in">print</span>(min(number))  <span class="comment">#序列中最小值</span></span><br><span class="line"><span class="built_in">print</span>(max(number))  <span class="comment">#序列中最大值</span></span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">3</span><br><span class="line">34</span><br><span class="line">678</span><br></pre></td></tr></table></figure>

<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><h4 id="list函数"><a href="#list函数" class="headerlink" title="list函数"></a>list函数</h4><p>因为字符串不能像列表一样被修改，所以有时根据字符串创建列表会很有用。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">string = list(<span class="string">"Hello"</span>)</span><br><span class="line"><span class="built_in">print</span>(string)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[<span class="string">'H'</span>, <span class="string">'e'</span>, <span class="string">'l'</span>, <span class="string">'l'</span>, <span class="string">'o'</span>]</span><br></pre></td></tr></table></figure>

<p>(<em>list函数适用于所有类型的序列，而不只是字符串</em>)</p>
<h4 id="基本的列表操作"><a href="#基本的列表操作" class="headerlink" title="基本的列表操作"></a>基本的列表操作</h4><p>列表可以使用所有适用于序列的标准操作，索引，分片，连接，惩罚。列表是可修改的。</p>
<ol>
<li>改变列表： 元素赋值<br> 列表通过使用索引标记来为某个元素赋值 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x = [1,1,1]</span><br><span class="line">x[1] = 2</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[1, 2, 1]</span><br></pre></td></tr></table></figure></li>
<li>删除元素<br> 使用del语句 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">name = [<span class="string">'winbug'</span>, <span class="string">'admin'</span>, <span class="string">'lijianguo'</span>]</span><br><span class="line">del name[2]</span><br><span class="line"><span class="built_in">print</span>(name)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[<span class="string">'winbug'</span>, <span class="string">'admin'</span>]</span><br></pre></td></tr></table></figure></li>
<li>分片赋值<br> 程序可以一次为多个元素赋值 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">name = list(<span class="string">"winbug"</span>)</span><br><span class="line"><span class="built_in">print</span>(name)</span><br><span class="line">name[3:] = list(<span class="string">'dows'</span>)</span><br><span class="line"><span class="built_in">print</span>(name)</span><br><span class="line">name[3:] = []</span><br><span class="line"><span class="built_in">print</span>(name)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[<span class="string">'w'</span>, <span class="string">'i'</span>, <span class="string">'n'</span>, <span class="string">'b'</span>, <span class="string">'u'</span>, <span class="string">'g'</span>]</span><br><span class="line">[<span class="string">'w'</span>, <span class="string">'i'</span>, <span class="string">'n'</span>, <span class="string">'d'</span>, <span class="string">'o'</span>, <span class="string">'w'</span>, <span class="string">'s'</span>]</span><br><span class="line">[<span class="string">'w'</span>, <span class="string">'i'</span>, <span class="string">'n'</span>]</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="列表方法"><a href="#列表方法" class="headerlink" title="列表方法"></a>列表方法</h4><p>方法： 与某些对象有紧密联系的函数<br>方法的调用： 对象.方法(参数)</p>
<ol>
<li>append<br> 用于在列表末尾追加新的对象 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lst = [1,2,3]</span><br><span class="line">lst.append(4)</span><br><span class="line"><span class="built_in">print</span>(lst)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[1, 2, 3, 4]</span><br></pre></td></tr></table></figure></li>
<li>count<br> 统计某个元素在列表中出现的次数 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lis = [<span class="string">'to'</span>,<span class="string">'be'</span>,<span class="string">'or'</span>,<span class="string">'not'</span>,<span class="string">'to'</span>,<span class="string">'be'</span>]</span><br><span class="line"><span class="built_in">print</span>(lis.count(<span class="string">'to'</span>))</span><br><span class="line">x = [[1,2],1,1,[2,1,[1,2]]]</span><br><span class="line"><span class="built_in">print</span>(x.count(1))</span><br><span class="line"><span class="built_in">print</span>(x.count([1,2]))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">2</span><br><span class="line">2</span><br><span class="line">1</span><br></pre></td></tr></table></figure></li>
<li>extend<br> 可以在列表的末尾一次性追加两一个序列中的多个值 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">a = [1,2,3]</span><br><span class="line">b = [4,5,6]</span><br><span class="line">a.extend(b)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[1, 2, 3, 4, 5, 6]</span><br></pre></td></tr></table></figure>
 <em>extend和连接很像，但是有着本质的区别，extend是扩展原有的列表，而连接则是创建一个原有列表的副本</em></li>
<li>index<br> 用于从列表中找出某个值第一个匹配项的索引位置 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">knights = [<span class="string">'We'</span>, <span class="string">'are'</span>, <span class="string">'the'</span>, <span class="string">'knights'</span>, <span class="string">'Who'</span>, <span class="string">'say'</span>, <span class="string">'ni'</span>]</span><br><span class="line"><span class="built_in">print</span>(knights.index(<span class="string">'Who'</span>))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">4</span><br></pre></td></tr></table></figure></li>
<li>insert<br> 用于将对象插入到列表中 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">numbers = [1,2,3,5,6,7]</span><br><span class="line">numbers.insert(3,<span class="string">'four'</span>)</span><br><span class="line"><span class="built_in">print</span>(numbers)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[1, 2, 3, <span class="string">'four'</span>, 5, 6, 7]</span><br></pre></td></tr></table></figure></li>
<li>pop<br> 移除列表中的一个元素（默认为最后一个）,并返回该元素的值 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">numbers = [1,2,3,5,6,7]</span><br><span class="line">x = numbers.pop(4)</span><br><span class="line"><span class="built_in">print</span>(numbers)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[1, 2, 3, 5, 7]</span><br><span class="line">6</span><br></pre></td></tr></table></figure></li>
<li>remove<br> 用于移除列表中某个值的第一个匹配项，它不同于pop，不会返回值 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">numbers = [1,2,3,5,6,3,7]</span><br><span class="line">numbers.remove(3)</span><br><span class="line"><span class="built_in">print</span>(numbers)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[1, 2, 5, 6, 3, 7]</span><br></pre></td></tr></table></figure></li>
<li><span id="reverse">reverse</span><br> 将列表中的元素反向存放 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">numbers = [1,2,3,5,6,3,7]</span><br><span class="line">numbers.reverse()</span><br><span class="line"><span class="built_in">print</span>(numbers)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[7, 3, 6, 5, 3, 2, 1]</span><br></pre></td></tr></table></figure></li>
<li><span id="sort">sort</span><br> 用于在原位置对列表进行排序。 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">numbers = [17,5,2,9,20]</span><br><span class="line">numbers.sort()</span><br><span class="line"><span class="built_in">print</span>(numbers)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[2, 5, 9, 17, 20]</span><br></pre></td></tr></table></figure>
 如果想不影响原位置的值进行索引，我们可以使用sorted函数。 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x = [4,6,2,1,7,9]</span><br><span class="line">y = sorted(x)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[4, 6, 2, 1, 7, 9]</span><br><span class="line">[1, 2, 4, 6, 7, 9]</span><br></pre></td></tr></table></figure></li>
<li><span id="cmp">高级排序</span><br>  cmp函数（python3后不能使用）<br>  sort方法的两个可选参数key和reverse  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x = [<span class="string">'aardvark'</span>,<span class="string">'abalone'</span>,<span class="string">'acme'</span>,<span class="string">'add'</span>,<span class="string">'aerate'</span>]</span><br><span class="line">x.sort(key=len)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line">x.sort(reverse=True)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[<span class="string">'add'</span>, <span class="string">'acme'</span>, <span class="string">'aerate'</span>, <span class="string">'abalone'</span>, <span class="string">'aardvark'</span>]</span><br><span class="line">[<span class="string">'aerate'</span>, <span class="string">'add'</span>, <span class="string">'acme'</span>, <span class="string">'abalone'</span>, <span class="string">'aardvark'</span>]</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="元组：不可变序列"><a href="#元组：不可变序列" class="headerlink" title="元组：不可变序列"></a>元组：不可变序列</h3><p>元组与列表一样，也是一种序列，唯一的不同就是不能修改<br>创建方法，用逗号分隔开一些值，就自动的创建了元组，一般表示用括号（）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x = 1,2,3 <span class="comment">#使用,号创建元组</span></span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line">y = ()  <span class="comment">#使用括号，创建空元组</span></span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line">z=4,    <span class="comment">#使用值 + ， 创建单元组</span></span><br><span class="line"><span class="built_in">print</span>(z)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">(1, 2, 3)</span><br><span class="line">()</span><br><span class="line">(4,)</span><br></pre></td></tr></table></figure>

<h4 id="tuple函数"><a href="#tuple函数" class="headerlink" title="tuple函数"></a>tuple函数</h4><p>tuple函数与<a href="#list函数">list函数</a>基本上一样，以一个序列作为参数并把它转换成为元组，如果参数就是元组会被原样返回</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(tuple([1,3,4]))</span><br><span class="line"><span class="built_in">print</span>(tuple((<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>)))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">(1, 3, 4)</span><br><span class="line">(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="基本元组操作"><a href="#基本元组操作" class="headerlink" title="基本元组操作"></a>基本元组操作</h4><p>除了创建和访问元组元素之外，基本没有什么其他操作。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">number = 2,3,4,5,6</span><br><span class="line"><span class="built_in">print</span>(number[3])</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">5</span><br></pre></td></tr></table></figure>

<h4 id="元组的意义"><a href="#元组的意义" class="headerlink" title="元组的意义"></a>元组的意义</h4><ol>
<li>元组可以在映射中当作键使用，而列表则不行。</li>
<li>元组作为很多内建函数和方法的返回值存在。</li>
</ol>
<h3 id="第2章的新函数"><a href="#第2章的新函数" class="headerlink" title="第2章的新函数"></a>第2章的新函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a href="#cmp">cmp(x, y)</a></td>
<td>比较两个值，python3之后停止使用</td>
</tr>
<tr>
<td><a href="#长度，最小值，最大值">len(seq)</a></td>
<td>返回序列的长度</td>
</tr>
<tr>
<td><a href="#list函数">list(seq)</a></td>
<td>把序列转换成列表</td>
</tr>
<tr>
<td><a href="#长度，最小值，最大值">max(args)</a></td>
<td>返回序列或者参数集合中的最大值</td>
</tr>
<tr>
<td><a href="#长度，最小值，最大值">min(args)</a></td>
<td>返回序列或者参数集合中的最小值</td>
</tr>
<tr>
<td><a href="#reverse">reversed(seq)</a></td>
<td>对序列进行反向迭代</td>
</tr>
<tr>
<td><a href="#sort">sorted(seq)</a></td>
<td>返回已排序的包含seq所有元素的列表</td>
</tr>
<tr>
<td><a href="#tuple函数">tuple(seq)</a></td>
<td>靶序列转换成远足</td>
</tr>
</tbody></table>
<h2 id="第3章-使用字符串"><a href="#第3章-使用字符串" class="headerlink" title="第3章 使用字符串"></a>第3章 使用字符串</h2><h3 id="基本字符串操作"><a href="#基本字符串操作" class="headerlink" title="基本字符串操作"></a>基本字符串操作</h3><p>所有标准的序列操作对字符串同样使用，字符串是不可以修改的</p>
<h3 id="字符串格式化：精简版"><a href="#字符串格式化：精简版" class="headerlink" title="字符串格式化：精简版"></a>字符串格式化：精简版</h3><p>字符串操作符 百分号%来实现</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">forma = <span class="string">"Hello, %s, %s enough for ya?"</span></span><br><span class="line">values = (<span class="string">"world"</span>, <span class="string">"Hot"</span>)</span><br><span class="line"><span class="built_in">print</span>(forma % values)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Hello, world, Hot enough <span class="keyword">for</span> ya?</span><br></pre></td></tr></table></figure>

<p>(<em>如果在格式化的字符串里面包含%号的话，必须使用%%</em>)</p>
<h3 id="字符串格式化：完整版"><a href="#字符串格式化：完整版" class="headerlink" title="字符串格式化：完整版"></a>字符串格式化：完整版</h3><p>字符串格式化右侧是元组的情况下，则其中的每一个元素都会被单独格式化，每个值都需要一个对应的转化说明符</p>
<p><strong>基本的转换说明符</strong><br>(1) %字符： 标记转换说明符的开始。<br>(2) 转换标记（可选）： -表示左对齐， +表示在转换值之前要加上正负号， “”（空白字符）表示正数之前保留空格，0表示转换值若位数不够则用0填充<br>(3) 最小字段宽度（可选）： 转换后的字符串至少应该具有该值指定的宽度。<br>(4) 点(.)后跟精度值（可选）： 如果转换的是实数，精度值就表示出现在小数点后的位数。<br>(5) 转换类型</p>
<table>
<thead>
<tr>
<th>转换类型</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>d, i</td>
<td>带符号的十进制整数</td>
</tr>
<tr>
<td>o</td>
<td>不带符号的八进制</td>
</tr>
<tr>
<td>u</td>
<td>不带符号的十进制</td>
</tr>
<tr>
<td>x</td>
<td>不带符号的十六进制(小写)</td>
</tr>
<tr>
<td>X</td>
<td>不带符号的十六进制(大写)</td>
</tr>
<tr>
<td>e</td>
<td>科学记数法表示的浮点数(小写)</td>
</tr>
<tr>
<td>E</td>
<td>科学记数法表示的浮点数(大写)</td>
</tr>
<tr>
<td>f, F</td>
<td>十进制浮点数</td>
</tr>
<tr>
<td>g</td>
<td>如果指数大于-4或者小于精度值则和e相同，其他情况与f相同</td>
</tr>
<tr>
<td>G</td>
<td>如果指数大于-4或者小于进度值则和E相同，其他情况则于F相同</td>
</tr>
<tr>
<td>C</td>
<td>单字符(接受整数或者单字符字符串)</td>
</tr>
<tr>
<td>r</td>
<td>字符串(使用repr转换任意Python对象)</td>
</tr>
<tr>
<td>s</td>
<td>字符串(使用str转换任意Python对象)</td>
</tr>
</tbody></table>
<h4 id="简单转换"><a href="#简单转换" class="headerlink" title="简单转换"></a>简单转换</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>( <span class="string">'Price of eggs: $%d'</span> %42)</span><br><span class="line"><span class="built_in">print</span>( <span class="string">'Using str: %s'</span> %42)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Price of eggs: <span class="variable">$42</span></span><br><span class="line">Using str: 42</span><br></pre></td></tr></table></figure>

<h4 id="字段宽度和精度"><a href="#字段宽度和精度" class="headerlink" title="字段宽度和精度"></a>字段宽度和精度</h4><p>转换说明符可以包括字段宽度和精度</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">from math import pi</span><br><span class="line"><span class="built_in">print</span>(<span class="string">'%10f'</span> % pi) <span class="comment">#字段宽10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'%10.2f'</span> % pi) <span class="comment">#字段宽10,精度2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'%.2f'</span> % pi) <span class="comment">#精度2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'%.*s'</span> % (5, <span class="string">'Guido van Rossum'</span>)) <span class="comment">#使用*号最为字段宽度或精度，此时数值会从元组中读出</span></span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">  3.141593</span><br><span class="line">      3.14</span><br><span class="line">3.14</span><br><span class="line">Guido</span><br></pre></td></tr></table></figure>

<h4 id="符号，对齐和0填充"><a href="#符号，对齐和0填充" class="headerlink" title="符号，对齐和0填充"></a>符号，对齐和0填充</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">from math import pi</span><br><span class="line"><span class="built_in">print</span>(<span class="string">'%-10.2f'</span> % pi) </span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">3.14</span><br></pre></td></tr></table></figure>

<p><strong>字符串格式化示例</strong><br>使用给定的宽度打印格式化后的价格表</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">width = int(input(<span class="string">'Please enter width:'</span>)) <span class="comment">#确保输入的内容转化为数值</span></span><br><span class="line"></span><br><span class="line">price_width = 10</span><br><span class="line">item_width = width - price_width</span><br><span class="line"></span><br><span class="line">header_format = <span class="string">'%-*s%*s'</span></span><br><span class="line">formats = <span class="string">'%-*s%*.2f'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'='</span> * width)</span><br><span class="line"><span class="built_in">print</span>(header_format % (item_width, <span class="string">'Item'</span>, price_width, <span class="string">'Price'</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">'-'</span> * width)</span><br><span class="line"><span class="built_in">print</span>(formats % (item_width, <span class="string">'Apples'</span>, price_width, 0.4))</span><br><span class="line"><span class="built_in">print</span>(formats % (item_width, <span class="string">'Pears'</span>, price_width, 0.5))</span><br><span class="line"><span class="built_in">print</span>(formats % (item_width, <span class="string">'Cantaloupes'</span>, price_width, 1.92))</span><br><span class="line"><span class="built_in">print</span>(formats % (item_width, <span class="string">'Dried Apricots(16 oz.)'</span>, price_width, 8))</span><br><span class="line"><span class="built_in">print</span>(formats % (item_width, <span class="string">'Prunes (4 1bs.)'</span>, price_width, 12))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'='</span> * width)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Please enter width:35</span><br><span class="line">===================================</span><br><span class="line">Item                          Price</span><br><span class="line">-----------------------------------</span><br><span class="line">Apples                         0.40</span><br><span class="line">Pears                          0.50</span><br><span class="line">Cantaloupes                    1.92</span><br><span class="line">Dried Apricots(16 oz.)         8.00</span><br><span class="line">Prunes (4 1bs.)               12.00</span><br><span class="line">===================================</span><br></pre></td></tr></table></figure>

<h4 id="字符串方法"><a href="#字符串方法" class="headerlink" title="字符串方法"></a>字符串方法</h4><ol>
<li>find<br> find方法可以在一个较长得字符串中查找子字符串。它返回子串所在位置得最左端索引。如果没有则返回-1 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">kotoba = <span class="string">"With a moo-moo here, and a moo-moo there"</span></span><br><span class="line"><span class="built_in">print</span>(kotoba.find(<span class="string">'moo'</span>))</span><br><span class="line"><span class="built_in">print</span>(kotoba.find(<span class="string">'my'</span>))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">7</span><br><span class="line">-1</span><br></pre></td></tr></table></figure>
 find方法不返回布尔值，所以返回0得时候，是发现得位置</li>
<li><span id="join方法">join</span><br> join方法是<a href="#split方法">split</a>方法的逆方法，用来在队列中添加元素 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#seq = [1,2,3,4,5]</span></span><br><span class="line">sep = <span class="string">'+'</span></span><br><span class="line"><span class="comment">#print(sep.join(seq)) #连接数字列表会报错</span></span><br><span class="line"></span><br><span class="line">seq = [<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>]</span><br><span class="line"><span class="built_in">print</span>(sep.join(seq))</span><br><span class="line"></span><br><span class="line"><span class="built_in">dirs</span> = <span class="string">''</span>, <span class="string">'usr'</span>, <span class="string">'bin'</span>, <span class="string">'env'</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'/'</span>.join(<span class="built_in">dirs</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'C:'</span> + <span class="string">'\\'</span>.join(<span class="built_in">dirs</span>))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">1+2+3+4+5</span><br><span class="line">/usr/bin/env</span><br><span class="line">C:\usr\bin\env</span><br></pre></td></tr></table></figure></li>
<li>lower<br> 返回字符串的小写字母版 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">strs = <span class="string">'Trondheim Hammer Dance'</span></span><br><span class="line"><span class="built_in">print</span>(strs.lower())</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">trondheim hammer dance</span><br></pre></td></tr></table></figure></li>
<li><span id="replace方法">replace</span><br> 返回某个字符串的所有匹配项均被提花之后的字符串 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">strs = <span class="string">'This is a test'</span></span><br><span class="line"><span class="built_in">print</span>(strs.replace(<span class="string">'is'</span>, <span class="string">'eez'</span>))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Theez eez a <span class="built_in">test</span></span><br></pre></td></tr></table></figure></li>
<li><span id="split方法">split</span><br> 他是<a href="#join方法">join</a>的逆方法，用来将字符串分割成序列 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">strs = <span class="string">"1+2+3+4+5"</span></span><br><span class="line"><span class="built_in">print</span>(strs.split(<span class="string">'+'</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">dirs</span> = <span class="string">"/usr/bin/env"</span></span><br><span class="line"><span class="built_in">print</span>(dirs.split(<span class="string">'/'</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">dirs</span> = <span class="string">"C:\\usr\\bin\\env"</span></span><br><span class="line"><span class="built_in">print</span>(dirs.split(<span class="string">'\\'</span>))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>]</span><br><span class="line">[<span class="string">''</span>, <span class="string">'usr'</span>, <span class="string">'bin'</span>, <span class="string">'env'</span>]</span><br><span class="line">[<span class="string">'C:'</span>, <span class="string">'usr'</span>, <span class="string">'bin'</span>, <span class="string">'env'</span>]</span><br></pre></td></tr></table></figure></li>
<li>strip<br> 返回去除两侧（不包括内部）空格的字符串 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">strs = <span class="string">"   Hi i am a good man    "</span></span><br><span class="line"><span class="built_in">print</span>(strs.strip())</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Hi i am a good man</span><br></pre></td></tr></table></figure></li>
<li>translate<br> 和<a href="#replace方法">replace</a>方法一样，可以替换字符串中的某些部分，但是和前者的不同的是，translate方法只处理单个字符。优点是效率快 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">table &#x3D; str.maketrans(&#39;cs&#39;, &#39;kz&#39;) #python3之前都在使用 from string import maketrans python3之后使用内建函数str.maketrans</span><br><span class="line">strs &#x3D; &quot;this is an incredible test&quot;</span><br><span class="line">print(strs.translate(table))</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; RESTART: D:\D\python\test\hello.py &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">thiz iz an inkredible tezt</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="第4章-字典：当索引不好用时"><a href="#第4章-字典：当索引不好用时" class="headerlink" title="第4章 字典：当索引不好用时"></a>第4章 字典：当索引不好用时</h2><p>通过名字引用值得数据结构，这种结构类型被称为映射。字典是python中唯一内建得映射类型</p>
<h3 id="字典的使用"><a href="#字典的使用" class="headerlink" title="字典的使用"></a>字典的使用</h3><ol>
<li>表征游戏棋盘的状态，每个键都是由坐标值组成的元组</li>
<li>存储文件修改次数，用文件名作为键</li>
<li>数字电话/地址簿</li>
</ol>
<h3 id="创建和使用字典"><a href="#创建和使用字典" class="headerlink" title="创建和使用字典"></a>创建和使用字典</h3><p>字典由多个键及对应的值（项）构成的对组成</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">phonebook = &#123;<span class="string">'Alice'</span>:<span class="string">'2341'</span>, <span class="string">'winbug'</span>:<span class="string">'9012'</span>,<span class="string">'Cecil'</span>:<span class="string">'3258'</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(phonebook[<span class="string">'winbug'</span>])</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">9012</span><br></pre></td></tr></table></figure>

<p>——<strong>字典中的键是唯一的，而值并不唯一</strong>——</p>
<h4 id="dict函数"><a href="#dict函数" class="headerlink" title="dict函数"></a>dict函数</h4><p>一般可以通过dict函数对有一定规则的序列或是通过关键字参数创建字典。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">item = [(<span class="string">'name'</span>,<span class="string">'Gumby'</span>),(<span class="string">'age'</span>, 42)]</span><br><span class="line">d = dict(item)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line">d = dict(name=<span class="string">'Gumby'</span>, age=42)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">&#123;<span class="string">'name'</span>: <span class="string">'Gumby'</span>, <span class="string">'age'</span>: 42&#125;</span><br><span class="line">&#123;<span class="string">'name'</span>: <span class="string">'Gumby'</span>, <span class="string">'age'</span>: 42&#125;</span><br></pre></td></tr></table></figure>

<h4 id="基本字典操作"><a href="#基本字典操作" class="headerlink" title="基本字典操作"></a>基本字典操作</h4><p>字典的基本操作与序列类似</p>
<ol>
<li>len(d)返回d中项的数量</li>
<li>d[k]返回相关联到键k上的值</li>
<li>d[k]=v将值v关联到键k上</li>
<li>del d[k]删除键为k的项</li>
<li>k in d检查d中是否有含有键为k的项</li>
</ol>
<p>（<em>字典中查找的是键，列表中查找的是值</em>）</p>
<p><strong>字典的特点</strong><br>第一点，键可以为任何不可变类型<br>第二点，将值连接到指定位置</p>
<p><strong>电话本简单示例</strong><br>使用简单的数据库，进行查找</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">people = &#123;</span><br><span class="line">    <span class="string">'Alice'</span>:&#123;</span><br><span class="line">        <span class="string">'phone'</span>: <span class="string">'2341'</span>,</span><br><span class="line">        <span class="string">'addr'</span>:<span class="string">'Foo drive 23'</span></span><br><span class="line">        &#125;,</span><br><span class="line">    <span class="string">'Winbug'</span>:&#123;</span><br><span class="line">        <span class="string">'phone'</span>: <span class="string">'9012'</span>,</span><br><span class="line">        <span class="string">'addr'</span>:<span class="string">'Beijing street 42'</span></span><br><span class="line">        &#125;,</span><br><span class="line">    <span class="string">'Cecil'</span>:&#123;</span><br><span class="line">        <span class="string">'phone'</span>: <span class="string">'3158'</span>,</span><br><span class="line">        <span class="string">'addr'</span>:<span class="string">'Baz avenue 90'</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">labels = &#123;</span><br><span class="line">    <span class="string">'phone'</span>: <span class="string">'phone number'</span>,</span><br><span class="line">    <span class="string">'addr'</span>: <span class="string">'address'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">name = input(<span class="string">"Name: "</span>)</span><br><span class="line"></span><br><span class="line">request = input(<span class="string">"Phone number(p) or address(a)?"</span>)</span><br><span class="line"><span class="comment">#使用正确的键，查找电话号码还是住址</span></span><br><span class="line"><span class="keyword">if</span> request == <span class="string">'p'</span> : key = <span class="string">'phone'</span></span><br><span class="line"><span class="keyword">if</span> request == <span class="string">'a'</span> : key = <span class="string">'addr'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#如果名字有效才打印信息</span></span><br><span class="line"><span class="keyword">if</span> name <span class="keyword">in</span> people : <span class="built_in">print</span>(<span class="string">"%s's %s is %s."</span> % (name, labels[key], people[name][key]))</span><br><span class="line"></span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Name: Winbug</span><br><span class="line">Phone number(p) or address(a)?p</span><br><span class="line">Winbug<span class="string">'s phone number is 9012.</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; </span></span><br><span class="line"><span class="string">=============================== RESTART: D:\D\python\test\hello.py ===============================</span></span><br><span class="line"><span class="string">Name: Winbug</span></span><br><span class="line"><span class="string">Phone number(p) or address(a)?a</span></span><br><span class="line"><span class="string">Winbug'</span>s address is Beijing street 42.</span><br></pre></td></tr></table></figure>

<h4 id="字典的格式化字符串"><a href="#字典的格式化字符串" class="headerlink" title="字典的格式化字符串"></a>字典的格式化字符串</h4><p>字典的格式化字符串，在%号后面可以加上(键)，后面再跟上其他说明元素。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">phonebook = &#123;<span class="string">'Alice'</span>:<span class="string">'2341'</span>, <span class="string">'winbug'</span>:<span class="string">'9012'</span>,<span class="string">'Cecil'</span>:<span class="string">'3258'</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"Cecil's phone number is %(Cecil)s."</span> % phonebook)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Cecil<span class="string">'s phone number is 3258.</span></span><br></pre></td></tr></table></figure>

<h4 id="字典方法"><a href="#字典方法" class="headerlink" title="字典方法"></a>字典方法</h4><ol>
<li>clear<br> 清除字典中所有的项。无返回值 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">phonebook = &#123;<span class="string">'Alice'</span>:<span class="string">'2341'</span>, <span class="string">'winbug'</span>:<span class="string">'9012'</span>,<span class="string">'Cecil'</span>:<span class="string">'3258'</span>&#125;</span><br><span class="line">c_phonebook = phonebook</span><br><span class="line">phonebook = &#123;&#125;  <span class="comment">#将phonebook指向新的字典</span></span><br><span class="line"><span class="built_in">print</span>(c_phonebook)</span><br><span class="line">phonebook = c_phonebook <span class="comment">#将phonebook重新指向c_phonebook的字典</span></span><br><span class="line">phonebook.clear() </span><br><span class="line"><span class="built_in">print</span>(c_phonebook)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">&#123;<span class="string">'Alice'</span>: <span class="string">'2341'</span>, <span class="string">'winbug'</span>: <span class="string">'9012'</span>, <span class="string">'Cecil'</span>: <span class="string">'3258'</span>&#125;</span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure></li>
<li>copy<br> 返回一个具有相同键值的薪字典（浅复制） <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x = &#123;<span class="string">'username'</span>: <span class="string">'admin'</span>,</span><br><span class="line">    <span class="string">'machines'</span>:[<span class="string">'foo'</span>,<span class="string">'bar'</span>,<span class="string">'baz'</span>]</span><br><span class="line">    &#125;</span><br><span class="line">y = x.copy()</span><br><span class="line">y[<span class="string">'username'</span>] = <span class="string">'winbug'</span></span><br><span class="line">y[<span class="string">'machines'</span>].remove(<span class="string">'bar'</span>)</span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">&#123;<span class="string">'username'</span>: <span class="string">'winbug'</span>, <span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'baz'</span>]&#125;</span><br><span class="line">&#123;<span class="string">'username'</span>: <span class="string">'admin'</span>, <span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'baz'</span>]&#125;</span><br></pre></td></tr></table></figure>
 当在副本中替换值的时候，原始字典不受影响，如果修改了某个值，原始的字典也会改变，因为同样的值也存储在原字典中。<br> 为了避免浅复制带来的这种问题。可以使用deepcopy来解决 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">from copy import deepcopy</span><br><span class="line">x = &#123;<span class="string">'username'</span>: <span class="string">'admin'</span>,</span><br><span class="line">    <span class="string">'machines'</span>:[<span class="string">'foo'</span>,<span class="string">'bar'</span>,<span class="string">'baz'</span>]</span><br><span class="line">    &#125;</span><br><span class="line">y = deepcopy(x)</span><br><span class="line">x[<span class="string">'machines'</span>].append(<span class="string">'supper'</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">&#123;<span class="string">'username'</span>: <span class="string">'admin'</span>, <span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>, <span class="string">'supper'</span>]&#125;</span><br><span class="line">&#123;<span class="string">'username'</span>: <span class="string">'admin'</span>, <span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>]&#125;</span><br></pre></td></tr></table></figure></li>
<li>fromkeys<br> 使用给定的键建立新的字典，每个键默认对应的值为none <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">newd = &#123;&#125;.fromkeys([<span class="string">'name'</span>, <span class="string">'age'</span>],<span class="string">'Unknown'</span>) <span class="comment">#默认值为None，指定的场合，加参数</span></span><br><span class="line"><span class="built_in">print</span>(newd)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">&#123;<span class="string">'name'</span>: None, <span class="string">'age'</span>: None&#125;</span><br><span class="line">&#123;<span class="string">'name'</span>: <span class="string">'Unknown'</span>, <span class="string">'age'</span>: <span class="string">'Unknown'</span>&#125;</span><br></pre></td></tr></table></figure></li>
<li>get<br> 是一个很宽松的访问字典项的方法，如果试图访问字典中不存在的项时不会报错 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">newd =  &#123;<span class="string">'username'</span>: <span class="string">'admin'</span>, <span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>]&#125;</span><br><span class="line"><span class="built_in">print</span>(newd.get(<span class="string">'name'</span>, <span class="string">'N/A'</span>)) <span class="comment">#默认为None，也可以自己添加参数</span></span><br><span class="line"><span class="built_in">print</span>(newd.get(<span class="string">'username'</span>))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">N/A</span><br><span class="line">admin</span><br></pre></td></tr></table></figure></li>
<li>has_key(python3 已经删除此方法)<br> 可以检查字典中是否含有给出的键 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">newd =  &#123;<span class="string">'username'</span>: <span class="string">'admin'</span>, <span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>]&#125;</span><br><span class="line"><span class="comment">#print(newd.has_key('name')) #python3之后已经不存在has_key方法</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'machines'</span> <span class="keyword">in</span> newd)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">True</span><br></pre></td></tr></table></figure></li>
<li>items和iteritems<br> items将所有的字典项以列表的方式返回 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">newd =  &#123;<span class="string">'username'</span>: <span class="string">'admin'</span>, <span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>]&#125;</span><br><span class="line"><span class="built_in">print</span>(newd.items())</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">dict_items([(<span class="string">'username'</span>, <span class="string">'admin'</span>), (<span class="string">'machines'</span>, [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>])])</span><br></pre></td></tr></table></figure>
 iteritems和items的作用大致相同，返回一个迭代对象而不是列表</li>
<li>keys和iterkeys<br> 将字典中的键以列表的形式返回。而iterkeys则返回针对键的迭代器 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">newd =  &#123;<span class="string">'username'</span>: <span class="string">'admin'</span>, <span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>]&#125;</span><br><span class="line"><span class="built_in">print</span>(newd.keys())</span><br><span class="line"><span class="comment">#print(newd.iterkeys()) #python3中iterkeys已经删除</span></span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">dict_keys([<span class="string">'username'</span>, <span class="string">'machines'</span>])</span><br></pre></td></tr></table></figure></li>
<li>pop<br> 用来获得对应于给定键的值，然后将这个键-值对从字典中移除 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">newd =  &#123;<span class="string">'username'</span>: <span class="string">'admin'</span>, <span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>]&#125;</span><br><span class="line"><span class="built_in">print</span>(newd.pop(<span class="string">'username'</span>))</span><br><span class="line"><span class="built_in">print</span>(newd)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">admin</span><br><span class="line">&#123;<span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>]&#125;</span><br></pre></td></tr></table></figure></li>
<li>popitem<br> popitem会弹出随机项，因为字典没有“最后的元素”或者其他有关顺序的概念 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">newd =  &#123;<span class="string">'username'</span>: <span class="string">'admin'</span>, <span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>]&#125;</span><br><span class="line"><span class="built_in">print</span>(newd.popitem())</span><br><span class="line"><span class="built_in">print</span>(newd)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">(<span class="string">'machines'</span>, [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>])</span><br><span class="line">&#123;<span class="string">'username'</span>: <span class="string">'admin'</span>&#125;</span><br></pre></td></tr></table></figure></li>
<li>setdefault<br>类似与get方法，能够获得给定键相关的值，除此之外，setdefault还能在字典中不含有给定值的情况下设定相应的键值<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">d = &#123;&#125;</span><br><span class="line"><span class="built_in">print</span>(d.setdefault(<span class="string">'name'</span>, <span class="string">'啥都没有'</span>))</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line">d[<span class="string">'name'</span>] = <span class="string">'winbug'</span></span><br><span class="line"><span class="built_in">print</span>(d.setdefault(<span class="string">'name'</span>))</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">啥都没有</span><br><span class="line">&#123;<span class="string">'name'</span>: <span class="string">'啥都没有'</span>&#125;</span><br><span class="line">winbug</span><br><span class="line">&#123;<span class="string">'name'</span>: <span class="string">'winbug'</span>&#125;</span><br></pre></td></tr></table></figure></li>
<li>update<br>可以利用一个字典项更新另外一个字典<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">d=&#123;</span><br><span class="line">    <span class="string">'title'</span>: <span class="string">'Python Web Site'</span>,</span><br><span class="line">    <span class="string">'url'</span>: <span class="string">'https://www.l3f.win'</span>,</span><br><span class="line">    <span class="string">'changed'</span>: <span class="string">'Mar 14 22:09:15 MET 2018'</span></span><br><span class="line">    &#125;</span><br><span class="line">x=&#123;<span class="string">'title'</span>: <span class="string">'Python Language Website'</span>&#125;</span><br><span class="line"></span><br><span class="line">d.update(x)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">&#123;<span class="string">'title'</span>: <span class="string">'Python Language Website'</span>, <span class="string">'url'</span>: <span class="string">'https://www.l3f.win'</span>, <span class="string">'changed'</span>: <span class="string">'Mar 14 22:09:15 MET 2018'</span>&#125;</span><br></pre></td></tr></table></figure></li>
<li>values和itervalues<br>以列表的形式返回字典中的值，与返回键的列表不同，返回值可以包含重复的元素<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">d=&#123;&#125;</span><br><span class="line">d[1] = 1</span><br><span class="line">d[2] = 2</span><br><span class="line">d[3] = 3</span><br><span class="line">d[4] = 1</span><br><span class="line"><span class="built_in">print</span>(d.values())</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">dict_values([1, 2, 3, 1])</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="第5章-条件，循环和其他语句"><a href="#第5章-条件，循环和其他语句" class="headerlink" title="第5章 条件，循环和其他语句"></a>第5章 条件，循环和其他语句</h2><h3 id="print-和-import-的更多信息"><a href="#print-和-import-的更多信息" class="headerlink" title="print 和 import 的更多信息"></a>print 和 import 的更多信息</h3><h4 id="使用逗号输出"><a href="#使用逗号输出" class="headerlink" title="使用逗号输出"></a>使用逗号输出</h4><p>print使用逗号可以打印多个表达式。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(1, 2, 3, <span class="string">"I am a people"</span>)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">1 2 3 I am a people</span><br></pre></td></tr></table></figure>

<h4 id="把某件事作为另一件事导入"><a href="#把某件事作为另一件事导入" class="headerlink" title="把某件事作为另一件事导入"></a>把某件事作为另一件事导入</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import somemodule</span><br><span class="line">from somemodule import somefunction</span><br><span class="line">from somemodule import somefunction, anotherfunction, yetanotherfunction</span><br><span class="line">from somemodule * <span class="comment">#只有确认自己想要从给定的模块导入所有功能时，才应该使用最后一个版本。</span></span><br><span class="line"><span class="comment">#如果两个模块都有同名方法，使用以下方法</span></span><br><span class="line">module1.open(...)</span><br><span class="line">module2.open(...)</span><br><span class="line"><span class="comment">#或者在导入的时候提供别名</span></span><br><span class="line">import math as foobar</span><br><span class="line">foobar.sqrt(4)</span><br></pre></td></tr></table></figure>

<h3 id="赋值魔法"><a href="#赋值魔法" class="headerlink" title="赋值魔法"></a>赋值魔法</h3><h4 id="序列解包"><a href="#序列解包" class="headerlink" title="序列解包"></a>序列解包</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#多个赋值操作</span></span><br><span class="line">x, y, z = 1, 2, 3</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(x, y, z)</span><br><span class="line"><span class="comment">#交换变量</span></span><br><span class="line">x, y = y, x</span><br><span class="line"><span class="built_in">print</span>(x, y, z)</span><br><span class="line"><span class="comment">#序列解包</span></span><br><span class="line">values = 1, 2, 3</span><br><span class="line"><span class="built_in">print</span>(values)</span><br><span class="line">x, y ,z = values</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line">scoundrel = &#123;<span class="string">'name'</span>: <span class="string">'Robin'</span>, <span class="string">'girlfriend'</span>: <span class="string">'Mrion'</span>&#125;</span><br><span class="line">key, value = scoundrel.popitem()</span><br><span class="line"><span class="built_in">print</span>(key)</span><br><span class="line"><span class="built_in">print</span>(value)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">1 2 3</span><br><span class="line">2 1 3</span><br><span class="line">(1, 2, 3)</span><br><span class="line">1</span><br><span class="line">girlfriend</span><br><span class="line">Mrion</span><br></pre></td></tr></table></figure>

<h4 id="链式赋值"><a href="#链式赋值" class="headerlink" title="链式赋值"></a>链式赋值</h4><p>将同一个值赋给多个变量</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x=y= somefunction()</span><br><span class="line">x = somefunction()</span><br><span class="line">y = x</span><br></pre></td></tr></table></figure>

<h4 id="增量赋值"><a href="#增量赋值" class="headerlink" title="增量赋值"></a>增量赋值</h4><p>+=， -=， *= 等计算</p>
<h3 id="语句块：缩排的乐趣"><a href="#语句块：缩排的乐趣" class="headerlink" title="语句块：缩排的乐趣"></a>语句块：缩排的乐趣</h3><p>python语句中使用冒号开始： 块中的每个语句都是缩进的。当回退到和已经闭合的块一样的缩进量时，就表示当前块已经结束</p>
<h3 id="条件和条件语句"><a href="#条件和条件语句" class="headerlink" title="条件和条件语句"></a>条件和条件语句</h3><p><strong>bool函数</strong> 可以转换其他值为布尔值</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">temp = <span class="string">"I think, therefore I am"</span></span><br><span class="line"><span class="built_in">print</span>(bool(temp))</span><br><span class="line">temp = 42</span><br><span class="line"><span class="built_in">print</span>(bool(temp))</span><br><span class="line">temp = <span class="string">''</span></span><br><span class="line"><span class="built_in">print</span>(bool(temp))</span><br><span class="line">temp = 0</span><br><span class="line"><span class="built_in">print</span>(bool(temp))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">True</span><br><span class="line">True</span><br><span class="line">False</span><br><span class="line">False</span><br></pre></td></tr></table></figure>

<h4 id="条件执行和if语句"><a href="#条件执行和if语句" class="headerlink" title="条件执行和if语句"></a>条件执行和if语句</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">name = input(<span class="string">"What is your name:"</span>)</span><br><span class="line"><span class="keyword">if</span> name.endswith(<span class="string">'Gumby'</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Hello, Mr. Gumby"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Hello, "</span> + name)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">What is your name:winbug Gumby</span><br><span class="line">Hello, Mr. Gumby</span><br><span class="line">What is your name:winbug</span><br><span class="line">Hello, winbug</span><br></pre></td></tr></table></figure>

<h4 id="elif子句"><a href="#elif子句" class="headerlink" title="elif子句"></a>elif子句</h4><p>如需检查多个条件的时候使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">num = int(input(<span class="string">'Enter a number: '</span>))</span><br><span class="line"><span class="keyword">if</span> num &gt; 0:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"The number is positive"</span>)</span><br><span class="line"><span class="keyword">elif</span> num &lt; 0:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"The number is negative"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"The number is Zero"</span>)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Enter a number: 25</span><br><span class="line">The number is positive</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Enter a number: 0</span><br><span class="line">The number is Zero</span><br></pre></td></tr></table></figure>

<h4 id="更复杂的条件"><a href="#更复杂的条件" class="headerlink" title="更复杂的条件"></a>更复杂的条件</h4><h5 id="Python中的比较运算符"><a href="#Python中的比较运算符" class="headerlink" title="Python中的比较运算符"></a>Python中的比较运算符</h5><table>
<thead>
<tr>
<th>表达式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>x == y</td>
<td>x等于y</td>
</tr>
<tr>
<td>x &lt; y</td>
<td>x小于y</td>
</tr>
<tr>
<td>x &gt; y</td>
<td>x大于y</td>
</tr>
<tr>
<td>x &gt;= y</td>
<td>x大于等于y</td>
</tr>
<tr>
<td>x &lt;= y</td>
<td>x小于等于y</td>
</tr>
<tr>
<td>x != y</td>
<td>x不等于y</td>
</tr>
<tr>
<td>x is y</td>
<td>x和y是同一个对象</td>
</tr>
<tr>
<td>x is not y</td>
<td>x和y是不同的对象</td>
</tr>
<tr>
<td>x in y</td>
<td>x是y容器的成员</td>
</tr>
<tr>
<td>x not in y</td>
<td>x不是y容器的成员</td>
</tr>
</tbody></table>
<h4 id="断点"><a href="#断点" class="headerlink" title="断点"></a>断点</h4><p>再编程过程中需要通过在指定位置增加断点来提示我们这个地方出错</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">age = 10</span><br><span class="line">assert 0 &lt; age &lt; 100</span><br><span class="line">age = -1</span><br><span class="line">assert 0 &lt; age &lt; 100, <span class="string">'这里要大于0'</span></span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"D:\D\python\test\hello.py"</span>, line 4, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    assert 0 &lt; age &lt; 100, <span class="string">'这里要大于0'</span></span><br><span class="line">AssertionError: 这里要大于0</span><br></pre></td></tr></table></figure>

<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><h4 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x = 1</span><br><span class="line"><span class="keyword">while</span> x &lt;= 100:</span><br><span class="line">    <span class="built_in">print</span>(x)</span><br><span class="line">    x += 1</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">*****100</span><br></pre></td></tr></table></figure>

<h4 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">words = [<span class="string">'this'</span>, <span class="string">'is'</span>, <span class="string">'an'</span>, <span class="string">'ex'</span>, <span class="string">'parrot'</span>]</span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> words:</span><br><span class="line">    <span class="built_in">print</span>(word)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">this</span><br><span class="line">is</span><br><span class="line">an</span><br><span class="line">ex</span><br><span class="line">parrot</span><br></pre></td></tr></table></figure>

<p><strong>Range函数</strong>类似于分片，它包含下限，但不包含上限</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> number <span class="keyword">in</span> range(1, 101):</span><br><span class="line">    <span class="built_in">print</span>( number )</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">*****100</span><br></pre></td></tr></table></figure>

<h4 id="循环遍历字典元素"><a href="#循环遍历字典元素" class="headerlink" title="循环遍历字典元素"></a>循环遍历字典元素</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">d = &#123;<span class="string">'x'</span>: 1,</span><br><span class="line">     <span class="string">'y'</span>: 2,</span><br><span class="line">     <span class="string">'z'</span>: 3&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> d:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'Key '</span> + key + <span class="string">'corresponds to '</span> + str(d[key]))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Key xcorresponds to 1</span><br><span class="line">Key ycorresponds to 2</span><br><span class="line">Key zcorresponds to 3</span><br></pre></td></tr></table></figure>

<h4 id="迭代工具"><a href="#迭代工具" class="headerlink" title="迭代工具"></a>迭代工具</h4><ol>
<li>并行迭代<br> zip函数，可以进行并行迭代，把两个序列“压缩”在一起，然后返回一个元组的列表 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">names = [<span class="string">'anne'</span>, <span class="string">'beth'</span>, <span class="string">'george'</span>, <span class="string">'damon'</span>]</span><br><span class="line">ages = [12, 45, 32, 102]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name, age <span class="keyword">in</span> zip(names, ages):</span><br><span class="line">    <span class="built_in">print</span>(name , <span class="string">" is "</span> , age , <span class="string">"years old"</span>)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">anne  is  12 years old</span><br><span class="line">beth  is  45 years old</span><br><span class="line">george  is  32 years old</span><br><span class="line">damon  is  102 years old</span><br></pre></td></tr></table></figure></li>
<li>编号迭代<br> enumerate函数， 这个函数可以提供索引的地方迭代索引值对 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">stri = [<span class="string">'winbug'</span>, <span class="string">'xxx'</span>,<span class="string">'zzz'</span>]</span><br><span class="line"><span class="keyword">for</span> index, string <span class="keyword">in</span> enumerate(stri):</span><br><span class="line">    <span class="keyword">if</span> <span class="string">'xxx'</span> <span class="keyword">in</span> string:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'在'</span>, index+1,<span class="string">'处修改了'</span>,stri[index],<span class="string">'为censored'</span>)</span><br><span class="line">        stri[index] = <span class="string">'censored'</span></span><br><span class="line"><span class="built_in">print</span>(stri)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">在 2 处修改了 xxx 为censored</span><br><span class="line">[<span class="string">'winbug'</span>, <span class="string">'censored'</span>, <span class="string">'zzz'</span>]</span><br></pre></td></tr></table></figure></li>
<li>翻转和排序迭代<br> reversed函数，将列表元素全部反转<br> sorted函数，将列表元素全部按字母排序</li>
</ol>
<h4 id="跳出循环"><a href="#跳出循环" class="headerlink" title="跳出循环"></a>跳出循环</h4><ol>
<li>break<br> 结束跳出循环 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">from math import sqrt</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> range(99, 0, -1):</span><br><span class="line">    root = sqrt(n)</span><br><span class="line">    <span class="keyword">if</span> root == int(root):</span><br><span class="line">        <span class="built_in">print</span>(n)</span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">81 <span class="comment">#获得100以内最大平方数</span></span><br></pre></td></tr></table></figure></li>
<li>continue<br> 跳到下一轮循环开始</li>
<li>while True/break习语<br> while True实现了一个永远不会自己停止的循环。 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> True:</span><br><span class="line">    word = input(<span class="string">'Please enter a word: '</span>)</span><br><span class="line">    <span class="keyword">if</span> not word: <span class="built_in">break</span></span><br><span class="line">    <span class="comment">#处理word</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"The word was "</span> + word) </span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Please enter a word: winbug</span><br><span class="line">The word was winbug</span><br><span class="line">Please enter a word: face</span><br><span class="line">The word was face</span><br><span class="line">Please enter a word: you</span><br><span class="line">The word was you</span><br><span class="line">Please enter a word: </span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="循环中的else子句"><a href="#循环中的else子句" class="headerlink" title="循环中的else子句"></a>循环中的else子句</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">from math import sqrt</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> range(99, 81, -1):</span><br><span class="line">    root = sqrt(n)</span><br><span class="line">    <span class="keyword">if</span> root == int(root):</span><br><span class="line">        <span class="built_in">print</span>(n)</span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line"><span class="keyword">else</span>:  <span class="comment">#注意这里的else的位置，他不是上一个语句if的 else 而是 for的 else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Didn't find it!"</span>)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Didn<span class="string">'t find it!</span></span><br></pre></td></tr></table></figure>

<h3 id="列表推导式——轻量级循环"><a href="#列表推导式——轻量级循环" class="headerlink" title="列表推导式——轻量级循环"></a>列表推导式——轻量级循环</h3><p>列表推导式：是通过其他列表来创建新列表的一种方法。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">number = [x*x <span class="keyword">for</span> x <span class="keyword">in</span> range(10)]</span><br><span class="line"><span class="built_in">print</span>(number)</span><br><span class="line"><span class="comment">#x*x并且能被3整除的序列</span></span><br><span class="line">number = [x*x <span class="keyword">for</span> x <span class="keyword">in</span> range(10) <span class="keyword">if</span> x%3 == 0]</span><br><span class="line"><span class="built_in">print</span>(number)</span><br><span class="line">lists = [(x, y) <span class="keyword">for</span> x <span class="keyword">in</span> range(3) <span class="keyword">for</span> y <span class="keyword">in</span> range(3)]</span><br><span class="line"><span class="built_in">print</span>(lists)</span><br><span class="line">girls = [<span class="string">'alice'</span>, <span class="string">'bernice'</span>, <span class="string">'clarice'</span>]</span><br><span class="line">boys = [<span class="string">'chris'</span>, <span class="string">'arnold'</span>, <span class="string">'bob'</span>]</span><br><span class="line">names = [b + <span class="string">'+'</span> + g <span class="keyword">for</span> b <span class="keyword">in</span> girls <span class="keyword">for</span> g <span class="keyword">in</span> boys <span class="keyword">if</span> b[0]==g[0]]</span><br><span class="line"><span class="built_in">print</span>(names)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span><br><span class="line">[0, 9, 36, 81]</span><br><span class="line">[(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)]</span><br><span class="line">[<span class="string">'alice+arnold'</span>, <span class="string">'bernice+bob'</span>, <span class="string">'clarice+chris'</span>]</span><br></pre></td></tr></table></figure>

<h3 id="三人行-pass-del-exec"><a href="#三人行-pass-del-exec" class="headerlink" title="三人行 pass, del, exec"></a>三人行 pass, del, exec</h3><h4 id="pass"><a href="#pass" class="headerlink" title="pass"></a>pass</h4><p>pass多用于测试的时候，它可以作为一个占位符，不引起python的错误</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> xxxxx:</span><br><span class="line">    code.....</span><br><span class="line"><span class="keyword">elif</span> xxxx:</span><br><span class="line">    <span class="comment">#没有写代码</span></span><br><span class="line">    pass</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    xxxxxxx</span><br></pre></td></tr></table></figure>

<h4 id="del"><a href="#del" class="headerlink" title="del"></a>del</h4><p>使用del语句移除一个对象的引用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x = 1</span><br><span class="line">del x</span><br><span class="line"><span class="built_in">print</span>(x)  <span class="comment">#出错</span></span><br></pre></td></tr></table></figure>

<h3 id="第5章的新函数"><a href="#第5章的新函数" class="headerlink" title="第5章的新函数"></a>第5章的新函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>chr(n)</td>
<td>当传入序号n时，返回n所代表的包含一个字符的字符串</td>
</tr>
<tr>
<td>eval(source[, globals[, locals]])</td>
<td>将字符串作为表达式计算，并且返回值</td>
</tr>
<tr>
<td>enumerate(seq)</td>
<td>产生用于迭代的(索引， 值)对</td>
</tr>
<tr>
<td>ord(c)</td>
<td>返回单字符字符串的int值</td>
</tr>
<tr>
<td>range([start,] stop[, step])</td>
<td>创建整数的列表</td>
</tr>
<tr>
<td>reversed(seq)</td>
<td>产生seq中值的反向版本，用于迭代</td>
</tr>
<tr>
<td>sorted(seq[, cmp][, key][, reverse])</td>
<td>返回seq中值排序后的列表</td>
</tr>
<tr>
<td>xrange([start,] stop[,step])</td>
<td>创造xrange对象用于迭代</td>
</tr>
<tr>
<td>zip(seq1,seq2…)</td>
<td>创造用于并行迭代的新序列</td>
</tr>
</tbody></table>
<h2 id="第6章-抽象-函数"><a href="#第6章-抽象-函数" class="headerlink" title="第6章 抽象(函数)"></a>第6章 抽象(函数)</h2><p>本章介绍函数及其参数作用域的概念。</p>
<h3 id="在程序中懶惰即美德"><a href="#在程序中懶惰即美德" class="headerlink" title="在程序中懶惰即美德"></a>在程序中懶惰即美德</h3><p>通过自定义函数等方法，提高编程速度。减少代码。</p>
<h3 id="抽象和結構"><a href="#抽象和結構" class="headerlink" title="抽象和結構"></a>抽象和結構</h3><h3 id="创建函数"><a href="#创建函数" class="headerlink" title="创建函数"></a>创建函数</h3><p>函数 是可以调用执行某种行为并且返回一个值，一般来说，内建的callable函数可以用来判断是否可以调用。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import math</span><br><span class="line">x = 1</span><br><span class="line">y = math.sqrt</span><br><span class="line"><span class="built_in">print</span>(callable(x))</span><br><span class="line"><span class="built_in">print</span>(callable(y))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">False</span><br><span class="line">True</span><br></pre></td></tr></table></figure>

<p>函数 由def语句创建</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">def hello(name):</span><br><span class="line">    <span class="built_in">return</span> <span class="string">'Hello, '</span> + name + <span class="string">'!'</span></span><br><span class="line"><span class="built_in">print</span>(hello(<span class="string">'winbug'</span>))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Hello, winbug!</span><br></pre></td></tr></table></figure>

<h4 id="记录函数"><a href="#记录函数" class="headerlink" title="记录函数"></a>记录函数</h4><p>为了代码便于理解，创建说明文档</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">def hello(name):</span><br><span class="line">    <span class="string">'This is a commit for hello'</span></span><br><span class="line">    <span class="built_in">return</span> <span class="string">'Hello, '</span> + name + <span class="string">'!'</span></span><br><span class="line">&gt;&gt;&gt; hello.__doc__</span><br><span class="line"><span class="string">'This is a commit for hello'</span></span><br></pre></td></tr></table></figure>

<p>内建的help函数也是非常有用的</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="built_in">help</span>(hello)</span><br><span class="line">Help on <span class="keyword">function</span> hello <span class="keyword">in</span> module __main__:</span><br><span class="line"></span><br><span class="line">hello(name)</span><br><span class="line">    This is a commit <span class="keyword">for</span> hello</span><br></pre></td></tr></table></figure>

<h3 id="参数魔法"><a href="#参数魔法" class="headerlink" title="参数魔法"></a>参数魔法</h3><h4 id="值从哪里来"><a href="#值从哪里来" class="headerlink" title="值从哪里来"></a>值从哪里来</h4><p>一般函数的值来源于参数， 卸载def语句中函数名后面的变量通常叫做函数的形式参数（形参），而调用函数的时候提供的为实际参数（实参）</p>
<h4 id="参数能改变么？"><a href="#参数能改变么？" class="headerlink" title="参数能改变么？"></a>参数能改变么？</h4><p>在函数内为参数赋予新值不会改变外部任何变量的值。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">def try_to_change(n):</span><br><span class="line">    n = <span class="string">"Mr. Gumby"</span></span><br><span class="line"></span><br><span class="line">name = <span class="string">"Mrs. Winbug"</span></span><br><span class="line">try_to_change(name)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(name)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Mrs. Winbug</span><br></pre></td></tr></table></figure>

<p>特殊情况， 当同时引用列表的时候会改变外部的值</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">def change(n):</span><br><span class="line">    n[0] = <span class="string">'Mr. winbug'</span></span><br><span class="line"></span><br><span class="line">names = [<span class="string">'Mr. Gumby'</span>, <span class="string">'Mrs. Thing'</span>]</span><br><span class="line"></span><br><span class="line">change(names)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(names)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">[<span class="string">'Mr. winbug'</span>, <span class="string">'Mrs. Thing'</span>]</span><br></pre></td></tr></table></figure>

<h4 id="关键字参数和默认值"><a href="#关键字参数和默认值" class="headerlink" title="关键字参数和默认值"></a>关键字参数和默认值</h4><ol>
<li>关键字参数<br> 有些时候（参数多的情况下），参数的顺序很难记住。为了让事情变的简单，可以提供参数的名字，这类使用参数名提供的参数叫关键字参数 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">def hello(greeting = <span class="string">'hello'</span>, name= <span class="string">'world'</span>):</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"%s, %s"</span> % (greeting, name))</span><br><span class="line"></span><br><span class="line">hello()</span><br><span class="line">hello(<span class="string">'Greeting'</span>)</span><br><span class="line">hello(name = <span class="string">'winbug'</span>)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">hello, world</span><br><span class="line">Greeting, world</span><br><span class="line">hello, winbug</span><br></pre></td></tr></table></figure></li>
<li>默认值<br> 关键字参数最厉害的地方在于可以在函数中给参数提供默认值</li>
</ol>
<h4 id="收集数据（参数的任意数量）"><a href="#收集数据（参数的任意数量）" class="headerlink" title="收集数据（参数的任意数量）"></a>收集数据（参数的任意数量）</h4><p>使用 * 号即可实现</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">def print_params(title, *params):</span><br><span class="line">    <span class="built_in">print</span>(title, params)</span><br><span class="line"></span><br><span class="line">print_params(<span class="string">"Params "</span>, 1,2,3,4)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Params  (1, 2, 3, 4)</span><br></pre></td></tr></table></figure>

<p>如果想在参数中输入不定量的关键字参数，使用 ** 即可</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">def print_params(title, **params):</span><br><span class="line">    <span class="built_in">print</span>(title, params)</span><br><span class="line"></span><br><span class="line">print_params(<span class="string">"Params "</span>, x=1, y=2, z=3, a=4)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">Params  &#123;<span class="string">'x'</span>: 1, <span class="string">'y'</span>: 2, <span class="string">'z'</span>: 3, <span class="string">'a'</span>: 4&#125;</span><br></pre></td></tr></table></figure>

<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><p>变量存储在作用域（也叫做命名空间）中。Python中有两类主要的作用域——全局作用域和局部作用域。作用域可以嵌套</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">def foo():</span><br><span class="line">    x = 42 <span class="comment">#此处的x的作用域是foo函数内，不能影响外部变量</span></span><br><span class="line">x = 1</span><br><span class="line">foo()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="重绑定全局变量"><a href="#重绑定全局变量" class="headerlink" title="重绑定全局变量"></a>重绑定全局变量</h4><p>利用global来重新在其他作用域绑定全局变量</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">x = 1</span><br><span class="line">def change_global():</span><br><span class="line">    global x <span class="comment">#此处重绑定全局变量</span></span><br><span class="line">    x = x+1</span><br><span class="line">change_global()</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"></span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><p>函数可以调用自身——如果它这么做了就叫做递归。一切用递归实现的功能都可以用循环实现，但是有些时候递归函数更易读</p>
<h4 id="阶乘和幂"><a href="#阶乘和幂" class="headerlink" title="阶乘和幂"></a>阶乘和幂</h4><p><strong>阶乘</strong><br>普通版</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">def factorial(n):</span><br><span class="line">    result = n</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(1,n):</span><br><span class="line">        result *= i</span><br><span class="line">    <span class="built_in">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(factorial(5))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">120</span><br></pre></td></tr></table></figure>

<p>递归版</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">def factorial(n):</span><br><span class="line">    <span class="keyword">if</span> n == 1:</span><br><span class="line">        <span class="built_in">return</span> 1</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">return</span> n*factorial(n-1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(factorial(5))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">120</span><br></pre></td></tr></table></figure>

<p><strong>幂</strong><br>普通版</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">def power(x, n):</span><br><span class="line">    result = 1</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        result *= x</span><br><span class="line">    <span class="built_in">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(power(2,3))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">8</span><br></pre></td></tr></table></figure>

<p>递归版</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">def power(x, n):</span><br><span class="line">    <span class="keyword">if</span> n==0:</span><br><span class="line">        <span class="built_in">return</span> 1</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">return</span> x * power(x, n-1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(power(2,3))</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\hello.py ===============================</span><br><span class="line">8</span><br></pre></td></tr></table></figure>

<h3 id="第6章的新函数"><a href="#第6章的新函数" class="headerlink" title="第6章的新函数"></a>第6章的新函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>map(func, seq[,seq,….])</td>
<td>对序列中的每个元素应用函数</td>
</tr>
<tr>
<td>filter(func, seq)</td>
<td>返回其函数为真的元素的列表</td>
</tr>
<tr>
<td>reduce(func, seq[, initial])</td>
<td>等同于 func(func(func(seq[0], seq[1], seq[2])))</td>
</tr>
<tr>
<td>sum(seq)</td>
<td>返回seq中所有元素的和</td>
</tr>
<tr>
<td>apply(func[, args[, kwargs]])</td>
<td>调用函数，可以提供参数</td>
</tr>
</tbody></table>
<h2 id="第7章-更加抽象（对象）"><a href="#第7章-更加抽象（对象）" class="headerlink" title="第7章 更加抽象（对象）"></a>第7章 更加抽象（对象）</h2><h3 id="对象的魔力"><a href="#对象的魔力" class="headerlink" title="对象的魔力"></a>对象的魔力</h3><p><strong>对象</strong> 对象包括特性和方法。特性只是作为对象的一部分的变量，方法则是存储在对象内的函数。方法和其他函数的区别在于方法总是将对象作为自己的第一个参数，这个参数一般称为self。<br>对象的优点<br><em>本书中提到的特性，其实就是对象中的属性</em></p>
<ol>
<li>多态(Plymorphism): 意味着可以对不同类的对象使用同样的操作。</li>
<li>封装(Encapsulation): 对外部世界隐藏对象的工作细节。</li>
<li>继承(Inheritance): 以普通的类为基础建立专门的类对象。</li>
</ol>
<h4 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h4><p><strong>多态</strong> 是实现将不同类型和类的对象进行同样对待的特性<br>多态代表变量所引用的对象不知道是什么类型</p>
<ol>
<li>多态及方法 绑定到对象特性上面的函数称为方法</li>
<li>多态的多钟形态 任何不知道对象到底是什么类型，但是又要对对象做点什么的时候，都会用到多态。这不仅限于方法，很多内建运算符和函数都有多态的性质。</li>
</ol>
<h4 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h4><p><strong>封装</strong> 对象可以将他们的内部状态隐藏起来。在一些语言中，这意味着对象的状态只对自己的方法可用。在Python中，所有的特性都是公开可用的<br>对全局作用域中其他区域隐藏多余的信息</p>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><p><strong>继承</strong> 一个类可以是一个或者多个类的子类。子类从超类继承所有方法。可以使用多个超类。</p>
<h3 id="类和类型"><a href="#类和类型" class="headerlink" title="类和类型"></a>类和类型</h3><p><strong>类</strong> 类代表对象的集合，每个对象都有一个类。类的主要任务是定义它的实例会用到的方法<br><strong>实例</strong> 所有的对象都属于某一个类，称为类的实例<br><strong>子类</strong> 当一个对象所属的类是另一个对象所属类的子集时，前者就被称为后者的子类</p>
<h4 id="创建类"><a href="#创建类" class="headerlink" title="创建类"></a>创建类</h4><p>self可以叫做自身，也可以理解为其他语言的this</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">__metaclass__ = <span class="built_in">type</span> <span class="comment">#确定使用新式类</span></span><br><span class="line"></span><br><span class="line">class Person:</span><br><span class="line">    def setName(self, name):</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    def getName(self):</span><br><span class="line">        <span class="built_in">return</span> self.name</span><br><span class="line"></span><br><span class="line">    def greet(self):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Hello, World! I'm %s."</span> % self.name)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\class.py ===============================</span><br><span class="line">&gt;&gt;&gt; foo = Person()</span><br><span class="line">&gt;&gt;&gt; bar = Person()</span><br><span class="line">&gt;&gt;&gt; foo.setName(<span class="string">"winbug"</span>)</span><br><span class="line">&gt;&gt;&gt; bar.setName(<span class="string">'Anakin Skywalker'</span>)</span><br><span class="line">&gt;&gt;&gt; foo.greet()</span><br><span class="line">Hello, World! I<span class="string">'m winbug.</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; bar.greet()</span></span><br><span class="line"><span class="string">Hello, World! I'</span>m Anakin Skywalker.</span><br></pre></td></tr></table></figure>

<h4 id="设置私有函数"><a href="#设置私有函数" class="headerlink" title="设置私有函数"></a>设置私有函数</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">__metaclass__ = <span class="built_in">type</span> <span class="comment">#确定使用新式类</span></span><br><span class="line"></span><br><span class="line">class Secetive:</span><br><span class="line"></span><br><span class="line">    def __inaccessible(self):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Bet you can't see me.."</span>)</span><br><span class="line">    def accessible(self):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"The secret message is:"</span>)</span><br><span class="line">        self.__inaccessible()</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\class.py ===============================</span><br><span class="line">&gt;&gt;&gt; s = Secetive</span><br><span class="line">&gt;&gt;&gt; s.accessible()</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;pyshell#5&gt;"</span>, line 1, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    s.accessible()</span><br><span class="line">TypeError: accessible() missing 1 required positional argument: <span class="string">'self'</span></span><br><span class="line">&gt;&gt;&gt; s = Secetive()</span><br><span class="line">&gt;&gt;&gt; s.accessible()</span><br><span class="line">The secret message is:</span><br><span class="line">Bet you can<span class="string">'t see me..</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; s.__inaccessible()</span></span><br><span class="line"><span class="string">Traceback (most recent call last):</span></span><br><span class="line"><span class="string">  File "&lt;pyshell#8&gt;", line 1, in &lt;module&gt;</span></span><br><span class="line"><span class="string">    s.__inaccessible()</span></span><br><span class="line"><span class="string">AttributeError: '</span>Secetive<span class="string">' object has no attribute '</span>__inaccessible<span class="string">'</span></span><br></pre></td></tr></table></figure>

<p>使用 __ (两个下划线后）我们无法直接从外部直接访问类内的方法了。不过如果使用以下方法，还是可以访问的，不过不推荐使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; s._Secetive__inaccessible()</span><br><span class="line">Bet you can<span class="string">'t see me..</span></span><br></pre></td></tr></table></figure>

<h4 id="类的命名空间"><a href="#类的命名空间" class="headerlink" title="类的命名空间"></a>类的命名空间</h4><p>类命名空间，所有位于class语句中的代码都在特殊的命名空间中执行</p>
<h4 id="指定超类-父类"><a href="#指定超类-父类" class="headerlink" title="指定超类(父类)"></a>指定超类(父类)</h4><p>在所有class语句后面的括号内可以指定超类</p>
<h4 id="调查继承"><a href="#调查继承" class="headerlink" title="调查继承"></a>调查继承</h4><p>如果想查看一个类是否是另一个的子类，可以使用内建的issubclass函数查看<br>如果想要知道已知类的基类（们），可以使用他的特殊特性 <strong>bases</strong>查看<br>同样，还可以使用isinstance方法检查一个对象是否是一个类的实例</p>
<h4 id="多个超类"><a href="#多个超类" class="headerlink" title="多个超类"></a>多个超类</h4><p>例如</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">class Calculator:</span><br><span class="line">  def calculate(self):</span><br><span class="line">    ....</span><br><span class="line"></span><br><span class="line">class Talker:</span><br><span class="line">  def talk(self):</span><br><span class="line">    ....</span><br><span class="line"></span><br><span class="line">class TYalkingCalculator(calculator, Talker): <span class="comment">#同时继承了两个类</span></span><br><span class="line">  pass</span><br></pre></td></tr></table></figure>

<h4 id="关于面向对象设计的思考"><a href="#关于面向对象设计的思考" class="headerlink" title="关于面向对象设计的思考"></a>关于面向对象设计的思考</h4><ol>
<li>将属于一类的对象放在一起</li>
<li>不要让对象过于亲密，方法应该只关心自己实例的特性。让其他实例管理自己的状态</li>
<li>要小心继承，尤其是多继承。</li>
<li>简单就好。 让你的方法小巧。</li>
</ol>
<h3 id="第7章的新函数"><a href="#第7章的新函数" class="headerlink" title="第7章的新函数"></a>第7章的新函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>callable(object)</td>
<td>确定对象是否可以调用</td>
</tr>
<tr>
<td>getattr(object, name[, default])</td>
<td>确定特性（属性）的值</td>
</tr>
<tr>
<td>hasattr(object, name)</td>
<td>去顶对象是否有给定的特性（属性）</td>
</tr>
<tr>
<td>isinstance(object, class)</td>
<td>确定对象是否是类的实例</td>
</tr>
<tr>
<td>issubclass(A, B)</td>
<td>确定A是否是B的子类</td>
</tr>
<tr>
<td>random.choice(sequence)</td>
<td>从非空序列中随机选择元素</td>
</tr>
<tr>
<td>setattr(object, name, value)</td>
<td>设定对象的给定特性(属性)的值</td>
</tr>
<tr>
<td>type(object)</td>
<td>返回对象的类型</td>
</tr>
</tbody></table>
<h2 id="第8章-异常"><a href="#第8章-异常" class="headerlink" title="第8章 异常"></a>第8章 异常</h2><h3 id="什么是异常"><a href="#什么是异常" class="headerlink" title="什么是异常"></a>什么是异常</h3><p>Python用异常对象(exception object)来表示异常情况。遇到错误后，会引发异常。</p>
<h3 id="按自己的方式出错"><a href="#按自己的方式出错" class="headerlink" title="按自己的方式出错"></a>按自己的方式出错</h3><h4 id="raise语句"><a href="#raise语句" class="headerlink" title="raise语句"></a>raise语句</h4><p>raise语句可以创建一个错误实例</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; raise Exception</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;pyshell#0&gt;"</span>, line 1, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    raise Exception</span><br><span class="line">Exception</span><br><span class="line">&gt;&gt;&gt; raise Exception(<span class="string">'hyperdrive overload'</span>) <span class="comment">#添加一个错误信息</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;pyshell#1&gt;"</span>, line 1, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    raise Exception(<span class="string">'hyperdrive overload'</span>)</span><br><span class="line">Exception: hyperdrive overload  <span class="comment">#此处显示</span></span><br></pre></td></tr></table></figure>

<p><strong>一些内建异常</strong> 表</p>
<table>
<thead>
<tr>
<th>类名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>Exception</td>
<td>所有异常的基类</td>
</tr>
<tr>
<td>AttributeError</td>
<td>特性引用或赋值失败时引发</td>
</tr>
<tr>
<td>IOError</td>
<td>试图打开不存在的文件时引发</td>
</tr>
<tr>
<td>IndexError</td>
<td>在使用序列中不存在的索引时引发</td>
</tr>
<tr>
<td>KeyError</td>
<td>在使用映射中不存在的键时引发</td>
</tr>
<tr>
<td>NameError</td>
<td>在找不到名字（变量）时引发</td>
</tr>
<tr>
<td>SyntaxError</td>
<td>在代码为错误形式时引发</td>
</tr>
<tr>
<td>TypeError</td>
<td>在内建操作或者函数应用于错误类型的对象时引发</td>
</tr>
<tr>
<td>ValueError</td>
<td>在内建操作或者函数应用于正确类型的对象，但该对象使用不合适的值时引发</td>
</tr>
<tr>
<td>ZeroDivisionError</td>
<td>在除法的第二个参数为0时引发</td>
</tr>
</tbody></table>
<h4 id="自定义异常类"><a href="#自定义异常类" class="headerlink" title="自定义异常类"></a>自定义异常类</h4><p>class SomeCustomException(Excption): 这样我们就定义了一个自定义异常类</p>
<h3 id="捕捉异常"><a href="#捕捉异常" class="headerlink" title="捕捉异常"></a>捕捉异常</h3><p>可以通过try/except来捕捉异常</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">try:</span><br><span class="line">    x = int(input(<span class="string">"Enter the first number: "</span>))</span><br><span class="line">    y = int(input(<span class="string">"Enter the second number: "</span>))</span><br><span class="line">    <span class="built_in">print</span>( x/y )</span><br><span class="line">except ZeroDivisionError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"The second number can't be Zero!"</span>)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\error.py ===============================</span><br><span class="line">Enter the first number: 1</span><br><span class="line">Enter the second number: 0</span><br><span class="line">The second number can<span class="string">'t be Zero!</span></span><br></pre></td></tr></table></figure>

<p>except可以根据情况设置多个，而且可以用一个块捕捉两个异常<br>如</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">except (ZeroDivisionError, TypeError, NameError):</span><br></pre></td></tr></table></figure>

<h4 id="真正的全部捉"><a href="#真正的全部捉" class="headerlink" title="真正的全部捉"></a>真正的全部捉</h4><p>有些异常是我们不能预见的，所以可以使用以下代码，直接捕捉全部的异常，统一显示出错内容</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">try:</span><br><span class="line">    x = int(input(<span class="string">"Enter the first number: "</span>))</span><br><span class="line">    y = int(input(<span class="string">"Enter the second number: "</span>))</span><br><span class="line">    <span class="built_in">print</span>( x/y )</span><br><span class="line">except:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Something wrong happened"</span>)</span><br></pre></td></tr></table></figure>

<h4 id="完整版的异常捕捉"><a href="#完整版的异常捕捉" class="headerlink" title="完整版的异常捕捉"></a>完整版的异常捕捉</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> True:</span><br><span class="line">    try:</span><br><span class="line">        x = int(input(<span class="string">'Enter the first number: '</span>))</span><br><span class="line">        y = int(input(<span class="string">'Entre the second number: '</span>))</span><br><span class="line">        value = x/y</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'x / y is '</span>, value)</span><br><span class="line">    except Exception as e:  <span class="comment">#在python3以后已经不支持 Exception.e这种形式，需要使用 as e</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'Invalid input:'</span>, e)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'Please try again'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\error.py ===============================</span><br><span class="line">Enter the first number: </span><br><span class="line">Invalid input: invalid literal <span class="keyword">for</span> int() with base 10: <span class="string">''</span></span><br><span class="line">Please try again</span><br><span class="line">Enter the first number: 20</span><br><span class="line">Entre the second number: 0</span><br><span class="line">Invalid input: division by zero</span><br><span class="line">Please try again</span><br><span class="line">Enter the first number:</span><br></pre></td></tr></table></figure>

<h4 id="Finally子句"><a href="#Finally子句" class="headerlink" title="Finally子句"></a>Finally子句</h4><p>Finally子句一般和try/except联合使用，finally子句一定会被执行，不管是否发生异常</p>
<h2 id="第9章-魔法方法，属性和迭代器"><a href="#第9章-魔法方法，属性和迭代器" class="headerlink" title="第9章 魔法方法，属性和迭代器"></a>第9章 魔法方法，属性和迭代器</h2><p>绝不要在自己的程序中以__命名变量。在python中有这些名字组成的集合所包含的方法称为魔法方法</p>
<h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><p>为了确保类是最新型的，应该把赋值语句<strong>metaclass</strong> = type放在模块的最开始。（<em>python3.0之后没有旧式类，所以可以不用显式的写</em>）</p>
<h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><p>构造方法， 这是面向对象的语言共有的，可能要为自己写的每个类实现构造方法。构造方法被命名为<strong>init</strong>并且在对象被创建后立即自动调用</p>
<p>在python中创建一个构造方法很容易。只要把init方法的名字从简单的init修改为魔法版本 <strong>init</strong>即可。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">class Foobar:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.somevar = 42</span><br><span class="line">&gt;&gt;&gt; v=Foobar()</span><br><span class="line">&gt;&gt;&gt; v.somevar</span><br><span class="line">42</span><br></pre></td></tr></table></figure>

<h4 id="重写及特殊的构造方法"><a href="#重写及特殊的构造方法" class="headerlink" title="重写及特殊的构造方法"></a>重写及特殊的构造方法</h4><p>重写， 一个类能通过实现方法来重写它的超类中定义的这些方法和属性。如果新方法要调用重写版本的方法，可以从超类直接调用未绑定的版本或者使用super函数。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">class A:</span><br><span class="line">    def hello(self):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Hello, I'm A."</span>)</span><br><span class="line"></span><br><span class="line">class B(A):</span><br><span class="line">    def hello(self): <span class="comment">#重写超类的hello方法</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Hello, I'm B."</span>)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\class.py ===============================</span><br><span class="line">&gt;&gt;&gt; a = A()</span><br><span class="line">&gt;&gt;&gt; a.hello()</span><br><span class="line">Hello, I<span class="string">'m A.</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; b = B()</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; b.hello()</span></span><br><span class="line"><span class="string">Hello, I'</span>m B.</span><br></pre></td></tr></table></figure>

<p>构造方法的重写比较特殊，构造方法被重写，但新的构造方法没有任何关于初始化属性的代码。为了达到预期的效果，就要调用超类构造方法的未绑定版本或者使用super函数</p>
<h4 id="调用未绑定的超类构造方法"><a href="#调用未绑定的超类构造方法" class="headerlink" title="调用未绑定的超类构造方法"></a>调用未绑定的超类构造方法</h4><p>调用超类的构造方法很容易。一般构造方法都是未绑定的，所以可以使用此方法</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">class Bird:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.hungry = True</span><br><span class="line">    def eat(self):</span><br><span class="line">        <span class="keyword">if</span> self.hungry:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Aaaah..."</span>)</span><br><span class="line">            self.hungry = False</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"No, Thanks."</span>)</span><br><span class="line"></span><br><span class="line">class SongBird(Bird):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        Bird.__init__(self) <span class="comment">#调用了超类的构造方法</span></span><br><span class="line">        self.sound = <span class="string">'Squawk!'</span></span><br><span class="line">    def sing(self):</span><br><span class="line">        <span class="built_in">print</span>(self.sound)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\class.py ===============================</span><br><span class="line">&gt;&gt;&gt; sb = SongBird()</span><br><span class="line">&gt;&gt;&gt; sb.eat()</span><br><span class="line">Aaaah...</span><br><span class="line">&gt;&gt;&gt; sb.sing()</span><br><span class="line">Squawk!</span><br><span class="line">&gt;&gt;&gt; sb.eat()</span><br><span class="line">No, Thanks.</span><br></pre></td></tr></table></figure>

<h4 id="使用super函数"><a href="#使用super函数" class="headerlink" title="使用super函数"></a>使用super函数</h4><p>在新版Python中，我们可以直接使用super函数来调用超类的构造方法。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">class Bird:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.hungry = True</span><br><span class="line">    def eat(self):</span><br><span class="line">        <span class="keyword">if</span> self.hungry:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Aaaah..."</span>)</span><br><span class="line">            self.hungry = False</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"No, Thanks."</span>)</span><br><span class="line"></span><br><span class="line">class SongBird(Bird):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        super(SongBird, self).__init__() <span class="comment">#在新版python中直接使用super</span></span><br><span class="line">        self.sound = <span class="string">'Squawk!'</span></span><br><span class="line">    def sing(self):</span><br><span class="line">        <span class="built_in">print</span>(self.sound)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\class.py ===============================</span><br><span class="line">&gt;&gt;&gt; sb = SongBird()</span><br><span class="line">&gt;&gt;&gt; sb.eat()</span><br><span class="line">Aaaah...</span><br><span class="line">&gt;&gt;&gt; sb.sing()</span><br><span class="line">Squawk!</span><br><span class="line">&gt;&gt;&gt; sb.eat()</span><br><span class="line">No, Thanks.</span><br></pre></td></tr></table></figure>

<h3 id="成员访问"><a href="#成员访问" class="headerlink" title="成员访问"></a>成员访问</h3><h4 id="基本的序列和映射规则"><a href="#基本的序列和映射规则" class="headerlink" title="基本的序列和映射规则"></a>基本的序列和映射规则</h4><p>序列和映射是对象的集合</p>
<p><strong><em>_len</em>(self):</strong> 这个方法应该返回集合中所含项目的数量。如果<strong>len</strong>返回0，而且没有设置<strong>nonzero</strong>，对象会被当作一个布尔值变量中的假值进行处理<br><strong><strong>getitem</strong>(self.key)</strong> 这个方法返回与所给键对应的值。<br><strong><strong>setitem</strong>(self, key, value)</strong> 这个方法应该按一定的方式存储和key相关的value。<br><strong><strong>delitem</strong>(self, key)</strong> 这个方法在对一部分对象使用del语句时被调用，同时必须删除和元素相关的键。</p>
<h3 id="property函数"><a href="#property函数" class="headerlink" title="property函数"></a>property函数</h3><p>property函数非常简单，它创建一个属性，并把访问器函数用作参数。使处理属性更简单方便</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">class Rectangle:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.width = 0</span><br><span class="line">        self.height = 0</span><br><span class="line">    def setSize(self, size):</span><br><span class="line">        self.width, self.height = size</span><br><span class="line">    def getSize(self):</span><br><span class="line">        <span class="built_in">return</span> self.width, self.height</span><br><span class="line"></span><br><span class="line">    size = property(getSize, setSize)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\class.py ===============================</span><br><span class="line">&gt;&gt;&gt; r = Rectangle()</span><br><span class="line">&gt;&gt;&gt; r.width = 10</span><br><span class="line">&gt;&gt;&gt; r.height = 5</span><br><span class="line">&gt;&gt;&gt; r.size</span><br><span class="line">(10, 5)</span><br><span class="line">&gt;&gt;&gt; r.size = 150, 100</span><br><span class="line">&gt;&gt;&gt; r.width</span><br><span class="line">150</span><br></pre></td></tr></table></figure>

<h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><p>迭代器， 是带有next方法的简单对象。迭代器能在一系列的值上进行迭代。当没有值可供迭代时，next方法就会引发StopIteration异常。可迭代对象有一个返回迭代器的<strong>iter</strong>方法，他能像序列那样在for循环中使用。一般来说，迭代器本身也是可以迭代的，即迭代器有返回他自己的next方法。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">class TestIterator:</span><br><span class="line">    value = 0</span><br><span class="line">    def __next__(self): <span class="comment">#python3之后 next()停用，使用__next__()</span></span><br><span class="line">        self.value += 1</span><br><span class="line">        <span class="keyword">if</span> self.value &gt; 10: raise StopIteration</span><br><span class="line">        <span class="built_in">return</span> self.value</span><br><span class="line">    def __iter__(self):</span><br><span class="line">        <span class="built_in">return</span> self</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\class.py ===============================</span><br><span class="line">&gt;&gt;&gt; ti = TestIterator()</span><br><span class="line">&gt;&gt;&gt; list(ti)</span><br><span class="line">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span><br></pre></td></tr></table></figure>

<h3 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h3><p>生成器是python新引入的概念，它可以帮助程序人员写出非常优雅的代码，它是一种用普通的函数语法定义的迭代器。任何包含yield语句的函数称为生成器，生成器返回一个迭代器。每次请求一个值，就会执行生成器中的代码，直到遇到一个yield或return语句。</p>
<h4 id="创建生成器"><a href="#创建生成器" class="headerlink" title="创建生成器"></a>创建生成器</h4><p>创建生成器和创建函数一样简单</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nested = [[1,2],[3,4],[5]]</span><br><span class="line">def flatten(nested):</span><br><span class="line">    <span class="keyword">for</span> sublist <span class="keyword">in</span> nested:</span><br><span class="line">        <span class="keyword">for</span> element <span class="keyword">in</span> sublist:</span><br><span class="line">            yield element</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> flatten(nested):</span><br><span class="line">    <span class="built_in">print</span>(num)</span><br><span class="line">=============================== RESTART: D:\D\python\<span class="built_in">test</span>\class.py ===============================</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">&gt;&gt;&gt; list(flatten(nested))</span><br><span class="line">[1, 2, 3, 4, 5]</span><br></pre></td></tr></table></figure>

<h3 id="第9章的新函数"><a href="#第9章的新函数" class="headerlink" title="第9章的新函数"></a>第9章的新函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>iter(obj)</td>
<td>从一个可选迭代的对象得到迭代器</td>
</tr>
<tr>
<td>property(fget, fset, fdel, doc)</td>
<td>返回一个属性，所有的参数都是可选的</td>
</tr>
<tr>
<td>super(class, obj)</td>
<td>返回一个类的超类的绑定实例</td>
</tr>
</tbody></table>
<h2 id="第10章-充电时刻（模块）"><a href="#第10章-充电时刻（模块）" class="headerlink" title="第10章 充电时刻（模块）"></a>第10章 充电时刻（模块）</h2><h3 id="Python模块"><a href="#Python模块" class="headerlink" title="Python模块"></a>Python模块</h3><p>本章学习如何自己创建模块<br>模块： 从基本上来说，模块就是子程序，它的主函数则用于定义，包括定义函数，类和变量。</p>
<h4 id="模块就是程序"><a href="#模块就是程序" class="headerlink" title="模块就是程序"></a>模块就是程序</h4><h4 id="模块用于定义"><a href="#模块用于定义" class="headerlink" title="模块用于定义"></a>模块用于定义</h4><p>模块在第一次导入到程序中时被执行。真正的用处在于它们像类一样可以保持自己的作用域。这就意味着定义的所有类和函数以及赋值后的变量都成为了模块的属性（特性）</p>
<ol>
<li>在模块中定义函数</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">def hello():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Hello, world!"</span>)</span><br><span class="line">=========================== RESTART: D:\D\python\<span class="built_in">test</span>\module\hello2.py ===========================</span><br><span class="line">&gt;&gt;&gt; import hello2</span><br><span class="line">&gt;&gt;&gt; hello2.hello()</span><br><span class="line">Hello, world!</span><br></pre></td></tr></table></figure>

<p>我们可以使用同样的方法来使用任何在模块的全局作用域中定义的名称。模块的主要功能就是为了代码的重用。避免没有必要的代码重复。</p>
<h4 id="让你的模块可用"><a href="#让你的模块可用" class="headerlink" title="让你的模块可用"></a>让你的模块可用</h4><ol>
<li><p>将模块放置在正确的位置<br> a. 放置到Python解释器放置模块的位置<br> b. 告诉解释器去哪里查找</p>
<pre><code>我们可以通过sys模块中的path变量查找
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import sys, pprint</span><br><span class="line">&gt;&gt;&gt; pprint.pprint(sys.path)</span><br><span class="line">[<span class="string">'D:\\D\\python\\test\\module'</span>,</span><br><span class="line"><span class="string">'D:\\D\\Program Files\\Python\\Lib\\idlelib'</span>,</span><br><span class="line"><span class="string">'D:\\D\\Program Files\\Python\\python36.zip'</span>,</span><br><span class="line"><span class="string">'D:\\D\\Program Files\\Python\\DLLs'</span>,</span><br><span class="line"><span class="string">'D:\\D\\Program Files\\Python\\lib'</span>,</span><br><span class="line"><span class="string">'D:\\D\\Program Files\\Python'</span>,</span><br><span class="line"><span class="string">'C:\\Users\\winbug\\AppData\\Roaming\\Python\\Python36\\site-packages'</span>,</span><br><span class="line"><span class="string">'D:\\D\\Program Files\\Python\\lib\\site-packages'</span>]</span><br></pre></td></tr></table></figure>
*pprint 是非常好用的打印函数，能够更加智能的打印输出*

一般可以放置在site-packages目录中。就可以直接使用import进行调用了
也可以告诉编译器去哪里找，通过在系统环境变量中追加自己的模块位置</code></pre></li>
</ol>
<h4 id="包"><a href="#包" class="headerlink" title="包"></a>包</h4><p>包：包是包含有其他模块的模块。包是作为包含<strong>init</strong>.py文件的目录来实现的。</p>
<h3 id="探索模块"><a href="#探索模块" class="headerlink" title="探索模块"></a>探索模块</h3><h4 id="模块中有什么"><a href="#模块中有什么" class="headerlink" title="模块中有什么"></a>模块中有什么</h4><pre><code>1. 使用dir(), 会将模块的所有特性列出。一些名字以下划线开始，表示他们并不是为在模块外使用而准备的。所以可以忽略
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; dir(copy)</span><br><span class="line">[<span class="string">'Error'</span>, <span class="string">'__all__'</span>, <span class="string">'__builtins__'</span>, <span class="string">'__cached__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__file__'</span>, <span class="string">'__loader__'</span>, <span class="string">'__name__'</span>, <span class="string">'__package__'</span>, <span class="string">'__spec__'</span>, <span class="string">'_copy_dispatch'</span>, <span class="string">'_copy_immutable'</span>, <span class="string">'_deepcopy_atomic'</span>, <span class="string">'_deepcopy_dict'</span>, <span class="string">'_deepcopy_dispatch'</span>, <span class="string">'_deepcopy_list'</span>, <span class="string">'_deepcopy_method'</span>, <span class="string">'_deepcopy_tuple'</span>, <span class="string">'_keep_alive'</span>, <span class="string">'_reconstruct'</span>, <span class="string">'copy'</span>, <span class="string">'deepcopy'</span>, <span class="string">'dispatch_table'</span>, <span class="string">'error'</span>]</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; [n <span class="keyword">for</span> n <span class="keyword">in</span> dir(copy) <span class="keyword">if</span> not n.startswith(<span class="string">'_'</span>)] <span class="comment">#过滤掉以下划线开头的特性</span></span><br><span class="line">[<span class="string">'Error'</span>, <span class="string">'copy'</span>, <span class="string">'deepcopy'</span>, <span class="string">'dispatch_table'</span>, <span class="string">'error'</span>]</span><br></pre></td></tr></table></figure>

2. __all__ 变量 这个变量包含一个列表，该列表定义了模块的公有接口
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; copy.__all__</span><br><span class="line">[<span class="string">'Error'</span>, <span class="string">'copy'</span>, <span class="string">'deepcopy'</span>]</span><br></pre></td></tr></table></figure></code></pre><h4 id="用help获取帮助"><a href="#用help获取帮助" class="headerlink" title="用help获取帮助"></a>用help获取帮助</h4><p>使用help函数可以获得相应函数的说明</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="built_in">help</span>(copy.copy)</span><br><span class="line">Help on <span class="keyword">function</span> copy <span class="keyword">in</span> module copy:</span><br><span class="line"></span><br><span class="line">copy(x)</span><br><span class="line">    Shallow copy operation on arbitrary Python objects.</span><br><span class="line">    </span><br><span class="line">    See the module<span class="string">'s __doc__ string for more info.</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; print(copy.copy.__doc__)</span></span><br><span class="line"><span class="string">Shallow copy operation on arbitrary Python objects.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    See the module'</span>s __doc__ string <span class="keyword">for</span> more info.</span><br></pre></td></tr></table></figure>

<h4 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h4><p><a href="https://www.python.org/doc/" target="_blank" rel="noopener">所有的Python标准文档</a></p>
<h4 id="使用源代码"><a href="#使用源代码" class="headerlink" title="使用源代码"></a>使用源代码</h4><p>阅读源代码事实上是学习python最好的方法。如果想找到标准模块的源代码位置，可以使用<strong>file</strong>属性</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; copy.__file__</span><br><span class="line"><span class="string">'D:\\D\\Program Files\\Python\\lib\\copy.py'</span></span><br></pre></td></tr></table></figure>

<h3 id="标准库"><a href="#标准库" class="headerlink" title="标准库"></a>标准库</h3><h4 id="sys模块"><a href="#sys模块" class="headerlink" title="sys模块"></a>sys模块</h4><p>sys模块能够让你访问与python解释器联系紧密的变量和函数。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>argv</td>
<td>命令行参数， 包含脚本名称</td>
</tr>
<tr>
<td>exit([arg])</td>
<td>退出当前的程序，可选参数为给定的返回值或者错误信息</td>
</tr>
<tr>
<td>modules</td>
<td>映射模块名字到载入模块的字典</td>
</tr>
<tr>
<td>path</td>
<td>查找模块所在目录的目录名列表</td>
</tr>
<tr>
<td>platform</td>
<td>类似sunos5或者win32平台标识符</td>
</tr>
<tr>
<td>stdin</td>
<td>标准输入流 —— 一个类文件对象</td>
</tr>
<tr>
<td>stdout</td>
<td>标准输出流 —— 一个类文件对象</td>
</tr>
<tr>
<td>stderr</td>
<td>标准错误流 —— 一个类文件对象</td>
</tr>
</tbody></table>
<h4 id="os模块"><a href="#os模块" class="headerlink" title="os模块"></a>os模块</h4><p>os模块提供了访问多个操作系统服务的功能。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>environ</td>
<td>对环境变量进行映射</td>
</tr>
<tr>
<td>system(command)</td>
<td>在子shell中执行操作系统命令</td>
</tr>
<tr>
<td>sep</td>
<td>路径中的分隔符</td>
</tr>
<tr>
<td>pathsep</td>
<td>分割路径的分隔符</td>
</tr>
<tr>
<td>linesep</td>
<td>行分隔符(‘\n’, ‘\r’)</td>
</tr>
<tr>
<td>urandom(n)</td>
<td>返回n字节的加密强随机数据</td>
</tr>
</tbody></table>
<h4 id="fileinput模块"><a href="#fileinput模块" class="headerlink" title="fileinput模块"></a>fileinput模块</h4><p>fileinput模块让你能够轻松地遍历文本文件的所有行。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>input([files[, inplace[, backup]]])</td>
<td>便于遍历多个输入流中的行</td>
</tr>
<tr>
<td>filename()</td>
<td>返回当前文件的名称</td>
</tr>
<tr>
<td>lineno()</td>
<td>返回当前（累计）的行数</td>
</tr>
<tr>
<td>filelineno()</td>
<td>放回当前文件的行数</td>
</tr>
<tr>
<td>isfirstline()</td>
<td>检查当前行是否是文件的第一行</td>
</tr>
<tr>
<td>isstdin()</td>
<td>检查最后一行是否来自sys.stdin</td>
</tr>
<tr>
<td>nextfile()</td>
<td>关闭当前文件，移动到下一个文件</td>
</tr>
<tr>
<td>close()</td>
<td>关闭序列</td>
</tr>
</tbody></table>
<h4 id="time模块"><a href="#time模块" class="headerlink" title="time模块"></a>time模块</h4><p>time模块包括，获得当前的时间，操作时间和日期，从字符串读取时间以及格式化时间为字符串。</p>
<p>time.asctime将当前时间格式化为字符串</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import time</span><br><span class="line">&gt;&gt;&gt; time.asctime()</span><br><span class="line"><span class="string">'Mon Jun 25 14:19:48 2018'</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>asctime([tuple])</td>
<td>将时间元祖转换为字符串</td>
</tr>
<tr>
<td>localtime([secs])</td>
<td>将秒数转换为日期元组，以本地时间为准</td>
</tr>
<tr>
<td>mktime(tuple)</td>
<td>将时间元祖转换为本地时间</td>
</tr>
<tr>
<td>sleep(secs)</td>
<td>休眠 secs秒</td>
</tr>
<tr>
<td>strptime(string[, format])</td>
<td>将字符串解析为时间元组</td>
</tr>
<tr>
<td>time()</td>
<td>当前时间（新纪元开始后的秒数，以UTC为准）</td>
</tr>
</tbody></table>
<h4 id="random模块"><a href="#random模块" class="headerlink" title="random模块"></a>random模块</h4><p>random模块返回随机数的函数，可以用于模拟或者用于任何产生随机输出的程序。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>random()</td>
<td>返回 0 ≤ n &lt; 1之前得随机实数n</td>
</tr>
<tr>
<td>getrandbits(n)</td>
<td>以长整型形式返回n个随机位</td>
</tr>
<tr>
<td>uniform(a, b)</td>
<td>返回随机实数n, 其中 a ≤ n &lt; b</td>
</tr>
<tr>
<td>randrange([start], stop, [step])</td>
<td>返回range(start,stop,step)中的随机数</td>
</tr>
<tr>
<td>choice(seq)</td>
<td>从序列seq中返回随意元素</td>
</tr>
<tr>
<td>shuffle(seq[, random])</td>
<td>原地指定序列seq</td>
</tr>
<tr>
<td>sample(seq, n)</td>
<td>从序列seq中选择n个随机且独立的元素</td>
</tr>
</tbody></table>
<h2 id="第11章-文件和素材"><a href="#第11章-文件和素材" class="headerlink" title="第11章 文件和素材"></a>第11章 文件和素材</h2><h3 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h3><p>open函数<br>open(name[, mode[, buffering]])</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; f = open(r<span class="string">'d:\d\python\test\file\test.txt'</span>) <span class="comment">#打开指定文件</span></span><br></pre></td></tr></table></figure>

<h4 id="文件模式"><a href="#文件模式" class="headerlink" title="文件模式"></a>文件模式</h4><table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>‘r’</td>
<td>读模式</td>
</tr>
<tr>
<td>‘w’</td>
<td>写模式</td>
</tr>
<tr>
<td>‘a’</td>
<td>追加模式</td>
</tr>
<tr>
<td>‘b’</td>
<td>二进制模式</td>
</tr>
<tr>
<td>‘+’</td>
<td>读/写模式</td>
</tr>
</tbody></table>
<h4 id="缓冲"><a href="#缓冲" class="headerlink" title="缓冲"></a>缓冲</h4><p>open的第三个参数控制着文件的缓冲， 如果参数是0就是无缓冲，如果是1或大于1开启缓冲，数字代表着缓冲区的大小（单位字节）， -1代表使用默认的缓冲区大小。</p>
<h3 id="基本文件方法"><a href="#基本文件方法" class="headerlink" title="基本文件方法"></a>基本文件方法</h3><h4 id="读和写"><a href="#读和写" class="headerlink" title="读和写"></a>读和写</h4><p>写入</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; f = open(r<span class="string">'d:\d\python\test\file\test.txt'</span>, <span class="string">'w'</span>) <span class="comment">#不加r的情况，将反斜线换成斜线  d:/d/python/test/file/test.txt</span></span><br><span class="line">&gt;&gt;&gt; f.write(<span class="string">'Hello. '</span>)</span><br><span class="line">7</span><br><span class="line">&gt;&gt;&gt; f.write(<span class="string">'World!'</span>)</span><br><span class="line">6</span><br><span class="line">&gt;&gt;&gt; f.close()</span><br></pre></td></tr></table></figure>

<p>读取</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; f = open(<span class="string">'d:/d/python/test/file/test.txt'</span>, <span class="string">'r'</span>)</span><br><span class="line">&gt;&gt;&gt; f.read(4)</span><br><span class="line"><span class="string">'Hell'</span></span><br><span class="line">&gt;&gt;&gt; f.read()</span><br><span class="line"><span class="string">'o. World!'</span></span><br></pre></td></tr></table></figure>

<p>在调用open时，r是默认的</p>
<h4 id="读写行"><a href="#读写行" class="headerlink" title="读写行"></a>读写行</h4><p>可以使用file.readline读取单独的一行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; f = open(<span class="string">'d:/d/python/test/file/test.txt'</span>, <span class="string">'r'</span>)</span><br><span class="line">&gt;&gt;&gt; f.readline()</span><br><span class="line"><span class="string">'Hello. World!'</span></span><br><span class="line">&gt;&gt;&gt; f.close()</span><br></pre></td></tr></table></figure>

<h4 id="关闭文件"><a href="#关闭文件" class="headerlink" title="关闭文件"></a>关闭文件</h4><p>使用close()方法</p>
<h3 id="对文件内容进行迭代"><a href="#对文件内容进行迭代" class="headerlink" title="对文件内容进行迭代"></a>对文件内容进行迭代</h3><h4 id="按字节处理"><a href="#按字节处理" class="headerlink" title="按字节处理"></a>按字节处理</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">f=open(filename)</span><br><span class="line">char = f.read(1)</span><br><span class="line"><span class="keyword">while</span> char:</span><br><span class="line">  process(char) <span class="comment">#输出读取的内容</span></span><br><span class="line">  char = f.read(1)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>

<h4 id="按行操作"><a href="#按行操作" class="headerlink" title="按行操作"></a>按行操作</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">f=open(filename)</span><br><span class="line"><span class="keyword">while</span> True:</span><br><span class="line">  line = f.readline()</span><br><span class="line">  <span class="keyword">if</span> not line: <span class="built_in">break</span></span><br><span class="line">  process(line) <span class="comment">#输出读取的内容</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>

<h2 id="第12章-图形用户界面"><a href="#第12章-图形用户界面" class="headerlink" title="第12章 图形用户界面"></a>第12章 图形用户界面</h2><h3 id="推荐GUI工具-wxPython"><a href="#推荐GUI工具-wxPython" class="headerlink" title="推荐GUI工具 wxPython"></a>推荐GUI工具 <a href="https://wxpython.org/pages/downloads/" target="_blank" rel="noopener">wxPython</a></h3><h4 id="安装wxPython"><a href="#安装wxPython" class="headerlink" title="安装wxPython"></a>安装wxPython</h4><p>先确认pip 是否安装，未安装的话，请按照下面步骤处理</p>
<ol>
<li>打开windows的PowerShell或是命令提示符，输入以下内容 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py</span><br></pre></td></tr></table></figure></li>
<li>等待下载完成后，输入 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python get-pip.py</span><br></pre></td></tr></table></figure>
 完成pip的安装</li>
</ol>
<p>确认pip安装完成后，在windows的PowerShell或是命令提示符下输入</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install -U wxPython</span><br></pre></td></tr></table></figure>

<h4 id="创建GUI界面"><a href="#创建GUI界面" class="headerlink" title="创建GUI界面"></a>创建GUI界面</h4><p>提示安装成功后，我们就可以开始学习Python的图形编程了。</p>
<p>Hello World界面</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import wx <span class="comment">#导入wx模块</span></span><br><span class="line"></span><br><span class="line">app = wx.App() <span class="comment">#界面初始化</span></span><br><span class="line"></span><br><span class="line">frm = wx.Frame(None, title=<span class="string">"Hello, World!"</span>)</span><br><span class="line"></span><br><span class="line">frm.Show()</span><br><span class="line"></span><br><span class="line">app.MainLoop()</span><br></pre></td></tr></table></figure>

<p>创建两个按钮及两个文本框</p>
<p><img src="/images/post/python-03.jpg" alt="目标样式"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import wx</span><br><span class="line"></span><br><span class="line">app = wx.App()</span><br><span class="line"></span><br><span class="line">frm = wx.Frame(None, title=<span class="string">"Hello, World!"</span>, size=(417, 343)) <span class="comment">#默认尺寸</span></span><br><span class="line">frm.Show()</span><br><span class="line"></span><br><span class="line">loadbtn = wx.Button(frm, label=<span class="string">'Open'</span>,</span><br><span class="line">                    pos=(225, 5), size=(80, 25))</span><br><span class="line">savebtn = wx.Button(frm, label=<span class="string">'Save'</span>,  <span class="comment">#标签label, pos坐标</span></span><br><span class="line">                    pos=(315, 5), size=(80, 25))</span><br><span class="line">filename = wx.TextCtrl(frm, pos=(5, 5), size=(210, 25))</span><br><span class="line">contents = wx.TextCtrl(frm, pos=(5, 36), size=(390, 260),</span><br><span class="line">                       style=wx.TE_MULTILINE | wx.HSCROLL)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.MainLoop()</span><br></pre></td></tr></table></figure>

<h4 id="更智能的布局"><a href="#更智能的布局" class="headerlink" title="更智能的布局"></a>更智能的布局</h4><p>利用背景组件wx.Panel，创建一些嵌套的wx.BoxSizer,解决固定高宽的问题。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import wx</span><br><span class="line"></span><br><span class="line">app = wx.App()</span><br><span class="line"></span><br><span class="line">frm = wx.Frame(None, title=<span class="string">"Hello, World!"</span>, size=(417, 343))</span><br><span class="line">bkg = wx.Panel(frm)</span><br><span class="line"></span><br><span class="line">loadbtn = wx.Button(bkg, label=<span class="string">'Open'</span>)</span><br><span class="line">savebtn = wx.Button(bkg, label=<span class="string">'Save'</span>)</span><br><span class="line">filename = wx.TextCtrl(bkg)</span><br><span class="line">contents = wx.TextCtrl(bkg, style=wx.TE_MULTILINE | wx.HSCROLL)</span><br><span class="line"></span><br><span class="line">hbox = wx.BoxSizer()</span><br><span class="line">hbox.Add(filename, proportion=1, flag=wx.EXPAND)</span><br><span class="line">hbox.Add(loadbtn, proportion=0, flag=wx.LEFT, border=5)</span><br><span class="line">hbox.Add(savebtn, proportion=0, flag=wx.LEFT, border=5)</span><br><span class="line"></span><br><span class="line">vbox = wx.BoxSizer(wx.VERTICAL)</span><br><span class="line">vbox.Add(hbox, proportion=0, flag=wx.EXPAND | wx.ALL, border=5)</span><br><span class="line">vbox.Add(contents, proportion=1,</span><br><span class="line">         flag=wx.EXPAND | wx.LEFT | wx.BOTTOM | wx.RIGHT, border=5)</span><br><span class="line">bkg.SetSizer(vbox)</span><br><span class="line"></span><br><span class="line">frm.Show()</span><br><span class="line">app.MainLoop()</span><br></pre></td></tr></table></figure>

<p>wx.BoxSizer函数，它决定窗体是按照垂直还是水平进行设置（wx.HORIZONTAL | wx.VERTICAL），默认为水平<br>Add函数，proportion参数根据在窗口改变大小事所分配的空间设置比例<br>        flag参数可以使用按位或运算符链接构成位置，wx.EXPAND标记确保组件会扩展到所分配的空间中。</p>
<h4 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h4><p>使用.Bind来关联事件<br>loadbtn.Bind(wx.EVT_BUTTON, load)</p>
<p>完成版代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import wx</span><br><span class="line"></span><br><span class="line"><span class="comment">#读取文件并写入contents区域</span></span><br><span class="line">def load(event):</span><br><span class="line">    file = open(filename.GetValue(), <span class="string">'r'</span>)</span><br><span class="line">    contents.SetValue(file.read())</span><br><span class="line">    file.close()</span><br><span class="line"></span><br><span class="line">def save(event):</span><br><span class="line">    file = open(filename.GetValue(), <span class="string">'w'</span>)</span><br><span class="line">    file.write(contents.GetValue())</span><br><span class="line">    file.close()</span><br><span class="line"></span><br><span class="line">app = wx.App()</span><br><span class="line"></span><br><span class="line">frm = wx.Frame(None, title=<span class="string">"Hello, World!"</span>, size=(417, 343))</span><br><span class="line">bkg = wx.Panel(frm)</span><br><span class="line"></span><br><span class="line">loadbtn = wx.Button(bkg, label=<span class="string">'Open'</span>)</span><br><span class="line">loadbtn.Bind(wx.EVT_BUTTON, load)</span><br><span class="line">savebtn = wx.Button(bkg, label=<span class="string">'Save'</span>)</span><br><span class="line">savebtn.Bind(wx.EVT_BUTTON, save)</span><br><span class="line">filename = wx.TextCtrl(bkg)</span><br><span class="line">contents = wx.TextCtrl(bkg, style=wx.TE_MULTILINE | wx.HSCROLL)</span><br><span class="line"></span><br><span class="line">hbox = wx.BoxSizer()</span><br><span class="line">hbox.Add(filename, proportion=1, flag=wx.EXPAND)</span><br><span class="line">hbox.Add(loadbtn, proportion=0, flag=wx.LEFT, border=5)</span><br><span class="line">hbox.Add(savebtn, proportion=0, flag=wx.LEFT, border=5)</span><br><span class="line"></span><br><span class="line">vbox = wx.BoxSizer(wx.VERTICAL)</span><br><span class="line">vbox.Add(hbox, proportion=0, flag=wx.EXPAND | wx.ALL, border=5)</span><br><span class="line">vbox.Add(contents, proportion=1,</span><br><span class="line">         flag=wx.EXPAND | wx.LEFT | wx.BOTTOM | wx.RIGHT, border=5)</span><br><span class="line">bkg.SetSizer(vbox)</span><br><span class="line"></span><br><span class="line">frm.Show()</span><br><span class="line">app.MainLoop()</span><br></pre></td></tr></table></figure>

<h2 id="第13章-数据库连接（MySQL）"><a href="#第13章-数据库连接（MySQL）" class="headerlink" title="第13章 数据库连接（MySQL）"></a>第13章 数据库连接（MySQL）</h2><h3 id="PyMySQL-（支持python3-0）"><a href="#PyMySQL-（支持python3-0）" class="headerlink" title="PyMySQL （支持python3.0）"></a>PyMySQL （支持python3.0）</h3><h4 id="PyMySQL安装"><a href="#PyMySQL安装" class="headerlink" title="PyMySQL安装"></a>PyMySQL安装</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install PyMySQL</span><br></pre></td></tr></table></figure>

<h4 id="MySQL连接"><a href="#MySQL连接" class="headerlink" title="MySQL连接"></a>MySQL连接</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import pymysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打开数据库连接</span></span><br><span class="line">db = pymysql.connect(<span class="string">"localhost"</span>,<span class="string">"root"</span>,<span class="string">"password"</span>,<span class="string">"TESTDB"</span> )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 cursor() 方法创建一个游标对象 cursor</span></span><br><span class="line">cursor = db.cursor()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 execute()  方法执行 SQL 查询 </span></span><br><span class="line">cursor.execute(<span class="string">"SELECT VERSION()"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 fetchone() 方法获取单条数据.</span></span><br><span class="line">data = cursor.fetchone()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> (<span class="string">"Database version : %s "</span> % data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭数据库连接</span></span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure>

<h4 id="创建数据库表"><a href="#创建数据库表" class="headerlink" title="创建数据库表"></a>创建数据库表</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import pymysql</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 打开数据库连接</span></span><br><span class="line">db = pymysql.connect(<span class="string">"localhost"</span>,<span class="string">"root"</span>,<span class="string">""</span>,<span class="string">"TESTDB"</span> )</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 使用 cursor() 方法创建一个游标对象 cursor</span></span><br><span class="line">cursor = db.cursor()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 使用 execute() 方法执行 SQL，如果表存在则删除</span></span><br><span class="line">cursor.execute(<span class="string">"DROP TABLE IF EXISTS EMPLOYEE"</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 使用预处理语句创建表</span></span><br><span class="line">sql = <span class="string">""</span><span class="string">"CREATE TABLE EMPLOYEE (</span></span><br><span class="line"><span class="string">         FIRST_NAME  CHAR(20) NOT NULL,</span></span><br><span class="line"><span class="string">         LAST_NAME  CHAR(20),</span></span><br><span class="line"><span class="string">         AGE INT,  </span></span><br><span class="line"><span class="string">         SEX CHAR(1),</span></span><br><span class="line"><span class="string">         INCOME FLOAT )"</span><span class="string">""</span></span><br><span class="line"> </span><br><span class="line">cursor.execute(sql)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 关闭数据库连接</span></span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure>

<p><img src="/images/post/python-04.jpg" alt="数据库截图"></p>
<h4 id="对数据库进行插入操作"><a href="#对数据库进行插入操作" class="headerlink" title="对数据库进行插入操作"></a>对数据库进行插入操作</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import pymysql</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 打开数据库连接</span></span><br><span class="line">db = pymysql.connect(<span class="string">"localhost"</span>,<span class="string">"testuser"</span>,<span class="string">"test123"</span>,<span class="string">"TESTDB"</span> )</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 使用cursor()方法获取操作游标 </span></span><br><span class="line">cursor = db.cursor()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># SQL 插入语句</span></span><br><span class="line">sql = <span class="string">""</span><span class="string">"INSERT INTO EMPLOYEE(FIRST_NAME,</span></span><br><span class="line"><span class="string">         LAST_NAME, AGE, SEX, INCOME)</span></span><br><span class="line"><span class="string">         VALUES ('Mac', 'Mohan', 20, 'M', 2000)"</span><span class="string">""</span></span><br><span class="line">try:</span><br><span class="line">   <span class="comment"># 执行sql语句</span></span><br><span class="line">   cursor.execute(sql)</span><br><span class="line">   <span class="comment"># 提交到数据库执行</span></span><br><span class="line">   db.commit()</span><br><span class="line">except:</span><br><span class="line">   <span class="comment"># 如果发生错误则回滚</span></span><br><span class="line">   db.rollback()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 关闭数据库连接</span></span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure>

<h4 id="数据库查询操作"><a href="#数据库查询操作" class="headerlink" title="数据库查询操作"></a>数据库查询操作</h4><p>fetchone() 获取下一个查询结果集<br>fetchall() 接收全部的返回结果行<br>rowcount 返回执行exeecute()方法后影响的行数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import pymysql</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 打开数据库连接</span></span><br><span class="line">db = pymysql.connect(<span class="string">"localhost"</span>,<span class="string">"testuser"</span>,<span class="string">"test123"</span>,<span class="string">"TESTDB"</span> )</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 使用cursor()方法获取操作游标 </span></span><br><span class="line">cursor = db.cursor()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># SQL 查询语句</span></span><br><span class="line">sql = <span class="string">"SELECT * FROM EMPLOYEE \</span></span><br><span class="line"><span class="string">       WHERE INCOME &gt; '%d'"</span> % (1000)</span><br><span class="line">try:</span><br><span class="line">   <span class="comment"># 执行SQL语句</span></span><br><span class="line">   cursor.execute(sql)</span><br><span class="line">   <span class="comment"># 获取所有记录列表</span></span><br><span class="line">   results = cursor.fetchall()</span><br><span class="line">   <span class="keyword">for</span> row <span class="keyword">in</span> results:</span><br><span class="line">      fname = row[0]</span><br><span class="line">      lname = row[1]</span><br><span class="line">      age = row[2]</span><br><span class="line">      sex = row[3]</span><br><span class="line">      income = row[4]</span><br><span class="line">       <span class="comment"># 打印结果</span></span><br><span class="line">      <span class="built_in">print</span> (<span class="string">"fname=%s,lname=%s,age=%d,sex=%s,income=%d"</span> % \</span><br><span class="line">             (fname, lname, age, sex, income ))</span><br><span class="line">except:</span><br><span class="line">   <span class="built_in">print</span> (<span class="string">"Error: unable to fetch data"</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 关闭数据库连接</span></span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure>

<h4 id="数据库更新操作"><a href="#数据库更新操作" class="headerlink" title="数据库更新操作"></a>数据库更新操作</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import pymysql</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 打开数据库连接</span></span><br><span class="line">db = pymysql.connect(<span class="string">"localhost"</span>,<span class="string">"testuser"</span>,<span class="string">"test123"</span>,<span class="string">"TESTDB"</span> )</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 使用cursor()方法获取操作游标 </span></span><br><span class="line">cursor = db.cursor()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># SQL 更新语句</span></span><br><span class="line">sql = <span class="string">"UPDATE EMPLOYEE SET AGE = AGE + 1 WHERE SEX = '%c'"</span> % (<span class="string">'M'</span>)</span><br><span class="line">try:</span><br><span class="line">   <span class="comment"># 执行SQL语句</span></span><br><span class="line">   cursor.execute(sql)</span><br><span class="line">   <span class="comment"># 提交到数据库执行</span></span><br><span class="line">   db.commit()</span><br><span class="line">except:</span><br><span class="line">   <span class="comment"># 发生错误时回滚</span></span><br><span class="line">   db.rollback()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 关闭数据库连接</span></span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure>

<h4 id="数据库的删除操作"><a href="#数据库的删除操作" class="headerlink" title="数据库的删除操作"></a>数据库的删除操作</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import pymysql</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 打开数据库连接</span></span><br><span class="line">db = pymysql.connect(<span class="string">"localhost"</span>,<span class="string">"testuser"</span>,<span class="string">"test123"</span>,<span class="string">"TESTDB"</span> )</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 使用cursor()方法获取操作游标 </span></span><br><span class="line">cursor = db.cursor()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># SQL 删除语句</span></span><br><span class="line">sql = <span class="string">"DELETE FROM EMPLOYEE WHERE AGE &gt; '%d'"</span> % (20)</span><br><span class="line">try:</span><br><span class="line">   <span class="comment"># 执行SQL语句</span></span><br><span class="line">   cursor.execute(sql)</span><br><span class="line">   <span class="comment"># 提交修改</span></span><br><span class="line">   db.commit()</span><br><span class="line">except:</span><br><span class="line">   <span class="comment"># 发生错误时回滚</span></span><br><span class="line">   db.rollback()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 关闭连接</span></span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>编程</tag>
        <tag>Python</tag>
      </tags>
  </entry>
</search>
